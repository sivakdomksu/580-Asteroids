!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),r=1200,h=650,o=.2,n=1,a=.4,c=.65,l=8,u=1e3,d=3;let p=0;var f,g,y;!function(t){t[t.OUT_OF_BOUNDS=0]="OUT_OF_BOUNDS",t[t.LIVES=1]="LIVES",t[t.COLLISION=2]="COLLISION"}(f||(f={})),function(t){t[t.HIT=0]="HIT",t[t.DESTROYED=1]="DESTROYED"}(g||(g={})),function(t){t[t.PLAYER=0]="PLAYER",t[t.ENEMY=1]="ENEMY"}(y||(y={}));class m{constructor(t,e,s,i){this.minX=t,this.minY=e,this.maxX=s,this.maxY=i}isInBounds(t,e,s){return t>=this.minX&&e>=this.minY&&t+s.getWidth()<=this.maxX&&e+s.getHeight()<=this.maxY}}class E extends m{constructor(){super(0,0,0,0)}isInBounds(t,e,s){return!0}}class O{constructor(t,e){this.color=t,this.mass=e}isCollidingWith(t,e,s){if(e instanceof w)return this.isCollidingWithRectangle(t,e,s);if(e instanceof v)return this.isCollidingWithCircle(t,e,s);throw new Error("Unknown shape type: "+e)}}class w extends O{constructor(t,e,s,i){super(s,i),this.width=t,this.height=e}getHeight(){return this.height}getWidth(){return this.width}render(t){t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height)}isCollidingWithCircle(t,e,s){return e.isCollidingWithRectangle(s,this,t)}isCollidingWithRectangle(t,e,s){return t.x<s.x+e.getWidth()&&t.x+this.getWidth()>s.x&&t.y<s.y+e.getHeight()&&t.y+this.getHeight()>s.y}}class v extends O{constructor(t,e,s){super(e,s),this.radius=t}getHeight(){return 2*this.radius}getWidth(){return 2*this.radius}render(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.radius,this.radius,this.radius,0,2*Math.PI),t.fill()}isCollidingWithRectangle(t,e,s){let r=i.clamp(this.center(t.x),s.x,s.x+e.getWidth()),h=i.clamp(this.center(t.y),s.y,s.y+e.getHeight()),o=this.center(t.x)-r,n=this.center(t.y)-h;return o*o+n*n<this.radius*this.radius}isCollidingWithCircle(t,e,s){return Math.pow(this.center(s.x)-this.center(t.x),2)+Math.pow(this.center(t.y)-this.center(s.y),2)<Math.pow(this.radius+e.radius,2)}center(t){return t+this.radius}}class S{constructor(t,e,s){this.shape=t,this.boundary=e,this.move=s}}class x extends S{constructor(t,e,s,i,r,h,o,n){super(i,r,h),this.role=t,this.lives=e,this.shotFreq=s,this.shot=o,this.bounties=n}}class M extends S{constructor(t,e,s,i){super(e,s,i),this.dmg=t}}class L{constructor(){}move(t,e=0,s=null,i=null){throw new Error("Not Implemented!")}}class T extends L{constructor(t){super(),this.vector=t}move(t,e=0,s=null,r=null){return i.default.from(this.vector.x*t,this.vector.y*t)}copy(){return new T(i.default.fromOther(this.vector))}setRotation(t){return this.vector.rotate(t),this}getVector(){return this.vector}}class I extends L{constructor(t){super(),this.decSpeed=t,this.lastVector=i.default.zero()}move(t,e,s,r){let h=i.default.fromOther(r);return h.scale(0===s.dec?1:s.curr/(s.curr+s.dec)),s.acc>0&&h.add(i.default.construct(s.acc,e)),this.lastVector=i.default.fromOther(h).scale(1/t),h}copy(){return new I(this.decSpeed)}setRotation(t){return this}getVector(){return this.lastVector}}class D{constructor(t,e){this.url=t,this.q=[];for(let s=0;s<e;s++)this.q.push(new Audio(t))}play(){let t=this.q.pop();if(!t)return void console.error("Audio Pool is not big enough!",this.url);t.currentTime=0;const e=t.play();void 0!==e&&e.then(e=>{this.q.push(t)})}}const R={PLAYER:new class extends w{constructor(t,e,s,i,r){super(t,e,s,i),this.char=r,this.char=this.char.charAt(0)}render(t){super.render(t),t.font="20px Arial",t.fillStyle="#ffffff";let e=t.measureText(this.char).width;t.fillText(this.char,.5*this.width-.5*e,.5*this.height+10)}}(20,35,"#6a7fed",10,"A"),ASTEROID_S:new v(20,"#ff2766",10),ASTEROID_M:new v(40,"#bb2c5b",20),ASTEROID_L:new v(80,"#a3163e",30),SHOT:new w(5,5,"#ffffff",0),CLOUD:new w(150,150,"#0a1e3a",0)},A={NONE:new E,SHOT:new m(-R.ASTEROID_L.getWidth(),-R.ASTEROID_L.getHeight(),r+R.ASTEROID_L.getWidth(),h+R.ASTEROID_L.getWidth()),CLOUD:new m(-R.CLOUD.width,-R.CLOUD.height,r+R.CLOUD.width,h+R.CLOUD.height)},_={BOUNTY_S:(t,e,s)=>{s==g.DESTROYED&&(p+=50)},BOUNTY_M:(t,e,s)=>{s==g.HIT&&(p+=30)},BOUNTY_L:(t,e,s)=>{s==g.HIT&&(p+=10)}},C={PLAYER:new I(a),ENEMY_SIMPLE:new T(i.default.from(0,.1)),PLAYER_SHOT:new T(i.default.from(0,-.5)),ENEMY_SHOT:new T(i.default.from(0,.4)),CLOUD:new T(i.default.from(0,.05))},Y={PLAYER:new M(1,R.SHOT,A.SHOT,C.PLAYER_SHOT),ENEMY:new M(1,R.SHOT,A.SHOT,C.ENEMY_SHOT)},b={PLAYER:new x(y.PLAYER,1,0,R.PLAYER,A.NONE,C.PLAYER,Y.PLAYER,[]),ASTEROID_S:new x(y.ENEMY,1,0,R.ASTEROID_S,A.NONE,C.ENEMY_SIMPLE,Y.PLAYER,[_.BOUNTY_S]),ASTEROID_M:new x(y.ENEMY,1,0,R.ASTEROID_M,A.NONE,C.ENEMY_SIMPLE,Y.ENEMY,[_.BOUNTY_M]),ASTEROID_L:new x(y.ENEMY,1,0,R.ASTEROID_L,A.NONE,C.ENEMY_SIMPLE,Y.ENEMY,[_.BOUNTY_L])},H={CLOUD:new class extends S{constructor(t,e,s){super(t,e,s)}}(R.CLOUD,A.CLOUD,C.CLOUD)},N={PLAYER_SHOT:new D("audio/Shot.wav",5),COLLISION:new D("audio/Collision.wav",10)};class P{constructor(t,e,s,r,h,o){this.id=t,this.type=e,this.x=s,this.y=r,this.rot=h,this.onDestroyed=o,this.rotation=0,this.move=null,this.moveVector=i.default.zero(),this.speed=0,this.move=e.move.copy().setRotation(h)}update(t,e=0,s=!1){this.moveVector=this.move.move(t);let r=i.default.from(this.x,this.y);this.type.boundary.isInBounds(this.x+this.moveVector.x,this.y+this.moveVector.y,this.type.shape)?(this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.type.boundary instanceof E&&this.warpToOtherSide(r)):this.type!=b.PLAYER&&this.onDestroyed(this,f.OUT_OF_BOUNDS)}warpToOtherSide(t){this.x>r&&!(t.x>r)?this.x=-this.getWidth():this.x+this.getWidth()<0&&!(t.x+this.getWidth()<0)&&(this.x=r),this.y>h&&!(t.y>h)?this.y=-this.getHeight():this.y+this.getHeight()<0&&!(t.y+this.getHeight()<0)&&(this.y=h)}isCollidingWith(t){return this.type.shape.isCollidingWith(i.default.from(this.x,this.y),t.type.shape,i.default.from(t.x,t.y))}render(t){t.save(),t.translate(this.x+.5*this.getWidth(),this.y+.5*this.getHeight()),t.rotate(i.rad(this.rotation)),t.translate(-.5*this.getWidth(),-.5*this.getHeight()),this.type.shape.render(t),t.restore()}getWidth(){return this.type.shape.getWidth()}getHeight(){return this.type.shape.getHeight()}getColor(){return this.type.shape.color}getMass(){return this.type.shape.mass}}class W extends P{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e,this.lives=e.lives}onHit(t){{let e=function(t,e){let s=i.default.from(e.x+.5*e.getWidth()-(t.x+.5*t.getWidth()),e.y+.5*e.getHeight()-(t.y+.5*t.getHeight())).normalize(),r=i.default.perpendicular(s),h=i.default.dotProduct(s,t.move.getVector()),o=i.default.dotProduct(r,t.move.getVector()),n=i.default.dotProduct(s,e.move.getVector()),a=i.default.dotProduct(r,e.move.getVector()),c=o,l=a,u=(h*(t.getMass()-e.getMass())+2*e.getMass()*n)/(t.getMass()+e.getMass()),d=(n*(e.getMass()-t.getMass())+2*t.getMass()*h)/(t.getMass()+e.getMass());N.COLLISION.play();for(;t.isCollidingWith(e);)t.update(-10),e.update(-10);return{a:i.default.fromOther(s).scale(u).add(i.default.fromOther(r).scale(c)),b:i.default.fromOther(s).scale(d).add(i.default.fromOther(r).scale(l))}}(this,t);this.moveVector=e.a,t.moveVector=e.b,this.move=new T(e.a),t.move=new T(e.b),this.speed=l}this.lives<1&&(this.type.morph?function(t){let e=Q++,s=new W(e,t.type.morph,t.x,t.y,0,(t,s)=>{s==f.LIVES&&t.type.bounties.forEach(e=>e(t,null,g.DESTROYED)),et.delete(e)});t.type=t.type.morph,et.set(e,s),s.move=t.move.copy(),s.move.setRotation(-120),t.move.setRotation(120);for(;t.isCollidingWith(s);)t.update(10),s.update(10)}(this):this.onDestroyed(this,f.LIVES))}isAlive(){return this.lives>0}isInBounds(){return this.type.boundary.isInBounds(this.x,this.y,this.type.shape)}update(t,e=0,s=!1){if(super.update(t,e,s),this.type!==b.PLAYER)switch(Math.floor(Math.random()*this.type.shotFreq)){case 1:this.shoot()}}shoot(){let t=$,e=new U(t,this.type,this.type.shot,this.x+this.getWidth()/2,this.y+this.getHeight()/2,this.rotation,(t,e)=>{st.delete(t.id)});return this.moveVector.add(i.default.construct(c,this.rotation).scale(-1)),this.speed=Math.min(l,this.speed+c),st.set(t,e),$++,N.PLAYER_SHOT.play(),e}}class U extends P{constructor(t,e,s,i,r,h,o){super(t,s,i,r,h,o),this.initiator=e,this.type=s}isCollidingWith(t){return super.isCollidingWith(t)&&this.initiator!==t.type}onHit(t){let e=t;this.initiator!=e.type&&(e.type.bounties.forEach(t=>{t(e,this,g.HIT)}),e.lives-=this.type.dmg,e.onHit(this),this.onDestroyed(this,f.COLLISION))}}class V extends P{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h)}onHit(t){}}var k=document.getElementById("canvas").getContext("2d"),B=document.createElement("canvas");B.width=r,B.height=h;var j=B.getContext("2d"),q=null,z={space:!1,left:!1,right:!1,up:!1,down:!1},F={space:!1,left:!1,right:!1,up:!1,down:!1},X=new class extends W{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e}onHit(t){t instanceof W&&t.type.role==y.ENEMY&&this.lives--,this.lives<1&&this.onDestroyed(this,f.LIVES)}update(t,e=0,s=!1){this.rotation=i.mod(this.rotation+e*o*t,360);let r=this.speed;this.speed=Math.max(0,this.speed-a*t/100);let h=r-this.speed,c=0;r=this.speed,s&&(this.speed=Math.min(l,this.speed+n*t/100),c=this.speed-r),this.moveVector=this.move.move(t,this.rotation,{curr:r,dec:h,acc:c},this.moveVector);let u=i.default.from(this.x,this.y);this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.warpToOtherSide(u)}}(0,b.PLAYER,0,0,0,()=>{ot(),rt=!1,confirm("Game over!")&&location.reload()});X.x=r/2-X.getWidth()/2,X.y=h-X.getHeight();var J=document.getElementById("score_text"),G=document.getElementById("lives_text"),Z=document.getElementById("level_text"),K=0,Q=0,$=0,tt=0,et=new Map,st=new Map,it=new Map,rt=!0;let ht=new class{constructor(t,e,s){this.levelScale=t,this.enemyCounter=e,this.cooldown=s,this.level=0,this.levelSpawns=1,this.passedSpawns=!1,this.currCooldown=0,this.state=0,this.reset()}updateLevel(t){switch(this.state){case 0:this.checkAllSpawned();break;case 1:this.checkAllDestroyed();break;case 2:this.checkCooldown(t)}return 0==this.state}reset(){this.level++,this.levelSpawns=this.levelScale(this.level),this.passedSpawns=!1,this.currCooldown=0,this.state=0}getLimit(){return this.levelSpawns}getLevel(){return this.level}checkAllSpawned(){this.enemyCounter()>=this.levelSpawns&&(this.state=1)}checkAllDestroyed(){0==this.enemyCounter()&&(this.state=2)}checkCooldown(t){this.currCooldown>this.cooldown?this.raiseLevel():this.currCooldown+=t}raiseLevel(){this.reset()}}(t=>2*t,()=>et.size,3e3);function ot(t=null){J.innerText=""+p,G.innerText=""+X.lives,null!==t&&(Z.innerText=""+t)}b.ASTEROID_M.morph=b.ASTEROID_S,b.ASTEROID_L.morph=b.ASTEROID_M,window.addEventListener("keydown",function(t){switch(t.key){case" ":t.preventDefault(),z.space=!0;break;case"ArrowUp":case"w":t.preventDefault(),z.up=!0;break;case"ArrowLeft":case"a":t.preventDefault(),z.left=!0;break;case"ArrowRight":case"d":t.preventDefault(),z.right=!0}}),window.addEventListener("keyup",function(t){switch(t.key){case" ":z.space=!1;break;case"ArrowUp":case"w":z.up=!1;break;case"ArrowLeft":case"a":z.left=!1;break;case"ArrowRight":case"d":z.right=!1}}),window.requestAnimationFrame(function t(e){if(!rt)return;ot(ht.getLevel()),q||(q=e);let s=e-q;q=e,ht.updateLevel(s)&&function(t){if((K+=t)>u&&(K=0,Math.random()*d<1)){let t=Q,e=b.ASTEROID_M;switch(Math.floor(10*Math.random())){case 0:e=b.ASTEROID_L;break;case 1:e=b.ASTEROID_S}et.set(t,new W(t,e,Math.random()*(r-e.shape.getWidth()),-e.shape.getHeight(),360*Math.random(),(e,s)=>{s==f.LIVES&&e.type.bounties.forEach(t=>t(e,null,g.DESTROYED)),et.delete(t)})),Q++}}(s),function(){switch(Math.floor(100*Math.random())){case 1:let t=tt;it.set(t,new V(t,H.CLOUD,Math.random()*r,-H.CLOUD.shape.getHeight(),0,(t,e)=>{it.delete(t.id)})),tt++}}(),function(t){z.space&&!F.space&&X.shoot(),X.update(t,z.left?-1:z.right?1:0,z.up),et.forEach(e=>e.update(t)),st.forEach(e=>e.update(t));let e=[];st.forEach(t=>{e.push({a:t,b:X}),et.forEach(s=>{e.push({a:t,b:s})})});let s=[];et.forEach(t=>s.push(t));for(let t=0;t<s.length;t++){e.push({a:X,b:s[t]});for(let i=t+1;i<s.length;i++)e.push({a:s[t],b:s[i]})}it.forEach(e=>e.update(t)),function(t){t.forEach(t=>{t.a.isCollidingWith(t.b)&&t.a.onHit(t.b)})}(e)}(s),j.clearRect(0,0,r,h),it.forEach(t=>t.render(j)),X.render(j),et.forEach(t=>t.render(j)),st.forEach(t=>t.render(j)),F=JSON.parse(JSON.stringify(z)),k.clearRect(0,0,r,h),k.drawImage(B,0,0),window.requestAnimationFrame(t)})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this.x=t,this.y=e}static from(t,e){return new i(t,e)}static fromOther(t){return new i(t.x,t.y)}static zero(){return new i(0,0)}static construct(t,e){return new i(t*Math.cos(r(e)),t*Math.sin(r(e))).rotate(-90)}isZero(){return 0==this.x&&0==this.y}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}static add(t,e){return i.fromOther(t).add(e)}add(t){return this.x+=t.x,this.y+=t.y,this}static rotate(t,e){return i.fromOther(t).rotate(e)}rotate(t){let e=this.x;return this.x=this.x*Math.cos(r(t))-this.y*Math.sin(r(t)),this.y=e*Math.sin(r(t))+this.y*Math.cos(r(t)),this}static scale(t,e){return i.fromOther(t).scale(e)}scale(t){return this.x*=t,this.y*=t,this}static normalize(t){return i.fromOther(t).normalize()}normalize(){return 0===this.magnitude()?this:this.scale(1/this.magnitude())}static perpendicular(t){return i.fromOther(t).perpendicular()}perpendicular(){let t=this.x;return this.x=-this.y,this.y=t,this}static dotProduct(t,e){return t.x*e.x+t.y*e.y}dotProduct(t){return i.dotProduct(this,t)}}function r(t){return t*(Math.PI/180)}e.default=i,e.mod=function(t,e){return(t%e+e)%e},e.rad=r,e.clamp=function(t,e,s){return Math.min(Math.max(t,e),s)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzdGVyb2lkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidmVjdG9yXzEiLCJXSURUSCIsIkhFSUdIVCIsIlJPVEFUSU9OX1NQRUVEIiwiQUNDX1NQRUVEIiwiREVDRUxFUkFUSU9OX1NQRUVEIiwiS05PQ0tfQkFDSyIsIk1BWF9TUEVFRCIsIkVORU1ZX1NQQVdOX1JBVEUiLCJFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSIsInNjb3JlIiwiRGVhdGhDYXVzZUVudW0iLCJIaXRUeXBlRW51bSIsIlJvbGUiLCJCb3VuZGFyeSIsIltvYmplY3QgT2JqZWN0XSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ0aGlzIiwieCIsInkiLCJzaGFwZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiTm9Cb3VuZGFyeSIsInN1cGVyIiwiU2hhcGUiLCJjb2xvciIsIm1hc3MiLCJwb3MiLCJvdGhlciIsIm90aGVyUG9zIiwiUmVjdGFuZ2xlIiwiaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlIiwiQ2lyY2xlIiwiaXNDb2xsaWRpbmdXaXRoQ2lyY2xlIiwiRXJyb3IiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJhZGl1cyIsImJlZ2luUGF0aCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJjbG9zZXN0WCIsImNsYW1wIiwiY2VudGVyIiwiY2xvc2VzdFkiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJwb3ciLCJHYW1lT2JqZWN0VHlwZSIsImJvdW5kYXJ5IiwibW92ZSIsIlVuaXRUeXBlIiwicm9sZSIsImxpdmVzIiwic2hvdEZyZXEiLCJzaG90IiwiYm91bnRpZXMiLCJTaG90VHlwZSIsImRtZyIsIk1vdmUiLCJlbGFwc2VkVGltZSIsInJvdGF0aW9uIiwic3BlZWQiLCJtb3ZlVmVjdG9yIiwiQ29uc3RhbnRNb3ZlIiwidmVjdG9yIiwiZGVmYXVsdCIsImZyb20iLCJmcm9tT3RoZXIiLCJyb3RhdGUiLCJEeW5hbWljTW92ZSIsImRlY1NwZWVkIiwibGFzdFZlY3RvciIsInplcm8iLCJzY2FsZSIsImRlYyIsImN1cnIiLCJhY2MiLCJhZGQiLCJjb25zdHJ1Y3QiLCJBdWRpb1Bvb2wiLCJ1cmwiLCJjb3VudCIsInEiLCJwdXNoIiwiQXVkaW8iLCJhdWRpbyIsInBvcCIsImNvbnNvbGUiLCJlcnJvciIsImN1cnJlbnRUaW1lIiwicHJvbWlzZSIsInBsYXkiLCJ1bmRlZmluZWQiLCJ0aGVuIiwiU2hhcGVFbnVtIiwiUExBWUVSIiwiY2hhciIsImNoYXJBdCIsInJlbmRlciIsImZvbnQiLCJ0eHRXaWR0aCIsIm1lYXN1cmVUZXh0IiwiZmlsbFRleHQiLCJBU1RFUk9JRF9TIiwiQVNURVJPSURfTSIsIkFTVEVST0lEX0wiLCJTSE9UIiwiQ0xPVUQiLCJCb3VuZGFyeUVudW0iLCJOT05FIiwiQm91bnR5RW51bSIsIkJPVU5UWV9TIiwiZW5lbXkiLCJ0eXBlIiwiREVTVFJPWUVEIiwiQk9VTlRZX00iLCJISVQiLCJCT1VOVFlfTCIsIk1vdmVUeXBlRW51bSIsIkVORU1ZX1NJTVBMRSIsIlBMQVlFUl9TSE9UIiwiRU5FTVlfU0hPVCIsIlNob3RUeXBlRW51bSIsIkVORU1ZIiwiVW5pdFR5cGVFbnVtIiwiRW52aXJvbm1lbnRUeXBlRW51bSIsIkF1ZGlvUG9vbEVudW0iLCJDT0xMSVNJT04iLCJHYW1lT2JqZWN0IiwiaWQiLCJyb3QiLCJvbkRlc3Ryb3llZCIsImNvcHkiLCJzZXRSb3RhdGlvbiIsIm1vdmVtZW50Iiwib2xkIiwiaXNJbkJvdW5kcyIsIndhcnBUb090aGVyU2lkZSIsIk9VVF9PRl9CT1VORFMiLCJpc0NvbGxpZGluZ1dpdGgiLCJzYXZlIiwidHJhbnNsYXRlIiwicmFkIiwicmVzdG9yZSIsIlVuaXQiLCJjb2xsaXNpb24iLCJhIiwiYiIsInVuIiwibm9ybWFsaXplIiwidXQiLCJwZXJwZW5kaWN1bGFyIiwidjFuIiwiZG90UHJvZHVjdCIsImdldFZlY3RvciIsInYxdCIsInYybiIsInYydCIsInZfMXQiLCJ2XzJ0Iiwidl8xbiIsImdldE1hc3MiLCJ2XzJuIiwidXBkYXRlIiwiY29sbGlkZSIsIm1vcnBoIiwidW5pdCIsImVuZW15SWRDb3VudGVyIiwiY2F1c2UiLCJMSVZFUyIsImZvckVhY2giLCJib3VudHkiLCJlbmVtaWVzIiwiZGVsZXRlIiwic2V0IiwiZmxvb3IiLCJyYW5kb20iLCJzaG9vdCIsInNob3RJZENvdW50ZXIiLCJTaG90Iiwic2hvdHMiLCJtaW4iLCJpbml0aWF0b3IiLCJvbkhpdCIsIkVudmlyb25tZW50IiwiZnJvbnRDb250ZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJiYWNrQ2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImJhY2tDb250ZXh0Iiwic3RhcnQiLCJjdXJyZW50SW5wdXQiLCJzcGFjZSIsImxlZnQiLCJyaWdodCIsInVwIiwiZG93biIsInByaW9ySW5wdXQiLCJwbGF5ZXIiLCJtb2QiLCJvbGRTcGVlZCIsIm1heCIsImFjY1NwZWVkIiwidXBkYXRlU3RhdHVzIiwicnVubmluZyIsImNvbmZpcm0iLCJsb2NhdGlvbiIsInJlbG9hZCIsInNjb3JlRWxlbWVudCIsImxpdmVzRWxlbWVudCIsImxldmVsRWxlbWVudCIsImVuZW15VGltZVRvU3Bhd24iLCJlbnZpcm9ubWVudElkQ291bnRlciIsIk1hcCIsImVudmlyb25tZW50cyIsImxldmVsIiwibGV2ZWxTY2FsZSIsImVuZW15Q291bnRlciIsImNvb2xkb3duIiwibGV2ZWxTcGF3bnMiLCJwYXNzZWRTcGF3bnMiLCJjdXJyQ29vbGRvd24iLCJzdGF0ZSIsInJlc2V0IiwiY2hlY2tBbGxTcGF3bmVkIiwiY2hlY2tBbGxEZXN0cm95ZWQiLCJjaGVja0Nvb2xkb3duIiwicmFpc2VMZXZlbCIsImx2bCIsInNpemUiLCJpbm5lclRleHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxvb3AiLCJ0aW1lc3RhbXAiLCJnZXRMZXZlbCIsInVwZGF0ZUxldmVsIiwiY3JlYXRlRW5lbXkiLCJjcmVhdGVFbnZpcm9ubWVudCIsImNvbGxpc2lvblBhaXJzIiwiZW5lbXlMaXN0IiwibGVuZ3RoIiwiaiIsInBhaXJzIiwiY2hlY2tDb2xsaXNpb25zIiwiY2xlYXJSZWN0IiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZHJhd0ltYWdlIiwiVmVjdG9yIiwibWFnbml0dWRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJzcXJ0Iiwib2xkWCIsInNjYWxhciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFB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IiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBWZWN0b3IsIHtjbGFtcCwgbW9kLCByYWR9IGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuY29uc3QgV0lEVEggPSAxMjAwO1xyXG5jb25zdCBIRUlHSFQgPSA2NTA7XHJcbmNvbnN0IFJPVEFUSU9OX1NQRUVEID0gMC4yO1xyXG5jb25zdCBBQ0NfU1BFRUQgPSAxO1xyXG5jb25zdCBERUNFTEVSQVRJT05fU1BFRUQgPSAwLjQ7XHJcbmNvbnN0IEtOT0NLX0JBQ0sgPSAwLjY1O1xyXG5jb25zdCBNQVhfU1BFRUQgPSA4O1xyXG5jb25zdCBFTkVNWV9SQURJVVMgPSAyMDtcclxuY29uc3QgRU5FTVlfU1BBV05fUkFURSA9IDEwMDA7XHJcbmNvbnN0IEVORU1ZX1NQQVdOX1BST0JBQklMSVRZID0gMztcclxuY29uc3QgRU5FTVlfU0NBTElORyA9IDI7XHJcbmNvbnN0IExWTF9DT09MRE9XTiA9IDMwMDA7XHJcblxyXG5sZXQgc2NvcmU6IG51bWJlciA9IDA7XHJcblxyXG4vL3JlZ2lvbiBHYW1lT2JqZWN0IHBhcnRzXHJcbnR5cGUgQm91bnR5Q2FsbGJhY2sgPSAoZW5lbXk6IFVuaXQsIHNob3Q6IFNob3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiBhbnk7XHJcbnR5cGUgTGV2ZWxTY2FsZSA9IChsZXZlbDogbnVtYmVyKSA9PiBudW1iZXI7XHJcbnR5cGUgU3BlZWRTdHJ1Y3QgPSB7IGN1cnI6IG51bWJlciwgZGVjOiBudW1iZXIsIGFjYzogbnVtYmVyIH1cclxudHlwZSBFbmRwb2ludCA9IHsgdmFsdWU6IG51bWJlciwgaXNNYXg6IGJvb2xlYW4sIG9iamVjdDogR2FtZU9iamVjdCB9XHJcbnR5cGUgQ29sbGlzaW9uUGFpciA9IHsgYTogR2FtZU9iamVjdCwgYjogVW5pdCB9XHJcbnR5cGUgQ29sbGlzaW9uUmVzdWx0ID0geyBhOiBWZWN0b3IsIGI6IFZlY3RvciB9XHJcblxyXG5lbnVtIERlYXRoQ2F1c2VFbnVtIHtcclxuICAgIE9VVF9PRl9CT1VORFMsXHJcbiAgICBMSVZFUyxcclxuICAgIENPTExJU0lPTlxyXG59XHJcblxyXG5lbnVtIEhpdFR5cGVFbnVtIHtcclxuICAgIEhJVCxcclxuICAgIERFU1RST1lFRFxyXG59XHJcblxyXG5lbnVtIFJvbGUge1xyXG4gICAgUExBWUVSLFxyXG4gICAgRU5FTVlcclxufVxyXG5cclxuY2xhc3MgQm91bmRhcnkge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG1pblg6IG51bWJlciwgcHVibGljIG1pblk6IG51bWJlciwgcHVibGljIG1heFg6IG51bWJlciwgcHVibGljIG1heFk6IG51bWJlcikge1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHNoYXBlOiBTaGFwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB4ID49IHRoaXMubWluWCAmJiB5ID49IHRoaXMubWluWSAmJiAoeCArIHNoYXBlLmdldFdpZHRoKCkpIDw9IHRoaXMubWF4WCAmJiAoeSArIHNoYXBlLmdldEhlaWdodCgpKSA8PSB0aGlzLm1heFk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE5vQm91bmRhcnkgZXh0ZW5kcyBCb3VuZGFyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLCAwLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0luQm91bmRzKHg6IG51bWJlciwgeTogbnVtYmVyLCBzaGFwZTogU2hhcGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgU2hhcGUge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBjb2xvcjogc3RyaW5nLCBwdWJsaWMgbWFzczogbnVtYmVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFdpZHRoKCk6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SGVpZ2h0KCk6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVuZGVyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShwb3M6IFZlY3Rvciwgb3RoZXI6IFJlY3RhbmdsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGlzQ29sbGlkaW5nV2l0aENpcmNsZShwb3M6IFZlY3Rvciwgb3RoZXI6IENpcmNsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGlkaW5nV2l0aChwb3M6IFZlY3Rvciwgb3RoZXI6IFNoYXBlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShwb3MsIG90aGVyLCBvdGhlclBvcyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvdGhlciBpbnN0YW5jZW9mIENpcmNsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0NvbGxpZGluZ1dpdGhDaXJjbGUocG9zLCBvdGhlciwgb3RoZXJQb3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gc2hhcGUgdHlwZTogXCIgKyBvdGhlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNsYXNzIFJlY3RhbmdsZSBleHRlbmRzIFNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIG1hc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGNvbG9yLCBtYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHRcclxuICAgIH1cclxuXHJcbiAgICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyLmlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShvdGhlclBvcywgdGhpcywgcG9zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKHBvczogVmVjdG9yLCBvdGhlcjogUmVjdGFuZ2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHBvcy54IDwgb3RoZXJQb3MueCArIG90aGVyLmdldFdpZHRoKCkgJiZcclxuICAgICAgICAgICAgcG9zLnggKyB0aGlzLmdldFdpZHRoKCkgPiBvdGhlclBvcy54ICYmXHJcbiAgICAgICAgICAgIHBvcy55IDwgb3RoZXJQb3MueSArIG90aGVyLmdldEhlaWdodCgpICYmXHJcbiAgICAgICAgICAgIHBvcy55ICsgdGhpcy5nZXRIZWlnaHQoKSA+IG90aGVyUG9zLnk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENoYXJSZWN0YW5nbGUgZXh0ZW5kcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIG1hc3M6IG51bWJlciwgcHJpdmF0ZSByZWFkb25seSBjaGFyOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0LCBjb2xvciwgbWFzcyk7XHJcbiAgICAgICAgdGhpcy5jaGFyID0gdGhpcy5jaGFyLmNoYXJBdCgwKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQpO1xyXG4gICAgICAgIGNvbnRleHQuZm9udCA9IFwiMjBweCBBcmlhbFwiO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgbGV0IHR4dFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLmNoYXIpLndpZHRoO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5jaGFyLCAwLjUgKiB0aGlzLndpZHRoIC0gMC41ICogdHh0V2lkdGgsIDAuNSAqIHRoaXMuaGVpZ2h0ICsgMC41ICogMjApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBTaGFwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmFkaXVzOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIG1hc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGNvbG9yLCBtYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMiAqIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDIgKiB0aGlzLnJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5hcmModGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGluZ1dpdGhSZWN0YW5nbGUocG9zOiBWZWN0b3IsIG90aGVyOiBSZWN0YW5nbGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgY2xvc2VzdFggPSBjbGFtcCh0aGlzLmNlbnRlcihwb3MueCksIG90aGVyUG9zLngsIG90aGVyUG9zLnggKyBvdGhlci5nZXRXaWR0aCgpKTtcclxuICAgICAgICBsZXQgY2xvc2VzdFkgPSBjbGFtcCh0aGlzLmNlbnRlcihwb3MueSksIG90aGVyUG9zLnksIG90aGVyUG9zLnkgKyBvdGhlci5nZXRIZWlnaHQoKSk7XHJcblxyXG4gICAgICAgIGxldCBkaXN0YW5jZVggPSB0aGlzLmNlbnRlcihwb3MueCkgLSBjbG9zZXN0WDtcclxuICAgICAgICBsZXQgZGlzdGFuY2VZID0gdGhpcy5jZW50ZXIocG9zLnkpIC0gY2xvc2VzdFk7XHJcblxyXG4gICAgICAgIGxldCBkaXN0YW5jZVNxdWFyZWQgPSAoZGlzdGFuY2VYICogZGlzdGFuY2VYKSArIChkaXN0YW5jZVkgKiBkaXN0YW5jZVkpO1xyXG4gICAgICAgIHJldHVybiBkaXN0YW5jZVNxdWFyZWQgPCAodGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGlkaW5nV2l0aENpcmNsZShwb3M6IFZlY3Rvciwgb3RoZXI6IENpcmNsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnBvdyh0aGlzLmNlbnRlcihvdGhlclBvcy54KSAtIHRoaXMuY2VudGVyKHBvcy54KSwgMilcclxuICAgICAgICAgICAgKyBNYXRoLnBvdyh0aGlzLmNlbnRlcihwb3MueSkgLSB0aGlzLmNlbnRlcihvdGhlclBvcy55KSwgMilcclxuICAgICAgICAgICAgPCBNYXRoLnBvdyh0aGlzLnJhZGl1cyArIG90aGVyLnJhZGl1cywgMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjZW50ZXIobjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbiArIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHVibGljIHNoYXBlOiBTaGFwZSwgcHVibGljIGJvdW5kYXJ5OiBCb3VuZGFyeSwgcHVibGljIG1vdmU6IE1vdmUpIHtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFVuaXRUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgcHVibGljIG1vcnBoOiBVbml0VHlwZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcm9sZTogUm9sZSwgcHVibGljIGxpdmVzOiBudW1iZXIsIHB1YmxpYyBzaG90RnJlcTogbnVtYmVyLCBzaGFwZTogU2hhcGUsIGJvdW5kYXJ5OiBCb3VuZGFyeSwgbW92ZTogTW92ZSwgcHVibGljIHNob3Q6IFNob3RUeXBlLCBwdWJsaWMgYm91bnRpZXM6IEJvdW50eUNhbGxiYWNrW10pIHtcclxuICAgICAgICBzdXBlcihzaGFwZSwgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5jbGFzcyBTaG90VHlwZSBleHRlbmRzIEdhbWVPYmplY3RUeXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkbWc6IG51bWJlciwgc2hhcGU6IFNoYXBlLCBib3VuZGFyeTogQm91bmRhcnksIG1vdmU6IE1vdmUpIHtcclxuICAgICAgICBzdXBlcihzaGFwZSwgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVudmlyb25tZW50VHlwZSBleHRlbmRzIEdhbWVPYmplY3RUeXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHNoYXBlOiBTaGFwZSwgYm91bmRhcnk6IEJvdW5kYXJ5LCBtb3ZlOiBNb3ZlKSB7XHJcbiAgICAgICAgc3VwZXIoc2hhcGUsIGJvdW5kYXJ5LCBtb3ZlKVxyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBNb3ZlIHtcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBzcGVlZDogU3BlZWRTdHJ1Y3QgPSBudWxsLCBtb3ZlVmVjdG9yOiBWZWN0b3IgPSBudWxsKTogVmVjdG9yIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgSW1wbGVtZW50ZWQhXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGNvcHkoKTogTW92ZTtcclxuXHJcbiAgICBhYnN0cmFjdCBzZXRSb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogTW92ZTtcclxuXHJcbiAgICBhYnN0cmFjdCBnZXRWZWN0b3IoKTogVmVjdG9yO1xyXG59XHJcblxyXG5jbGFzcyBDb25zdGFudE1vdmUgZXh0ZW5kcyBNb3ZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2ZWN0b3I6IFZlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgc3BlZWQ6IFNwZWVkU3RydWN0ID0gbnVsbCwgbW92ZVZlY3RvcjogVmVjdG9yID0gbnVsbCk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tKHRoaXMudmVjdG9yLnggKiBlbGFwc2VkVGltZSwgdGhpcy52ZWN0b3IueSAqIGVsYXBzZWRUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29weSgpOiBNb3ZlIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbU90aGVyKHRoaXMudmVjdG9yKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzZXRSb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogTW92ZSB7XHJcbiAgICAgICAgdGhpcy52ZWN0b3Iucm90YXRlKHJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0VmVjdG9yKCk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBEeW5hbWljTW92ZSBleHRlbmRzIE1vdmUge1xyXG4gICAgcHJpdmF0ZSBsYXN0VmVjdG9yOiBWZWN0b3IgPSBWZWN0b3IuemVybygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGVjU3BlZWQ6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyLCBzcGVlZDogU3BlZWRTdHJ1Y3QsIG1vdmVWZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IHZlY3RvciA9IFZlY3Rvci5mcm9tT3RoZXIobW92ZVZlY3Rvcik7XHJcbiAgICAgICAgdmVjdG9yLnNjYWxlKHNwZWVkLmRlYyA9PT0gMCA/IDEgOiBzcGVlZC5jdXJyIC8gKHNwZWVkLmN1cnIgKyBzcGVlZC5kZWMpKTtcclxuICAgICAgICBpZiAoc3BlZWQuYWNjID4gMCkge1xyXG4gICAgICAgICAgICB2ZWN0b3IuYWRkKFZlY3Rvci5jb25zdHJ1Y3Qoc3BlZWQuYWNjLCByb3RhdGlvbikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxhc3RWZWN0b3IgPSBWZWN0b3IuZnJvbU90aGVyKHZlY3Rvcikuc2NhbGUoMSAvIGVsYXBzZWRUaW1lKTtcclxuICAgICAgICByZXR1cm4gdmVjdG9yO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb3B5KCk6IE1vdmUge1xyXG4gICAgICAgIHJldHVybiBuZXcgRHluYW1pY01vdmUodGhpcy5kZWNTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IE1vdmUge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRWZWN0b3IoKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0VmVjdG9yO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBdWRpb1Bvb2wge1xyXG4gICAgcHJpdmF0ZSBxOiBIVE1MQXVkaW9FbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHVybDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucS5wdXNoKG5ldyBBdWRpbyh1cmwpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKSB7XHJcbiAgICAgICAgbGV0IGF1ZGlvID0gdGhpcy5xLnBvcCgpO1xyXG4gICAgICAgIGlmICghYXVkaW8pIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF1ZGlvIFBvb2wgaXMgbm90IGJpZyBlbm91Z2ghXCIsIHRoaXMudXJsKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhdWRpby5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnEucHVzaChhdWRpbyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgU2hhcGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgQ2hhclJlY3RhbmdsZSgyMCwgMzUsIFwiIzZhN2ZlZFwiLCAxMCwgXCJBXCIpLFxyXG4gICAgQVNURVJPSURfUzogbmV3IENpcmNsZShFTkVNWV9SQURJVVMsIFwiI2ZmMjc2NlwiLCAxMCksXHJcbiAgICBBU1RFUk9JRF9NOiBuZXcgQ2lyY2xlKDIgKiBFTkVNWV9SQURJVVMsIFwiI2JiMmM1YlwiLCAyMCksXHJcbiAgICBBU1RFUk9JRF9MOiBuZXcgQ2lyY2xlKDQgKiBFTkVNWV9SQURJVVMsIFwiI2EzMTYzZVwiLCAzMCksXHJcbiAgICBTSE9UOiBuZXcgUmVjdGFuZ2xlKDUsIDUsIFwiI2ZmZmZmZlwiLCAwKSxcclxuICAgIENMT1VEOiBuZXcgUmVjdGFuZ2xlKDE1MCwgMTUwLCBcIiMwYTFlM2FcIiwgMClcclxufTtcclxuXHJcbmNvbnN0IEJvdW5kYXJ5RW51bSA9IHtcclxuICAgIE5PTkU6IG5ldyBOb0JvdW5kYXJ5KCksXHJcbiAgICBTSE9UOiBuZXcgQm91bmRhcnkoLVNoYXBlRW51bS5BU1RFUk9JRF9MLmdldFdpZHRoKCksIC1TaGFwZUVudW0uQVNURVJPSURfTC5nZXRIZWlnaHQoKSwgV0lEVEggKyBTaGFwZUVudW0uQVNURVJPSURfTC5nZXRXaWR0aCgpLCBIRUlHSFQgKyBTaGFwZUVudW0uQVNURVJPSURfTC5nZXRXaWR0aCgpKSxcclxuICAgIENMT1VEOiBuZXcgQm91bmRhcnkoLVNoYXBlRW51bS5DTE9VRC53aWR0aCwgLVNoYXBlRW51bS5DTE9VRC5oZWlnaHQsIFdJRFRIICsgU2hhcGVFbnVtLkNMT1VELndpZHRoLCBIRUlHSFQgKyBTaGFwZUVudW0uQ0xPVUQuaGVpZ2h0KVxyXG59O1xyXG5cclxuY29uc3QgQm91bnR5RW51bSA9IHtcclxuICAgIEJPVU5UWV9TOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICBzY29yZSArPSA1MDtcclxuICAgIH0sXHJcbiAgICBCT1VOVFlfTTogKGVuZW15OiBVbml0LCBzaG90OiBHYW1lT2JqZWN0LCB0eXBlOiBIaXRUeXBlRW51bSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09IEhpdFR5cGVFbnVtLkhJVClcclxuICAgICAgICAgICAgc2NvcmUgKz0gMzA7XHJcbiAgICB9LFxyXG4gICAgQk9VTlRZX0w6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ISVQpXHJcbiAgICAgICAgICAgIHNjb3JlICs9IDEwO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgTW92ZVR5cGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgRHluYW1pY01vdmUoREVDRUxFUkFUSU9OX1NQRUVEKSxcclxuICAgIEVORU1ZX1NJTVBMRTogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjEpKSxcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tKDAsIC0wLjUpKSxcclxuICAgIEVORU1ZX1NIT1Q6IG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb20oMCwgMC40KSksXHJcbiAgICBDTE9VRDogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjA1KSlcclxufTtcclxuXHJcbmNvbnN0IFNob3RUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFNob3RUeXBlKDEsIFNoYXBlRW51bS5TSE9ULCBCb3VuZGFyeUVudW0uU0hPVCwgTW92ZVR5cGVFbnVtLlBMQVlFUl9TSE9UKSxcclxuICAgIEVORU1ZOiBuZXcgU2hvdFR5cGUoMSwgU2hhcGVFbnVtLlNIT1QsIEJvdW5kYXJ5RW51bS5TSE9ULCBNb3ZlVHlwZUVudW0uRU5FTVlfU0hPVClcclxufTtcclxuXHJcbmNvbnN0IFVuaXRUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFVuaXRUeXBlKFJvbGUuUExBWUVSLCAxLCAwLCBTaGFwZUVudW0uUExBWUVSLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLlBMQVlFUiwgU2hvdFR5cGVFbnVtLlBMQVlFUiwgW10pLFxyXG4gICAgQVNURVJPSURfUzogbmV3IFVuaXRUeXBlKFJvbGUuRU5FTVksIDEsIDAsIFNoYXBlRW51bS5BU1RFUk9JRF9TLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLkVORU1ZX1NJTVBMRSwgU2hvdFR5cGVFbnVtLlBMQVlFUiwgW0JvdW50eUVudW0uQk9VTlRZX1NdKSxcclxuICAgIEFTVEVST0lEX006IG5ldyBVbml0VHlwZShSb2xlLkVORU1ZLCAxLCAwLCBTaGFwZUVudW0uQVNURVJPSURfTSwgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5FTkVNWV9TSU1QTEUsIFNob3RUeXBlRW51bS5FTkVNWSwgW0JvdW50eUVudW0uQk9VTlRZX01dKSxcclxuICAgIEFTVEVST0lEX0w6IG5ldyBVbml0VHlwZShSb2xlLkVORU1ZLCAxLCAwLCBTaGFwZUVudW0uQVNURVJPSURfTCwgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5FTkVNWV9TSU1QTEUsIFNob3RUeXBlRW51bS5FTkVNWSwgW0JvdW50eUVudW0uQk9VTlRZX0xdKSxcclxufTtcclxuXHJcbmNvbnN0IEVudmlyb25tZW50VHlwZUVudW0gPSB7XHJcbiAgICBDTE9VRDogbmV3IEVudmlyb25tZW50VHlwZShTaGFwZUVudW0uQ0xPVUQsIEJvdW5kYXJ5RW51bS5DTE9VRCwgTW92ZVR5cGVFbnVtLkNMT1VEKVxyXG59O1xyXG5cclxuY29uc3QgQXVkaW9Qb29sRW51bSA9IHtcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQXVkaW9Qb29sKFwiYXVkaW8vU2hvdC53YXZcIiwgNSksXHJcbiAgICBDT0xMSVNJT046IG5ldyBBdWRpb1Bvb2woXCJhdWRpby9Db2xsaXNpb24ud2F2XCIsIDEwKVxyXG59O1xyXG5cclxuLy9lbmRyZWdpb25cclxuXHJcbi8vcmVnaW9uIEdhbWVPYmplY3RzXHJcbnR5cGUgSGl0Q2FsbGJhY2sgPSAob3RoZXI6IEdhbWVPYmplY3QpID0+IGFueTtcclxudHlwZSBEZXN0cm95ZWRDYWxsYmFjayA9IChvYmplY3Q6IEdhbWVPYmplY3QsIGNhdXNlOiBEZWF0aENhdXNlRW51bSkgPT4gYW55O1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgR2FtZU9iamVjdCB7XHJcbiAgICBwdWJsaWMgcm90YXRpb246IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbW92ZTogTW92ZSA9IG51bGw7XHJcbiAgICBwdWJsaWMgbW92ZVZlY3RvcjogVmVjdG9yID0gVmVjdG9yLnplcm8oKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3BlZWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogR2FtZU9iamVjdFR5cGUsIHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyByb3Q6IG51bWJlciwgcHVibGljIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMubW92ZSA9IHR5cGUubW92ZS5jb3B5KCkuc2V0Um90YXRpb24ocm90KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IgPSB0aGlzLm1vdmUubW92ZShlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgbGV0IG9sZCA9IFZlY3Rvci5mcm9tKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54ICsgdGhpcy5tb3ZlVmVjdG9yLngsIHRoaXMueSArIHRoaXMubW92ZVZlY3Rvci55LCB0aGlzLnR5cGUuc2hhcGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmVWZWN0b3IueDtcclxuICAgICAgICAgICAgdGhpcy55ICs9IHRoaXMubW92ZVZlY3Rvci55O1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5IGluc3RhbmNlb2YgTm9Cb3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YXJwVG9PdGhlclNpZGUob2xkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlICE9IFVuaXRUeXBlRW51bS5QTEFZRVIpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3llZCh0aGlzLCBEZWF0aENhdXNlRW51bS5PVVRfT0ZfQk9VTkRTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHdhcnBUb090aGVyU2lkZShvbGQ6IFZlY3Rvcikge1xyXG4gICAgICAgIGlmICh0aGlzLnggPiBXSURUSCAmJiAhKG9sZC54ID4gV0lEVEgpKVxyXG4gICAgICAgICAgICB0aGlzLnggPSAtdGhpcy5nZXRXaWR0aCgpO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSA8IDAgJiYgIShvbGQueCArIHRoaXMuZ2V0V2lkdGgoKSA8IDApKVxyXG4gICAgICAgICAgICB0aGlzLnggPSBXSURUSDtcclxuICAgICAgICBpZiAodGhpcy55ID4gSEVJR0hUICYmICEob2xkLnkgPiBIRUlHSFQpKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSAtdGhpcy5nZXRIZWlnaHQoKTtcclxuICAgICAgICBlbHNlIGlmICh0aGlzLnkgKyB0aGlzLmdldEhlaWdodCgpIDwgMCAmJiAhKG9sZC55ICsgdGhpcy5nZXRIZWlnaHQoKSA8IDApKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSBIRUlHSFQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5pc0NvbGxpZGluZ1dpdGgoVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpLCBvdGhlci50eXBlLnNoYXBlLCBWZWN0b3IuZnJvbShvdGhlci54LCBvdGhlci55KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnggKyAwLjUgKiB0aGlzLmdldFdpZHRoKCksIHRoaXMueSArIDAuNSAqIHRoaXMuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgICAgIGNvbnRleHQucm90YXRlKHJhZCh0aGlzLnJvdGF0aW9uKSk7XHJcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTAuNSAqIHRoaXMuZ2V0V2lkdGgoKSwgLTAuNSAqIHRoaXMuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgICAgIHRoaXMudHlwZS5zaGFwZS5yZW5kZXIoY29udGV4dCk7XHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KTtcclxuXHJcbiAgICAvL3JlZ2lvbiBIZWxwZXIgTWV0aG9kc1xyXG4gICAgcHVibGljIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5nZXRXaWR0aCgpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbG9yKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5jb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TWFzcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUuc2hhcGUubWFzcztcclxuICAgIH1cclxuXHJcbiAgICAvL2VuZHJlZ2lvblxyXG59XHJcblxyXG5jbGFzcyBVbml0IGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcblxyXG4gICAgcHVibGljIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKC8qdGhpcy50eXBlLnJvbGUgPT0gUm9sZS5FTkVNWSAmJiBvdGhlciBpbnN0YW5jZW9mIFVuaXQgJiYgb3RoZXIudHlwZS5yb2xlID09IFJvbGUuRU5FTVkqL3RydWUpIHtcclxuICAgICAgICAgICAgbGV0IGNvbGxpc2lvbiA9IGNvbGxpZGUodGhpcywgb3RoZXIgYXMgVW5pdCk7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVZlY3RvciA9IGNvbGxpc2lvbi5hO1xyXG4gICAgICAgICAgICBvdGhlci5tb3ZlVmVjdG9yID0gY29sbGlzaW9uLmI7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSA9IG5ldyBDb25zdGFudE1vdmUoY29sbGlzaW9uLmEpO1xyXG4gICAgICAgICAgICBvdGhlci5tb3ZlID0gbmV3IENvbnN0YW50TW92ZShjb2xsaXNpb24uYik7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBNQVhfU1BFRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpdmVzIDwgMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLm1vcnBoKSB7XHJcbiAgICAgICAgICAgICAgICBtb3JwaCh0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uTElWRVMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgbGl2ZXM6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgICAgIHRoaXMubGl2ZXMgPSB0eXBlLmxpdmVzO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWxpdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGl2ZXMgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5ib3VuZGFyeS5pc0luQm91bmRzKHRoaXMueCwgdGhpcy55LCB0aGlzLnR5cGUuc2hhcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgbW92ZW1lbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZShlbGFwc2VkVGltZSwgcm90YXRpb24sIG1vdmVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBVbml0VHlwZUVudW0uUExBWUVSKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnR5cGUuc2hvdEZyZXEpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvb3QoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdCgpOiBTaG90IHtcclxuICAgICAgICBsZXQgaWQgPSBzaG90SWRDb3VudGVyO1xyXG4gICAgICAgIGxldCBzaG90ID0gbmV3IFNob3QoaWQsIHRoaXMudHlwZSwgdGhpcy50eXBlLnNob3QsIHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSAvIDIsIHRoaXMueSArIHRoaXMuZ2V0SGVpZ2h0KCkgLyAyLCB0aGlzLnJvdGF0aW9uLCAob2JqZWN0LCBjYXVzZSkgPT4ge1xyXG4gICAgICAgICAgICBzaG90cy5kZWxldGUob2JqZWN0LmlkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IuYWRkKFZlY3Rvci5jb25zdHJ1Y3QoS05PQ0tfQkFDSywgdGhpcy5yb3RhdGlvbikuc2NhbGUoLTEpKTtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTUFYX1NQRUVELCB0aGlzLnNwZWVkICsgKEtOT0NLX0JBQ0spKTtcclxuICAgICAgICBzaG90cy5zZXQoaWQsIHNob3QpO1xyXG4gICAgICAgIHNob3RJZENvdW50ZXIrKztcclxuICAgICAgICBBdWRpb1Bvb2xFbnVtLlBMQVlFUl9TSE9ULnBsYXkoKTtcclxuICAgICAgICByZXR1cm4gc2hvdDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGxheWVyIGV4dGVuZHMgVW5pdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkhpdChvdGhlcjogR2FtZU9iamVjdCkge1xyXG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFVuaXQgJiYgb3RoZXIudHlwZS5yb2xlID09IFJvbGUuRU5FTVkpXHJcbiAgICAgICAgICAgIHRoaXMubGl2ZXMtLTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGl2ZXMgPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uTElWRVMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbW9kKHRoaXMucm90YXRpb24gKyByb3RhdGlvbiAqIFJPVEFUSU9OX1NQRUVEICogZWxhcHNlZFRpbWUsIDM2MCk7XHJcbiAgICAgICAgbGV0IG9sZFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgoMCwgdGhpcy5zcGVlZCAtIChERUNFTEVSQVRJT05fU1BFRUQgKiBlbGFwc2VkVGltZSAvIDEwMCkpO1xyXG4gICAgICAgIGxldCBkZWNTcGVlZCA9IG9sZFNwZWVkIC0gdGhpcy5zcGVlZDtcclxuICAgICAgICBsZXQgYWNjU3BlZWQgPSAwO1xyXG4gICAgICAgIG9sZFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgICAgICBpZiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKE1BWF9TUEVFRCwgdGhpcy5zcGVlZCArIChBQ0NfU1BFRUQgKiBlbGFwc2VkVGltZSAvIDEwMCkpO1xyXG4gICAgICAgICAgICBhY2NTcGVlZCA9IHRoaXMuc3BlZWQgLSBvbGRTcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb3ZlVmVjdG9yID0gdGhpcy5tb3ZlLm1vdmUoZWxhcHNlZFRpbWUsIHRoaXMucm90YXRpb24sIHtcclxuICAgICAgICAgICAgY3Vycjogb2xkU3BlZWQsXHJcbiAgICAgICAgICAgIGRlYzogZGVjU3BlZWQsXHJcbiAgICAgICAgICAgIGFjYzogYWNjU3BlZWRcclxuICAgICAgICB9LCB0aGlzLm1vdmVWZWN0b3IpO1xyXG5cclxuICAgICAgICBsZXQgb2xkID0gVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmVWZWN0b3IueDtcclxuICAgICAgICB0aGlzLnkgKz0gdGhpcy5tb3ZlVmVjdG9yLnk7XHJcbiAgICAgICAgdGhpcy53YXJwVG9PdGhlclNpZGUob2xkKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2hvdCBleHRlbmRzIEdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcHVibGljIGluaXRpYXRvcjogVW5pdFR5cGUsIHB1YmxpYyB0eXBlOiBTaG90VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzQ29sbGlkaW5nV2l0aChvdGhlcikgJiYgdGhpcy5pbml0aWF0b3IgIT09IG90aGVyLnR5cGU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICAgICAgbGV0IG8gPSBvdGhlciBhcyBVbml0O1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRvciA9PSBvLnR5cGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBvLnR5cGUuYm91bnRpZXMuZm9yRWFjaChib3VudHkgPT4ge1xyXG4gICAgICAgICAgICBib3VudHkobywgdGhpcywgSGl0VHlwZUVudW0uSElUKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG8ubGl2ZXMgLT0gdGhpcy50eXBlLmRtZztcclxuICAgICAgICBvLm9uSGl0KHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uQ09MTElTSU9OKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRW52aXJvbm1lbnQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHR5cGU6IEVudmlyb25tZW50VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIExldmVsIHtcclxuICAgIHByaXZhdGUgbGV2ZWw6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGxldmVsU3Bhd25zOiBudW1iZXIgPSAxO1xyXG4gICAgcHJpdmF0ZSBwYXNzZWRTcGF3bnM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgY3VyckNvb2xkb3duOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGxldmVsU2NhbGU6IExldmVsU2NhbGUsIHByaXZhdGUgZW5lbXlDb3VudGVyOiAoKSA9PiBudW1iZXIsIHByaXZhdGUgY29vbGRvd246IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybiB0cnVlIGlmIGVuZW1pZXMgY2FuIGJlIHNwYXduZWQsIGZhbHNlIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZUxldmVsKGVsYXBzZWRUaW1lOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FsbFNwYXduZWQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWxsRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0Nvb2xkb3duKGVsYXBzZWRUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmxldmVsKys7XHJcbiAgICAgICAgdGhpcy5sZXZlbFNwYXducyA9IHRoaXMubGV2ZWxTY2FsZSh0aGlzLmxldmVsKTtcclxuICAgICAgICB0aGlzLnBhc3NlZFNwYXducyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VyckNvb2xkb3duID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGltaXQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbFNwYXducztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGV2ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQWxsU3Bhd25lZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmVteUNvdW50ZXIoKSA+PSB0aGlzLmxldmVsU3Bhd25zKVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQWxsRGVzdHJveWVkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVuZW15Q291bnRlcigpID09IDApXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tDb29sZG93bihlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VyckNvb2xkb3duID4gdGhpcy5jb29sZG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnJhaXNlTGV2ZWwoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJDb29sZG93biArPSBlbGFwc2VkVGltZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYWlzZUxldmVsKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxufVxyXG5cclxuLy9lbmRyZWdpb25cclxuXHJcbnZhciBmcm9udENhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbnZhciBmcm9udENvbnRleHQgPSBmcm9udENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG52YXIgYmFja0NhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuYmFja0NhbnZhcy53aWR0aCA9IFdJRFRIO1xyXG5iYWNrQ2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxudmFyIGJhY2tDb250ZXh0ID0gYmFja0NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG52YXIgc3RhcnQgPSBudWxsO1xyXG52YXIgY3VycmVudElucHV0ID0ge1xyXG4gICAgc3BhY2U6IGZhbHNlLFxyXG4gICAgbGVmdDogZmFsc2UsXHJcbiAgICByaWdodDogZmFsc2UsXHJcbiAgICB1cDogZmFsc2UsXHJcbiAgICBkb3duOiBmYWxzZVxyXG59O1xyXG52YXIgcHJpb3JJbnB1dCA9IHtcclxuICAgIHNwYWNlOiBmYWxzZSxcclxuICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgdXA6IGZhbHNlLFxyXG4gICAgZG93bjogZmFsc2VcclxufTtcclxuXHJcbnZhciBwbGF5ZXIgPSBuZXcgUGxheWVyKDAsIFVuaXRUeXBlRW51bS5QTEFZRVIsIDAsIDAsIDAsICgpID0+IHtcclxuICAgIHVwZGF0ZVN0YXR1cygpO1xyXG4gICAgZW5kR2FtZSgpO1xyXG59KTtcclxucGxheWVyLnggPSBXSURUSCAvIDIgLSBwbGF5ZXIuZ2V0V2lkdGgoKSAvIDI7XHJcbnBsYXllci55ID0gSEVJR0hUIC0gcGxheWVyLmdldEhlaWdodCgpO1xyXG52YXIgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZV90ZXh0XCIpO1xyXG52YXIgbGl2ZXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXZlc190ZXh0XCIpO1xyXG52YXIgbGV2ZWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbF90ZXh0XCIpO1xyXG5cclxudmFyIGVuZW15VGltZVRvU3Bhd24gPSAwO1xyXG52YXIgZW5lbXlJZENvdW50ZXIgPSAwO1xyXG52YXIgc2hvdElkQ291bnRlciA9IDA7XHJcbnZhciBlbnZpcm9ubWVudElkQ291bnRlciA9IDA7XHJcbnZhciBlbmVtaWVzID0gbmV3IE1hcDxudW1iZXIsIFVuaXQ+KCk7XHJcbnZhciBzaG90cyA9IG5ldyBNYXA8bnVtYmVyLCBTaG90PigpO1xyXG52YXIgZW52aXJvbm1lbnRzID0gbmV3IE1hcDxudW1iZXIsIEVudmlyb25tZW50PigpO1xyXG52YXIgcnVubmluZzogYm9vbGVhbiA9IHRydWU7XHJcbmxldCBzcGF3bkNvb2xkb3duOiBib29sZWFuID0gdHJ1ZTtcclxubGV0IGxldmVsOiBMZXZlbCA9IG5ldyBMZXZlbChsdmwgPT4gRU5FTVlfU0NBTElORyAqIGx2bCwgKCkgPT4gZW5lbWllcy5zaXplLCBMVkxfQ09PTERPV04pO1xyXG5cclxuVW5pdFR5cGVFbnVtLkFTVEVST0lEX00ubW9ycGggPSBVbml0VHlwZUVudW0uQVNURVJPSURfUztcclxuVW5pdFR5cGVFbnVtLkFTVEVST0lEX0wubW9ycGggPSBVbml0VHlwZUVudW0uQVNURVJPSURfTTtcclxuXHJcbmZ1bmN0aW9uIGxvb3AodGltZXN0YW1wKSB7XHJcbiAgICBpZiAoIXJ1bm5pbmcpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdXBkYXRlU3RhdHVzKGxldmVsLmdldExldmVsKCkpO1xyXG4gICAgaWYgKCFzdGFydCkgc3RhcnQgPSB0aW1lc3RhbXA7XHJcbiAgICBsZXQgZWxhcHNlZFRpbWUgPSB0aW1lc3RhbXAgLSBzdGFydDtcclxuICAgIHN0YXJ0ID0gdGltZXN0YW1wO1xyXG5cclxuICAgIGlmIChsZXZlbC51cGRhdGVMZXZlbChlbGFwc2VkVGltZSkpXHJcbiAgICAgICAgY3JlYXRlRW5lbXkoZWxhcHNlZFRpbWUpO1xyXG4gICAgY3JlYXRlRW52aXJvbm1lbnQoKTtcclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZSk7XHJcbiAgICByZW5kZXIoZWxhcHNlZFRpbWUpO1xyXG4gICAgcG9sbElucHV0KCk7XHJcblxyXG4gICAgZnJvbnRDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcclxuICAgIGZyb250Q29udGV4dC5kcmF3SW1hZ2UoYmFja0NhbnZhcywgMCwgMCk7XHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvbGxJbnB1dCgpIHtcclxuICAgIHByaW9ySW5wdXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRJbnB1dCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQuc3BhY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1VwJzpcclxuICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcclxuICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY3VycmVudElucHV0LmxlZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVLZXl1cChldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcgJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnNwYWNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQudXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcclxuICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LmxlZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgY2FzZSAnZCc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaGFuZGxlS2V5dXApO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlRW5lbXkoZWxhcHNlZFRpbWU6IG51bWJlcikge1xyXG4gICAgZW5lbXlUaW1lVG9TcGF3biArPSBlbGFwc2VkVGltZTtcclxuICAgIGlmIChlbmVteVRpbWVUb1NwYXduID4gRU5FTVlfU1BBV05fUkFURSkge1xyXG4gICAgICAgIGVuZW15VGltZVRvU3Bhd24gPSAwO1xyXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpICogRU5FTVlfU1BBV05fUFJPQkFCSUxJVFkgPCAxKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGVuZW15SWRDb3VudGVyO1xyXG4gICAgICAgICAgICBsZXQgdHlwZSA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9NO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uQVNURVJPSURfTDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gVW5pdFR5cGVFbnVtLkFTVEVST0lEX1M7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbWllcy5zZXQoaWQsIG5ldyBVbml0KGlkLCB0eXBlLCBNYXRoLnJhbmRvbSgpICogKFdJRFRIIC0gdHlwZS5zaGFwZS5nZXRXaWR0aCgpKSwgLXR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCksIE1hdGgucmFuZG9tKCkgKiAzNjAsIChvYmplY3QsIGNhdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uTElWRVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAob2JqZWN0IGFzIFVuaXQpLnR5cGUuYm91bnRpZXMuZm9yRWFjaChib3VudHkgPT4gYm91bnR5KG9iamVjdCBhcyBVbml0LCBudWxsLCBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZW1pZXMuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBlbmVteUlkQ291bnRlcisrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRW52aXJvbm1lbnQoKSB7XHJcbiAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGVudmlyb25tZW50SWRDb3VudGVyO1xyXG4gICAgICAgICAgICBlbnZpcm9ubWVudHMuc2V0KGlkLCBuZXcgRW52aXJvbm1lbnQoaWQsIEVudmlyb25tZW50VHlwZUVudW0uQ0xPVUQsIE1hdGgucmFuZG9tKCkgKiBXSURUSCwgLUVudmlyb25tZW50VHlwZUVudW0uQ0xPVUQuc2hhcGUuZ2V0SGVpZ2h0KCksIDAsIChvYmplY3QsIGNhdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMuZGVsZXRlKG9iamVjdC5pZCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnRJZENvdW50ZXIrKztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY29sbGlkZShhOiBVbml0LCBiOiBVbml0KTogQ29sbGlzaW9uUmVzdWx0IHtcclxuICAgIC8vaHR0cDovL3d3dy52b2Jhcmlhbi5jb20vY29sbGlzaW9ucy8yZGNvbGxpc2lvbnMyLnBkZlxyXG4gICAgbGV0IHVuID0gVmVjdG9yLmZyb20oKGIueCArIDAuNSAqIGIuZ2V0V2lkdGgoKSkgLSAoYS54ICsgMC41ICogYS5nZXRXaWR0aCgpKSwgKGIueSArIDAuNSAqIGIuZ2V0SGVpZ2h0KCkpIC0gKGEueSArIDAuNSAqIGEuZ2V0SGVpZ2h0KCkpKS5ub3JtYWxpemUoKTtcclxuICAgIGxldCB1dCA9IFZlY3Rvci5wZXJwZW5kaWN1bGFyKHVuKTtcclxuICAgIGxldCB2MW4gPSBWZWN0b3IuZG90UHJvZHVjdCh1biwgYS5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2MXQgPSBWZWN0b3IuZG90UHJvZHVjdCh1dCwgYS5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2Mm4gPSBWZWN0b3IuZG90UHJvZHVjdCh1biwgYi5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2MnQgPSBWZWN0b3IuZG90UHJvZHVjdCh1dCwgYi5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2XzF0ID0gdjF0O1xyXG4gICAgbGV0IHZfMnQgPSB2MnQ7XHJcblxyXG4gICAgbGV0IHZfMW4gPSAodjFuICogKGEuZ2V0TWFzcygpIC0gYi5nZXRNYXNzKCkpICsgMiAqIGIuZ2V0TWFzcygpICogdjJuKSAvIChhLmdldE1hc3MoKSArIGIuZ2V0TWFzcygpKTtcclxuICAgIGxldCB2XzJuID0gKHYybiAqIChiLmdldE1hc3MoKSAtIGEuZ2V0TWFzcygpKSArIDIgKiBhLmdldE1hc3MoKSAqIHYxbikgLyAoYS5nZXRNYXNzKCkgKyBiLmdldE1hc3MoKSk7XHJcblxyXG4gICAgQXVkaW9Qb29sRW51bS5DT0xMSVNJT04ucGxheSgpO1xyXG4gICAgd2hpbGUgKGEuaXNDb2xsaWRpbmdXaXRoKGIpKSB7XHJcbiAgICAgICAgYS51cGRhdGUoLTEwKTtcclxuICAgICAgICBiLnVwZGF0ZSgtMTApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYTogVmVjdG9yLmZyb21PdGhlcih1bikuc2NhbGUodl8xbikuYWRkKFZlY3Rvci5mcm9tT3RoZXIodXQpLnNjYWxlKHZfMXQpKSxcclxuICAgICAgICBiOiBWZWN0b3IuZnJvbU90aGVyKHVuKS5zY2FsZSh2XzJuKS5hZGQoVmVjdG9yLmZyb21PdGhlcih1dCkuc2NhbGUodl8ydCkpXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb3JwaCh1bml0OiBVbml0KSB7XHJcbiAgICBsZXQgaWQgPSBlbmVteUlkQ291bnRlcisrO1xyXG4gICAgbGV0IGNvcHkgPSBuZXcgVW5pdChpZCwgdW5pdC50eXBlLm1vcnBoLCB1bml0LngsIHVuaXQueSwgMCwgKG9iamVjdCwgY2F1c2UpID0+IHtcclxuICAgICAgICBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uTElWRVMpIHtcclxuICAgICAgICAgICAgKG9iamVjdCBhcyBVbml0KS50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IGJvdW50eShvYmplY3QgYXMgVW5pdCwgbnVsbCwgSGl0VHlwZUVudW0uREVTVFJPWUVEKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZW1pZXMuZGVsZXRlKGlkKTtcclxuICAgIH0pO1xyXG4gICAgdW5pdC50eXBlID0gdW5pdC50eXBlLm1vcnBoO1xyXG4gICAgZW5lbWllcy5zZXQoaWQsIGNvcHkpO1xyXG4gICAgY29weS5tb3ZlID0gdW5pdC5tb3ZlLmNvcHkoKTtcclxuICAgIGNvcHkubW92ZS5zZXRSb3RhdGlvbigtMTIwKTtcclxuICAgIHVuaXQubW92ZS5zZXRSb3RhdGlvbigxMjApO1xyXG4gICAgd2hpbGUgKHVuaXQuaXNDb2xsaWRpbmdXaXRoKGNvcHkpKSB7XHJcbiAgICAgICAgdW5pdC51cGRhdGUoMTApO1xyXG4gICAgICAgIGNvcHkudXBkYXRlKDEwKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGlmIChjdXJyZW50SW5wdXQuc3BhY2UgJiYgIXByaW9ySW5wdXQuc3BhY2UpIHtcclxuICAgICAgICBwbGF5ZXIuc2hvb3QoKTtcclxuICAgIH1cclxuICAgIHBsYXllci51cGRhdGUoZWxhcHNlZFRpbWUsIGN1cnJlbnRJbnB1dC5sZWZ0ID8gLTEgOiAoY3VycmVudElucHV0LnJpZ2h0ID8gMSA6IDApLCBjdXJyZW50SW5wdXQudXApO1xyXG5cclxuICAgIGVuZW1pZXMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUudXBkYXRlKGVsYXBzZWRUaW1lKSk7XHJcblxyXG4gICAgbGV0IGNvbGxpc2lvblBhaXJzOiBDb2xsaXNpb25QYWlyW10gPSBbXTtcclxuXHJcbiAgICBzaG90cy5mb3JFYWNoKHNob3QgPT4ge1xyXG4gICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IHNob3QsIGI6IHBsYXllcn0pO1xyXG4gICAgICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiB7XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IHNob3QsIGI6IGVuZW15fSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gICAgbGV0IGVuZW15TGlzdDogVW5pdFtdID0gW107XHJcbiAgICBlbmVtaWVzLmZvckVhY2goKHZhbHVlKSA9PiBlbmVteUxpc3QucHVzaCh2YWx1ZSkpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmVteUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb2xsaXNpb25QYWlycy5wdXNoKHthOiBwbGF5ZXIsIGI6IGVuZW15TGlzdFtpXX0pO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGVuZW15TGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb2xsaXNpb25QYWlycy5wdXNoKHthOiBlbmVteUxpc3RbaV0sIGI6IGVuZW15TGlzdFtqXX0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbnZpcm9ubWVudHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuXHJcbiAgICBjaGVja0NvbGxpc2lvbnMoY29sbGlzaW9uUGFpcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0NvbGxpc2lvbnMocGFpcnM6IENvbGxpc2lvblBhaXJbXSkge1xyXG4gICAgcGFpcnMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgaWYgKHZhbHVlLmEuaXNDb2xsaWRpbmdXaXRoKHZhbHVlLmIpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmEub25IaXQodmFsdWUuYik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcihlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICBiYWNrQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgV0lEVEgsIEhFSUdIVCk7XHJcblxyXG4gICAgZW52aXJvbm1lbnRzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcblxyXG4gICAgcGxheWVyLnJlbmRlcihiYWNrQ29udGV4dCk7XHJcblxyXG4gICAgZW5lbWllcy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnJlbmRlcihiYWNrQ29udGV4dCkpO1xyXG5cclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhsZXZlbDogbnVtYmVyID0gbnVsbCkge1xyXG4gICAgc2NvcmVFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBzY29yZTtcclxuICAgIGxpdmVzRWxlbWVudC5pbm5lclRleHQgPSBcIlwiICsgcGxheWVyLmxpdmVzO1xyXG4gICAgaWYgKGxldmVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgbGV2ZWxFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBsZXZlbDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5kR2FtZSgpIHtcclxuICAgIHJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIGlmIChjb25maXJtKFwiR2FtZSBvdmVyIVwiKSlcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxufVxyXG5cclxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3Ige1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCAvKnByaXZhdGUgbW9kWDogbnVtYmVyLCBwcml2YXRlIG1vZFk6IG51bWJlciovKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tKHg6IG51bWJlciwgeTogbnVtYmVyLyosIG1vZFg6IG51bWJlciwgbW9kWTogbnVtYmVyKi8pOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHkvKiwgbW9kWCwgbW9kWSovKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21PdGhlcihvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihvdGhlci54LCBvdGhlci55LyosIG90aGVyLm1vZFgsIG90aGVyLm1vZFkqLyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyB6ZXJvKC8qbW9kWDogbnVtYmVyLCBtb2RZOiBudW1iZXIqLyk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoMCwgMC8qLCBtb2RYLCBtb2RZKi8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29uc3RydWN0KG1hZ25pdHVkZTogbnVtYmVyLCBhbmdsZTogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihtYWduaXR1ZGUgKiBNYXRoLmNvcyhyYWQoYW5nbGUpKSwgbWFnbml0dWRlICogTWF0aC5zaW4ocmFkKGFuZ2xlKSkpLnJvdGF0ZSgtOTApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1plcm8oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PSAwICYmIHRoaXMueSA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGQoYTogVmVjdG9yLCBiOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbU90aGVyKGEpLmFkZChiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkKG90aGVyOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHRoaXMueCArPSBvdGhlci54O1xyXG4gICAgICAgIHRoaXMueSArPSBvdGhlci55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcm90YXRlKHZlY3RvcjogVmVjdG9yLCBhbmdsZTogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLnJvdGF0ZShhbmdsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJvdGF0ZShhbmdsZTogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICBsZXQgb2xkWCA9IHRoaXMueDtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnggKiBNYXRoLmNvcyhyYWQoYW5nbGUpKSAtIHRoaXMueSAqIE1hdGguc2luKHJhZChhbmdsZSkpO1xyXG4gICAgICAgIHRoaXMueSA9IG9sZFggKiBNYXRoLnNpbihyYWQoYW5nbGUpKSArIHRoaXMueSAqIE1hdGguY29zKHJhZChhbmdsZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2NhbGUodmVjdG9yOiBWZWN0b3IsIHNjYWxhcjogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLnNjYWxlKHNjYWxhcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNjYWxlKHNjYWxhcjogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICB0aGlzLnggKj0gc2NhbGFyO1xyXG4gICAgICAgIHRoaXMueSAqPSBzY2FsYXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBub3JtYWxpemUodmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbU90aGVyKHZlY3Rvcikubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5vcm1hbGl6ZSgpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hZ25pdHVkZSgpID09PSAwID8gdGhpcyA6IHRoaXMuc2NhbGUoMSAvIHRoaXMubWFnbml0dWRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGVycGVuZGljdWxhcih2ZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5wZXJwZW5kaWN1bGFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBlcnBlbmRpY3VsYXIoKTogVmVjdG9yIHtcclxuICAgICAgICBsZXQgb2xkWCA9IHRoaXMueDtcclxuICAgICAgICB0aGlzLnggPSAtdGhpcy55O1xyXG4gICAgICAgIHRoaXMueSA9IG9sZFg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBkb3RQcm9kdWN0KGE6IFZlY3RvciwgYjogVmVjdG9yKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gYS54ICogYi54ICsgYS55ICogYi55O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkb3RQcm9kdWN0KG90aGVyOiBWZWN0b3IpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZG90UHJvZHVjdCh0aGlzLCBvdGhlcik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW9kKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhZChuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIG4gKiAoTWF0aC5QSSAvIDE4MCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcChuOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgbWluKSwgbWF4KTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=