!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),r=1366,h=768,o=.2,n=1,a=.4,c=.65,l=8,u=1e3,d=3;var p,f,g;!function(t){t[t.OUT_OF_BOUNDS=0]="OUT_OF_BOUNDS",t[t.LIVES=1]="LIVES",t[t.COLLISION=2]="COLLISION"}(p||(p={})),function(t){t[t.HIT=0]="HIT",t[t.DESTROYED=1]="DESTROYED"}(f||(f={})),function(t){t[t.PLAYER=0]="PLAYER",t[t.ENEMY=1]="ENEMY"}(g||(g={}));class y{constructor(t,e,s,i){this.minX=t,this.minY=e,this.maxX=s,this.maxY=i}isInBounds(t,e,s){return t>=this.minX&&e>=this.minY&&t+s.getWidth()<=this.maxX&&e+s.getHeight()<=this.maxY}}class m extends y{constructor(){super(0,0,0,0)}isInBounds(t,e,s){return!0}}class E{constructor(t,e){this.color=t,this.mass=e}isCollidingWith(t,e,s){if(e instanceof w)return this.isCollidingWithRectangle(t,e,s);if(e instanceof O)return this.isCollidingWithCircle(t,e,s);throw new Error("Unknown shape type: "+e)}}class w extends E{constructor(t,e,s,i){super(s,i),this.width=t,this.height=e}getHeight(){return this.height}getWidth(){return this.width}render(t){t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height)}isCollidingWithCircle(t,e,s){return e.isCollidingWithRectangle(s,this,t)}isCollidingWithRectangle(t,e,s){return t.x<s.x+e.getWidth()&&t.x+this.getWidth()>s.x&&t.y<s.y+e.getHeight()&&t.y+this.getHeight()>s.y}}class O extends E{constructor(t,e,s){super(e,s),this.radius=t}getHeight(){return 2*this.radius}getWidth(){return 2*this.radius}render(t){t.fillStyle=this.color,t.strokeStyle="#fff",t.strokeRect(0,0,2*this.radius,2*this.radius),t.beginPath(),t.arc(this.radius,this.radius,this.radius,0,2*Math.PI),t.fill()}isCollidingWithRectangle(t,e,s){let r=i.clamp(this.center(t.x),s.x,s.x+e.getWidth()),h=i.clamp(this.center(t.y),s.y,s.y+e.getHeight()),o=this.center(t.x)-r,n=this.center(t.y)-h;return o*o+n*n<this.radius*this.radius}isCollidingWithCircle(t,e,s){return Math.pow(this.center(s.x)-this.center(t.x),2)+Math.pow(this.center(t.y)-this.center(s.y),2)<Math.pow(this.radius+e.radius,2)}center(t){return t+this.radius}}class v{constructor(t,e,s){this.shape=t,this.boundary=e,this.move=s}}class x extends v{constructor(t,e,s,i,r,h,o,n){super(i,r,h),this.role=t,this.lives=e,this.shotFreq=s,this.shot=o,this.bounties=n}}class S extends v{constructor(t,e,s,i){super(e,s,i),this.dmg=t}}class M{constructor(){}move(t,e=0,s=null,i=null){throw new Error("Not Implemented!")}}class L extends M{constructor(t){super(),this.vector=t}move(t,e=0,s=null,r=null){return i.default.from(this.vector.x*t,this.vector.y*t)}copy(){return new L(i.default.fromOther(this.vector))}setRotation(t){return this.vector.rotate(t),this}getVector(){return this.vector}}class R extends M{constructor(t){super(),this.decSpeed=t,this.lastVector=i.default.zero()}move(t,e,s,r){let h=i.default.fromOther(r);return h.scale(0===s.dec?1:s.curr/(s.curr+s.dec)),s.acc>0&&h.add(i.default.construct(s.acc,e)),this.lastVector=i.default.fromOther(h).scale(1/t),h}copy(){return new R(this.decSpeed)}setRotation(t){return this}getVector(){return this.lastVector}}class A{constructor(t,e){this.url=t,this.q=[];for(let s=0;s<e;s++)this.q.push(new Audio(t))}play(){let t=this.q.pop();if(!t)return void console.error("Audio Pool is not big enough!",this.url);t.load();const e=t.play();void 0!==e&&e.then(e=>{this.q.push(t)})}}const I={PLAYER:new class extends w{constructor(t,e,s,i,r){super(t,e,s,i),this.char=r,this.char=this.char.charAt(0)}render(t){super.render(t),t.font="20px Arial",t.fillStyle="#ffffff";let e=t.measureText(this.char).width;t.fillText(this.char,.5*this.width-.5*e,.5*this.height+10)}}(20,35,"#6a7fed",10,"A"),ASTEROID_S:new O(20,"#ff2766",10),ASTEROID_M:new O(40,"#bb2c5b",20),ASTEROID_L:new O(80,"#a3163e",30),SHOT:new w(5,5,"#ffffff",0),CLOUD:new w(150,150,"#0a1e3a",0)},C={NONE:new m,SHOT:new y(0,0,r,h),CLOUD:new y(-I.CLOUD.width,-I.CLOUD.height,r+I.CLOUD.width,h+I.CLOUD.height)},T={PLAYER:new R(a),ENEMY_SIMPLE:new L(i.default.from(0,.1)),PLAYER_SHOT:new L(i.default.from(0,-.5)),ENEMY_SHOT:new L(i.default.from(0,.4)),CLOUD:new L(i.default.from(0,.05))},D={PLAYER:new S(1,I.SHOT,C.SHOT,T.PLAYER_SHOT),ENEMY:new S(1,I.SHOT,C.SHOT,T.ENEMY_SHOT)},b={PLAYER:new x(g.PLAYER,3,0,I.PLAYER,C.NONE,T.PLAYER,D.PLAYER,[]),ASTEROID_S:new x(g.ENEMY,1,0,I.ASTEROID_S,C.NONE,T.ENEMY_SIMPLE,D.PLAYER,[]),ASTEROID_M:new x(g.ENEMY,1,0,I.ASTEROID_M,C.NONE,T.ENEMY_SIMPLE,D.ENEMY,[]),ASTEROID_L:new x(g.ENEMY,1,0,I.ASTEROID_L,C.NONE,T.ENEMY_SIMPLE,D.ENEMY,[])},_={CLOUD:new class extends v{constructor(t,e,s){super(t,e,s)}}(I.CLOUD,C.CLOUD,T.CLOUD)},H={PLAYER_SHOT:new A("audio/Shot.wav",5),COLLISION:new A("audio/Collision.wav",10)};class P{constructor(t,e,s,r,h,o){this.id=t,this.type=e,this.x=s,this.y=r,this.rot=h,this.onDestroyed=o,this.rotation=0,this.move=null,this.moveVector=i.default.zero(),this.speed=0,this.move=e.move.copy().setRotation(h)}update(t,e=0,s=!1){this.moveVector=this.move.move(t);let r=i.default.from(this.x,this.y);this.type.boundary.isInBounds(this.x+this.moveVector.x,this.y+this.moveVector.y,this.type.shape)?(this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.type.boundary instanceof m&&this.warpToOtherSide(r)):this.type!=b.PLAYER&&this.onDestroyed(this,p.OUT_OF_BOUNDS)}warpToOtherSide(t){this.x>r&&!(t.x>r)?this.x=-this.getWidth():this.x+this.getWidth()<0&&!(t.x+this.getWidth()<0)&&(this.x=r),this.y>h&&!(t.y>h)?this.y=-this.getHeight():this.y+this.getHeight()<0&&!(t.y+this.getHeight()<0)&&(this.y=h)}isCollidingWith(t){return this.type.shape.isCollidingWith(i.default.from(this.x,this.y),t.type.shape,i.default.from(t.x,t.y))}render(t){t.save(),t.translate(this.x+.5*this.getWidth(),this.y+.5*this.getHeight()),t.rotate(i.rad(this.rotation)),t.translate(-.5*this.getWidth(),-.5*this.getHeight()),this.type.shape.render(t),t.restore()}getWidth(){return this.type.shape.getWidth()}getHeight(){return this.type.shape.getHeight()}getColor(){return this.type.shape.color}getMass(){return this.type.shape.mass}}class Y extends P{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e,this.lives=e.lives}onHit(t){{let e=function(t,e){let s=i.default.from(e.x+.5*e.getWidth()-(t.x+.5*t.getWidth()),e.y+.5*e.getHeight()-(t.y+.5*t.getHeight())).normalize(),r=i.default.perpendicular(s),h=i.default.dotProduct(s,t.move.getVector()),o=i.default.dotProduct(r,t.move.getVector()),n=i.default.dotProduct(s,e.move.getVector()),a=i.default.dotProduct(r,e.move.getVector()),c=o,l=a,u=(h*(t.getMass()-e.getMass())+2*e.getMass()*n)/(t.getMass()+e.getMass()),d=(n*(e.getMass()-t.getMass())+2*t.getMass()*h)/(t.getMass()+e.getMass());H.COLLISION.play();for(;t.isCollidingWith(e);)t.update(-10),e.update(-10);return{a:i.default.fromOther(s).scale(u).add(i.default.fromOther(r).scale(c)),b:i.default.fromOther(s).scale(d).add(i.default.fromOther(r).scale(l))}}(this,t);this.moveVector=e.a,t.moveVector=e.b,this.move=new L(e.a),t.move=new L(e.b)}this.lives<1&&(this.type.morph?function(t){let e=K++,s=new Y(e,t.type.morph,t.x,t.y,0,(t,s)=>{s==p.LIVES&&t.type.bounties.forEach(e=>e(t,null,f.DESTROYED)),tt.delete(e)});t.type=t.type.morph,tt.set(e,s),s.move=t.move.copy(),s.move.setRotation(-120),t.move.setRotation(120);for(;t.isCollidingWith(s);)t.update(10),s.update(10)}(this):this.onDestroyed(this,p.LIVES))}isAlive(){return this.lives>0}isInBounds(){return this.type.boundary.isInBounds(this.x,this.y,this.type.shape)}update(t,e=0,s=!1){if(super.update(t,e,s),this.type!==b.PLAYER)switch(Math.floor(Math.random()*this.type.shotFreq)){case 1:this.shoot()}}shoot(){let t=Q,e=new N(t,this.type,this.type.shot,this.x+this.getWidth()/2,this.y+this.getHeight()/2,this.rotation,(t,e)=>{et.delete(t.id)});return this.moveVector.add(i.default.construct(c,this.rotation).scale(-1)),this.speed=Math.min(l,this.speed+c),et.set(t,e),Q++,H.PLAYER_SHOT.play(),e}}class N extends P{constructor(t,e,s,i,r,h,o){super(t,s,i,r,h,o),this.initiator=e,this.type=s}isCollidingWith(t){return super.isCollidingWith(t)&&this.initiator!==t.type}onHit(t){let e=t;this.initiator!=e.type&&(e.type.bounties.forEach(t=>{t(e,this,f.HIT)}),e.lives-=this.type.dmg,e.onHit(this),ht(0),this.onDestroyed(this,p.COLLISION))}}class W extends P{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h)}onHit(t){}}var V=document.getElementById("canvas").getContext("2d"),k=document.createElement("canvas");k.width=r,k.height=h;var U=k.getContext("2d"),B=null,j={space:!1,left:!1,right:!1,up:!1,down:!1},q={space:!1,left:!1,right:!1,up:!1,down:!1},z=new class extends Y{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e}onHit(t){this.lives<1&&this.onDestroyed(this,p.LIVES)}update(t,e=0,s=!1){this.rotation=i.mod(this.rotation+e*o*t,360);let r=this.speed;this.speed=Math.max(0,this.speed-a*t/100);let h=r-this.speed,c=0;r=this.speed,s&&(this.speed=Math.min(l,this.speed+n*t/100),c=this.speed-r),this.moveVector=this.move.move(t,this.rotation,{curr:r,dec:h,acc:c},this.moveVector);let u=i.default.from(this.x,this.y);this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.warpToOtherSide(u)}}(0,b.PLAYER,0,0,0,()=>{it=!1,alert("Game over!")});z.x=r/2-z.getWidth()/2,z.y=h-z.getHeight();var F=0,X=document.getElementById("score_text"),J=document.getElementById("lives_text"),G=document.getElementById("level_text"),Z=0,K=0,Q=0,$=0,tt=new Map,et=new Map,st=new Map,it=!0;let rt=new class{constructor(t,e,s){this.levelScale=t,this.enemyCounter=e,this.cooldown=s,this.level=0,this.levelSpawns=1,this.passedSpawns=!1,this.currCooldown=0,this.state=0,this.reset()}updateLevel(t){switch(this.state){case 0:this.checkAllSpawned();break;case 1:this.checkAllDestroyed();break;case 2:this.checkCooldown(t)}return 0==this.state}reset(){this.level++,this.levelSpawns=this.levelScale(this.level),this.passedSpawns=!1,this.currCooldown=0,this.state=0}getLimit(){return this.levelSpawns}getLevel(){return this.level}checkAllSpawned(){this.enemyCounter()>=this.levelSpawns&&(this.state=1)}checkAllDestroyed(){0==this.enemyCounter()&&(this.state=2)}checkCooldown(t){this.currCooldown>this.cooldown?this.raiseLevel():this.currCooldown+=t}raiseLevel(){this.reset()}}(t=>2*t,()=>tt.size,3e3);function ht(t,e=0,s=null){F+=t,z.lives+=e,X.innerText=""+F,J.innerText=""+z.lives,null!==s&&(G.innerText=""+s)}b.ASTEROID_M.morph=b.ASTEROID_S,b.ASTEROID_L.morph=b.ASTEROID_M,window.addEventListener("keydown",function(t){switch(t.key){case" ":j.space=!0;break;case"ArrowUp":case"w":j.up=!0;break;case"ArrowLeft":case"a":j.left=!0;break;case"ArrowRight":case"d":j.right=!0}}),window.addEventListener("keyup",function(t){switch(t.key){case" ":j.space=!1;break;case"ArrowUp":case"w":j.up=!1;break;case"ArrowLeft":case"a":j.left=!1;break;case"ArrowRight":case"d":j.right=!1}}),window.requestAnimationFrame(function t(e){if(!it)return;ht(0,0,rt.getLevel()),B||(B=e);let s=e-B;B=e,rt.updateLevel(s)&&function(t){if((Z+=t)>u&&(Z=0,Math.random()*d<1)){let t=K,e=b.ASTEROID_M;switch(Math.floor(10*Math.random())){case 0:e=b.ASTEROID_L;break;case 1:e=b.ASTEROID_S}tt.set(t,new Y(t,e,Math.random()*(r-e.shape.getWidth()),-e.shape.getHeight(),360*Math.random(),(e,s)=>{s==p.LIVES&&e.type.bounties.forEach(t=>t(e,null,f.DESTROYED)),tt.delete(t)})),K++}}(s),function(){switch(Math.floor(100*Math.random())){case 1:let t=$;st.set(t,new W(t,_.CLOUD,Math.random()*r,-_.CLOUD.shape.getHeight(),0,(t,e)=>{st.delete(t.id)})),$++}}(),function(t){j.space&&!q.space&&z.shoot(),z.update(t,j.left?-1:j.right?1:0,j.up),tt.forEach(e=>e.update(t)),et.forEach(e=>e.update(t));let e=[];et.forEach(t=>{e.push({a:t,b:z}),tt.forEach(s=>{e.push({a:t,b:s})})});let s=[];tt.forEach(t=>s.push(t));for(let t=0;t<s.length;t++){e.push({a:z,b:s[t]});for(let i=t+1;i<s.length;i++)e.push({a:s[t],b:s[i]})}st.forEach(e=>e.update(t)),function(t){t.forEach(t=>{t.a.isCollidingWith(t.b)&&t.a.onHit(t.b)})}(e)}(s),U.clearRect(0,0,r,h),st.forEach(t=>t.render(U)),z.render(U),tt.forEach(t=>t.render(U)),et.forEach(t=>t.render(U)),q=JSON.parse(JSON.stringify(j)),V.clearRect(0,0,r,h),V.drawImage(k,0,0),window.requestAnimationFrame(t)})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this.x=t,this.y=e}static from(t,e){return new i(t,e)}static fromOther(t){return new i(t.x,t.y)}static zero(){return new i(0,0)}static construct(t,e){return new i(t*Math.cos(r(e)),t*Math.sin(r(e))).rotate(-90)}isZero(){return 0==this.x&&0==this.y}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}static add(t,e){return i.fromOther(t).add(e)}add(t){return this.x+=t.x,this.y+=t.y,this}static rotate(t,e){return i.fromOther(t).rotate(e)}rotate(t){let e=this.x;return this.x=this.x*Math.cos(r(t))-this.y*Math.sin(r(t)),this.y=e*Math.sin(r(t))+this.y*Math.cos(r(t)),this}static scale(t,e){return i.fromOther(t).scale(e)}scale(t){return this.x*=t,this.y*=t,this}static normalize(t){return i.fromOther(t).normalize()}normalize(){return 0===this.magnitude()?this:this.scale(1/this.magnitude())}static perpendicular(t){return i.fromOther(t).perpendicular()}perpendicular(){let t=this.x;return this.x=-this.y,this.y=t,this}static dotProduct(t,e){return t.x*e.x+t.y*e.y}dotProduct(t){return i.dotProduct(this,t)}}function r(t){return t*(Math.PI/180)}e.default=i,e.mod=function(t,e){return(t%e+e)%e},e.rad=r,e.clamp=function(t,e,s){return Math.min(Math.max(t,e),s)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzdGVyb2lkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidmVjdG9yXzEiLCJXSURUSCIsIkhFSUdIVCIsIlJPVEFUSU9OX1NQRUVEIiwiQUNDX1NQRUVEIiwiREVDRUxFUkFUSU9OX1NQRUVEIiwiS05PQ0tfQkFDSyIsIk1BWF9TUEVFRCIsIkVORU1ZX1NQQVdOX1JBVEUiLCJFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSIsIkRlYXRoQ2F1c2VFbnVtIiwiSGl0VHlwZUVudW0iLCJSb2xlIiwiQm91bmRhcnkiLCJbb2JqZWN0IE9iamVjdF0iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwidGhpcyIsIngiLCJ5Iiwic2hhcGUiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIk5vQm91bmRhcnkiLCJzdXBlciIsIlNoYXBlIiwiY29sb3IiLCJtYXNzIiwicG9zIiwib3RoZXIiLCJvdGhlclBvcyIsIlJlY3RhbmdsZSIsImlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZSIsIkNpcmNsZSIsImlzQ29sbGlkaW5nV2l0aENpcmNsZSIsIkVycm9yIiwid2lkdGgiLCJoZWlnaHQiLCJjb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJyYWRpdXMiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiY2xvc2VzdFgiLCJjbGFtcCIsImNlbnRlciIsImNsb3Nlc3RZIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwicG93IiwiR2FtZU9iamVjdFR5cGUiLCJib3VuZGFyeSIsIm1vdmUiLCJVbml0VHlwZSIsInJvbGUiLCJsaXZlcyIsInNob3RGcmVxIiwic2hvdCIsImJvdW50aWVzIiwiU2hvdFR5cGUiLCJkbWciLCJNb3ZlIiwiZWxhcHNlZFRpbWUiLCJyb3RhdGlvbiIsInNwZWVkIiwibW92ZVZlY3RvciIsIkNvbnN0YW50TW92ZSIsInZlY3RvciIsImRlZmF1bHQiLCJmcm9tIiwiZnJvbU90aGVyIiwicm90YXRlIiwiRHluYW1pY01vdmUiLCJkZWNTcGVlZCIsImxhc3RWZWN0b3IiLCJ6ZXJvIiwic2NhbGUiLCJkZWMiLCJjdXJyIiwiYWNjIiwiYWRkIiwiY29uc3RydWN0IiwiQXVkaW9Qb29sIiwidXJsIiwiY291bnQiLCJxIiwicHVzaCIsIkF1ZGlvIiwiYXVkaW8iLCJwb3AiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2FkIiwicHJvbWlzZSIsInBsYXkiLCJ1bmRlZmluZWQiLCJ0aGVuIiwiU2hhcGVFbnVtIiwiUExBWUVSIiwiY2hhciIsImNoYXJBdCIsInJlbmRlciIsImZvbnQiLCJ0eHRXaWR0aCIsIm1lYXN1cmVUZXh0IiwiZmlsbFRleHQiLCJBU1RFUk9JRF9TIiwiQVNURVJPSURfTSIsIkFTVEVST0lEX0wiLCJTSE9UIiwiQ0xPVUQiLCJCb3VuZGFyeUVudW0iLCJOT05FIiwiTW92ZVR5cGVFbnVtIiwiRU5FTVlfU0lNUExFIiwiUExBWUVSX1NIT1QiLCJFTkVNWV9TSE9UIiwiU2hvdFR5cGVFbnVtIiwiRU5FTVkiLCJVbml0VHlwZUVudW0iLCJFbnZpcm9ubWVudFR5cGVFbnVtIiwiQXVkaW9Qb29sRW51bSIsIkNPTExJU0lPTiIsIkdhbWVPYmplY3QiLCJpZCIsInR5cGUiLCJyb3QiLCJvbkRlc3Ryb3llZCIsImNvcHkiLCJzZXRSb3RhdGlvbiIsIm1vdmVtZW50Iiwib2xkIiwiaXNJbkJvdW5kcyIsIndhcnBUb090aGVyU2lkZSIsIk9VVF9PRl9CT1VORFMiLCJpc0NvbGxpZGluZ1dpdGgiLCJzYXZlIiwidHJhbnNsYXRlIiwicmFkIiwicmVzdG9yZSIsIlVuaXQiLCJjb2xsaXNpb24iLCJhIiwiYiIsInVuIiwibm9ybWFsaXplIiwidXQiLCJwZXJwZW5kaWN1bGFyIiwidjFuIiwiZG90UHJvZHVjdCIsImdldFZlY3RvciIsInYxdCIsInYybiIsInYydCIsInZfMXQiLCJ2XzJ0Iiwidl8xbiIsImdldE1hc3MiLCJ2XzJuIiwidXBkYXRlIiwiY29sbGlkZSIsIm1vcnBoIiwidW5pdCIsImVuZW15SWRDb3VudGVyIiwiY2F1c2UiLCJMSVZFUyIsImZvckVhY2giLCJib3VudHkiLCJERVNUUk9ZRUQiLCJlbmVtaWVzIiwiZGVsZXRlIiwic2V0IiwiZmxvb3IiLCJyYW5kb20iLCJzaG9vdCIsInNob3RJZENvdW50ZXIiLCJTaG90Iiwic2hvdHMiLCJtaW4iLCJpbml0aWF0b3IiLCJISVQiLCJvbkhpdCIsInVwZGF0ZVN0YXR1cyIsIkVudmlyb25tZW50IiwiZnJvbnRDb250ZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJiYWNrQ2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImJhY2tDb250ZXh0Iiwic3RhcnQiLCJjdXJyZW50SW5wdXQiLCJzcGFjZSIsImxlZnQiLCJyaWdodCIsInVwIiwiZG93biIsInByaW9ySW5wdXQiLCJwbGF5ZXIiLCJtb2QiLCJvbGRTcGVlZCIsIm1heCIsImFjY1NwZWVkIiwicnVubmluZyIsImFsZXJ0Iiwic2NvcmUiLCJzY29yZUVsZW1lbnQiLCJsaXZlc0VsZW1lbnQiLCJsZXZlbEVsZW1lbnQiLCJlbmVteVRpbWVUb1NwYXduIiwiZW52aXJvbm1lbnRJZENvdW50ZXIiLCJNYXAiLCJlbnZpcm9ubWVudHMiLCJsZXZlbCIsImxldmVsU2NhbGUiLCJlbmVteUNvdW50ZXIiLCJjb29sZG93biIsImxldmVsU3Bhd25zIiwicGFzc2VkU3Bhd25zIiwiY3VyckNvb2xkb3duIiwic3RhdGUiLCJyZXNldCIsImNoZWNrQWxsU3Bhd25lZCIsImNoZWNrQWxsRGVzdHJveWVkIiwiY2hlY2tDb29sZG93biIsInJhaXNlTGV2ZWwiLCJsdmwiLCJzaXplIiwic2NvcmVEZWx0YSIsImhlYWx0aERlbHRhIiwiaW5uZXJUZXh0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsInRpbWVzdGFtcCIsImdldExldmVsIiwidXBkYXRlTGV2ZWwiLCJjcmVhdGVFbmVteSIsImNyZWF0ZUVudmlyb25tZW50IiwiY29sbGlzaW9uUGFpcnMiLCJlbmVteSIsImVuZW15TGlzdCIsImxlbmd0aCIsImoiLCJwYWlycyIsImNoZWNrQ29sbGlzaW9ucyIsImNsZWFyUmVjdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImRyYXdJbWFnZSIsIlZlY3RvciIsIm1hZ25pdHVkZSIsImFuZ2xlIiwiY29zIiwic2luIiwic3FydCIsIm9sZFgiLCJzY2FsYXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxF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R0FBUWdGLGdCQUc3QjdJLGdCQUNILElBQUk4UCxFQUFPelAsS0FBS0MsRUFHaEIsT0FGQUQsS0FBS0MsR0FBS0QsS0FBS0UsRUFDZkYsS0FBS0UsRUFBSXVQLEVBQ0Z6UCxLQUdKTCxrQkFBa0J3SSxFQUFXQyxHQUNoQyxPQUFPRCxFQUFFbEksRUFBSW1JLEVBQUVuSSxFQUFJa0ksRUFBRWpJLEVBQUlrSSxFQUFFbEksRUFHeEJQLFdBQVdpQixHQUNkLE9BQU91TyxFQUFPekcsV0FBVzFJLEtBQU1ZLElBU3ZDLFNBQWdCbUgsRUFBSXpKLEdBQ2hCLE9BQU9BLEdBQUt1RCxLQUFLQyxHQUFLLEtBN0YxQm5GLEVBQUE4RyxRQUFBMEwsRUF3RkF4UyxFQUFBa1AsSUFBQSxTQUFvQnZOLEVBQVdyQixHQUMzQixPQUFTcUIsRUFBSXJCLEVBQUtBLEdBQUtBLEdBRzNCTixFQUFBb0wsTUFJQXBMLEVBQUFzRixNQUFBLFNBQXNCM0QsRUFBV2lNLEVBQWF3QixHQUMxQyxPQUFPbEssS0FBSzBJLElBQUkxSSxLQUFLa0ssSUFBSXpOLEVBQUdpTSxHQUFNd0IiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IFZlY3Rvciwge2NsYW1wLCBtb2QsIHJhZH0gZnJvbSBcIi4vdmVjdG9yXCI7XHJcblxyXG5jb25zdCBXSURUSCA9IDEzNjY7XHJcbmNvbnN0IEhFSUdIVCA9IDc2ODtcclxuY29uc3QgUk9UQVRJT05fU1BFRUQgPSAwLjI7XHJcbmNvbnN0IEFDQ19TUEVFRCA9IDE7XHJcbmNvbnN0IERFQ0VMRVJBVElPTl9TUEVFRCA9IDAuNDtcclxuY29uc3QgS05PQ0tfQkFDSyA9IDAuNjU7XHJcbmNvbnN0IE1BWF9TUEVFRCA9IDg7XHJcbmNvbnN0IEVORU1ZX1JBRElVUyA9IDIwO1xyXG5jb25zdCBFTkVNWV9TUEFXTl9SQVRFID0gMTAwMDtcclxuY29uc3QgRU5FTVlfU1BBV05fUFJPQkFCSUxJVFkgPSAzO1xyXG5jb25zdCBFTkVNWV9TQ0FMSU5HID0gMjtcclxuY29uc3QgTFZMX0NPT0xET1dOID0gMzAwMDtcclxuXHJcbi8vcmVnaW9uIEdhbWVPYmplY3QgcGFydHNcclxudHlwZSBCb3VudHlDYWxsYmFjayA9IChlbmVteTogVW5pdCwgc2hvdDogU2hvdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IGFueTtcclxudHlwZSBMZXZlbFNjYWxlID0gKGxldmVsOiBudW1iZXIpID0+IG51bWJlcjtcclxudHlwZSBTcGVlZFN0cnVjdCA9IHsgY3VycjogbnVtYmVyLCBkZWM6IG51bWJlciwgYWNjOiBudW1iZXIgfVxyXG50eXBlIEVuZHBvaW50ID0geyB2YWx1ZTogbnVtYmVyLCBpc01heDogYm9vbGVhbiwgb2JqZWN0OiBHYW1lT2JqZWN0IH1cclxudHlwZSBDb2xsaXNpb25QYWlyID0geyBhOiBHYW1lT2JqZWN0LCBiOiBVbml0IH1cclxudHlwZSBDb2xsaXNpb25SZXN1bHQgPSB7IGE6IFZlY3RvciwgYjogVmVjdG9yIH1cclxuXHJcbmVudW0gRGVhdGhDYXVzZUVudW0ge1xyXG4gICAgT1VUX09GX0JPVU5EUyxcclxuICAgIExJVkVTLFxyXG4gICAgQ09MTElTSU9OXHJcbn1cclxuXHJcbmVudW0gSGl0VHlwZUVudW0ge1xyXG4gICAgSElULFxyXG4gICAgREVTVFJPWUVEXHJcbn1cclxuXHJcbmVudW0gUm9sZSB7XHJcbiAgICBQTEFZRVIsXHJcbiAgICBFTkVNWVxyXG59XHJcblxyXG5jbGFzcyBCb3VuZGFyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWluWDogbnVtYmVyLCBwdWJsaWMgbWluWTogbnVtYmVyLCBwdWJsaWMgbWF4WDogbnVtYmVyLCBwdWJsaWMgbWF4WTogbnVtYmVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgc2hhcGU6IFNoYXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHggPj0gdGhpcy5taW5YICYmIHkgPj0gdGhpcy5taW5ZICYmICh4ICsgc2hhcGUuZ2V0V2lkdGgoKSkgPD0gdGhpcy5tYXhYICYmICh5ICsgc2hhcGUuZ2V0SGVpZ2h0KCkpIDw9IHRoaXMubWF4WTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTm9Cb3VuZGFyeSBleHRlbmRzIEJvdW5kYXJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAsIDAsIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHNoYXBlOiBTaGFwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBTaGFwZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHVibGljIGNvbG9yOiBzdHJpbmcsIHB1YmxpYyBtYXNzOiBudW1iZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0V2lkdGgoKTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRIZWlnaHQoKTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKHBvczogVmVjdG9yLCBvdGhlcjogUmVjdGFuZ2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoKHBvczogVmVjdG9yLCBvdGhlcjogU2hhcGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBSZWN0YW5nbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKHBvcywgb3RoZXIsIG90aGVyUG9zKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG90aGVyIGluc3RhbmNlb2YgQ2lyY2xlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQ29sbGlkaW5nV2l0aENpcmNsZShwb3MsIG90aGVyLCBvdGhlclBvcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzaGFwZSB0eXBlOiBcIiArIG90aGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgU2hhcGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsIG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodFxyXG4gICAgfVxyXG5cclxuICAgIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGhcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGluZ1dpdGhDaXJjbGUocG9zOiBWZWN0b3IsIG90aGVyOiBDaXJjbGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIuaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKG90aGVyUG9zLCB0aGlzLCBwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGluZ1dpdGhSZWN0YW5nbGUocG9zOiBWZWN0b3IsIG90aGVyOiBSZWN0YW5nbGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gcG9zLnggPCBvdGhlclBvcy54ICsgb3RoZXIuZ2V0V2lkdGgoKSAmJlxyXG4gICAgICAgICAgICBwb3MueCArIHRoaXMuZ2V0V2lkdGgoKSA+IG90aGVyUG9zLnggJiZcclxuICAgICAgICAgICAgcG9zLnkgPCBvdGhlclBvcy55ICsgb3RoZXIuZ2V0SGVpZ2h0KCkgJiZcclxuICAgICAgICAgICAgcG9zLnkgKyB0aGlzLmdldEhlaWdodCgpID4gb3RoZXJQb3MueTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2hhclJlY3RhbmdsZSBleHRlbmRzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyLCBwcml2YXRlIHJlYWRvbmx5IGNoYXI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBtYXNzKTtcclxuICAgICAgICB0aGlzLmNoYXIgPSB0aGlzLmNoYXIuY2hhckF0KDApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCk7XHJcbiAgICAgICAgY29udGV4dC5mb250ID0gXCIyMHB4IEFyaWFsXCI7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICBsZXQgdHh0V2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuY2hhcikud2lkdGg7XHJcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLmNoYXIsIDAuNSAqIHRoaXMud2lkdGggLSAwLjUgKiB0eHRXaWR0aCwgMC41ICogdGhpcy5oZWlnaHQgKyAwLjUgKiAyMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENpcmNsZSBleHRlbmRzIFNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByYWRpdXM6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsIG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyICogdGhpcy5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMiAqIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZlwiO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdCgwLCAwLCAyICogdGhpcy5yYWRpdXMsIDIgKiB0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjb250ZXh0LmFyYyh0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShwb3M6IFZlY3Rvciwgb3RoZXI6IFJlY3RhbmdsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBjbG9zZXN0WCA9IGNsYW1wKHRoaXMuY2VudGVyKHBvcy54KSwgb3RoZXJQb3MueCwgb3RoZXJQb3MueCArIG90aGVyLmdldFdpZHRoKCkpO1xyXG4gICAgICAgIGxldCBjbG9zZXN0WSA9IGNsYW1wKHRoaXMuY2VudGVyKHBvcy55KSwgb3RoZXJQb3MueSwgb3RoZXJQb3MueSArIG90aGVyLmdldEhlaWdodCgpKTtcclxuXHJcbiAgICAgICAgbGV0IGRpc3RhbmNlWCA9IHRoaXMuY2VudGVyKHBvcy54KSAtIGNsb3Nlc3RYO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZVkgPSB0aGlzLmNlbnRlcihwb3MueSkgLSBjbG9zZXN0WTtcclxuXHJcbiAgICAgICAgbGV0IGRpc3RhbmNlU3F1YXJlZCA9IChkaXN0YW5jZVggKiBkaXN0YW5jZVgpICsgKGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlU3F1YXJlZCA8ICh0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHRoaXMuY2VudGVyKG90aGVyUG9zLngpIC0gdGhpcy5jZW50ZXIocG9zLngpLCAyKVxyXG4gICAgICAgICAgICArIE1hdGgucG93KHRoaXMuY2VudGVyKHBvcy55KSAtIHRoaXMuY2VudGVyKG90aGVyUG9zLnkpLCAyKVxyXG4gICAgICAgICAgICA8IE1hdGgucG93KHRoaXMucmFkaXVzICsgb3RoZXIucmFkaXVzLCAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNlbnRlcihuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBuICsgdGhpcy5yYWRpdXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIEdhbWVPYmplY3RUeXBlIHtcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgc2hhcGU6IFNoYXBlLCBwdWJsaWMgYm91bmRhcnk6IEJvdW5kYXJ5LCBwdWJsaWMgbW92ZTogTW92ZSkge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVW5pdFR5cGUgZXh0ZW5kcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBwdWJsaWMgbW9ycGg6IFVuaXRUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByb2xlOiBSb2xlLCBwdWJsaWMgbGl2ZXM6IG51bWJlciwgcHVibGljIHNob3RGcmVxOiBudW1iZXIsIHNoYXBlOiBTaGFwZSwgYm91bmRhcnk6IEJvdW5kYXJ5LCBtb3ZlOiBNb3ZlLCBwdWJsaWMgc2hvdDogU2hvdFR5cGUsIHB1YmxpYyBib3VudGllczogQm91bnR5Q2FsbGJhY2tbXSkge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIFNob3RUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIGRtZzogbnVtYmVyLCBzaGFwZTogU2hhcGUsIGJvdW5kYXJ5OiBCb3VuZGFyeSwgbW92ZTogTW92ZSkge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRW52aXJvbm1lbnRUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgY29uc3RydWN0b3Ioc2hhcGU6IFNoYXBlLCBib3VuZGFyeTogQm91bmRhcnksIG1vdmU6IE1vdmUpIHtcclxuICAgICAgICBzdXBlcihzaGFwZSwgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIE1vdmUge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIHNwZWVkOiBTcGVlZFN0cnVjdCA9IG51bGwsIG1vdmVWZWN0b3I6IFZlY3RvciA9IG51bGwpOiBWZWN0b3Ige1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRlZCFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgY29weSgpOiBNb3ZlO1xyXG5cclxuICAgIGFic3RyYWN0IHNldFJvdGF0aW9uKHJvdGF0aW9uOiBudW1iZXIpOiBNb3ZlO1xyXG5cclxuICAgIGFic3RyYWN0IGdldFZlY3RvcigpOiBWZWN0b3I7XHJcbn1cclxuXHJcbmNsYXNzIENvbnN0YW50TW92ZSBleHRlbmRzIE1vdmUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHZlY3RvcjogVmVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBzcGVlZDogU3BlZWRTdHJ1Y3QgPSBudWxsLCBtb3ZlVmVjdG9yOiBWZWN0b3IgPSBudWxsKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb20odGhpcy52ZWN0b3IueCAqIGVsYXBzZWRUaW1lLCB0aGlzLnZlY3Rvci55ICogZWxhcHNlZFRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb3B5KCk6IE1vdmUge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tT3RoZXIodGhpcy52ZWN0b3IpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHNldFJvdGF0aW9uKHJvdGF0aW9uOiBudW1iZXIpOiBNb3ZlIHtcclxuICAgICAgICB0aGlzLnZlY3Rvci5yb3RhdGUocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRWZWN0b3IoKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52ZWN0b3I7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIER5bmFtaWNNb3ZlIGV4dGVuZHMgTW92ZSB7XHJcbiAgICBwcml2YXRlIGxhc3RWZWN0b3I6IFZlY3RvciA9IFZlY3Rvci56ZXJvKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkZWNTcGVlZDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIsIHNwZWVkOiBTcGVlZFN0cnVjdCwgbW92ZVZlY3RvcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICBsZXQgdmVjdG9yID0gVmVjdG9yLmZyb21PdGhlcihtb3ZlVmVjdG9yKTtcclxuICAgICAgICB2ZWN0b3Iuc2NhbGUoc3BlZWQuZGVjID09PSAwID8gMSA6IHNwZWVkLmN1cnIgLyAoc3BlZWQuY3VyciArIHNwZWVkLmRlYykpO1xyXG4gICAgICAgIGlmIChzcGVlZC5hY2MgPiAwKSB7XHJcbiAgICAgICAgICAgIHZlY3Rvci5hZGQoVmVjdG9yLmNvbnN0cnVjdChzcGVlZC5hY2MsIHJvdGF0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFzdFZlY3RvciA9IFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5zY2FsZSgxIC8gZWxhcHNlZFRpbWUpO1xyXG4gICAgICAgIHJldHVybiB2ZWN0b3I7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvcHkoKTogTW92ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEeW5hbWljTW92ZSh0aGlzLmRlY1NwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogTW92ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFZlY3RvcigpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RWZWN0b3I7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEF1ZGlvUG9vbCB7XHJcbiAgICBwcml2YXRlIHE6IEhUTUxBdWRpb0VsZW1lbnRbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdXJsOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5xLnB1c2gobmV3IEF1ZGlvKHVybCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBsZXQgYXVkaW8gPSB0aGlzLnEucG9wKCk7XHJcbiAgICAgICAgaWYgKCFhdWRpbykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXVkaW8gUG9vbCBpcyBub3QgYmlnIGVub3VnaCFcIiwgdGhpcy51cmwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF1ZGlvLmxvYWQoKTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIGlmIChwcm9taXNlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucS5wdXNoKGF1ZGlvKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBTaGFwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBDaGFyUmVjdGFuZ2xlKDIwLCAzNSwgXCIjNmE3ZmVkXCIsIDEwLCBcIkFcIiksXHJcbiAgICBBU1RFUk9JRF9TOiBuZXcgQ2lyY2xlKEVORU1ZX1JBRElVUywgXCIjZmYyNzY2XCIsIDEwKSxcclxuICAgIEFTVEVST0lEX006IG5ldyBDaXJjbGUoMiAqIEVORU1ZX1JBRElVUywgXCIjYmIyYzViXCIsIDIwKSxcclxuICAgIEFTVEVST0lEX0w6IG5ldyBDaXJjbGUoNCAqIEVORU1ZX1JBRElVUywgXCIjYTMxNjNlXCIsIDMwKSxcclxuICAgIFNIT1Q6IG5ldyBSZWN0YW5nbGUoNSwgNSwgXCIjZmZmZmZmXCIsIDApLFxyXG4gICAgQ0xPVUQ6IG5ldyBSZWN0YW5nbGUoMTUwLCAxNTAsIFwiIzBhMWUzYVwiLCAwKVxyXG59O1xyXG5cclxuY29uc3QgQm91bmRhcnlFbnVtID0ge1xyXG4gICAgTk9ORTogbmV3IE5vQm91bmRhcnkoKSxcclxuICAgIFNIT1Q6IG5ldyBCb3VuZGFyeSgwLCAwLCBXSURUSCwgSEVJR0hUKSxcclxuICAgIENMT1VEOiBuZXcgQm91bmRhcnkoLVNoYXBlRW51bS5DTE9VRC53aWR0aCwgLVNoYXBlRW51bS5DTE9VRC5oZWlnaHQsIFdJRFRIICsgU2hhcGVFbnVtLkNMT1VELndpZHRoLCBIRUlHSFQgKyBTaGFwZUVudW0uQ0xPVUQuaGVpZ2h0KVxyXG59O1xyXG5cclxuY29uc3QgQm91bnR5RW51bSA9IHtcclxuICAgIFNDT1JFX1NUOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoMTApO1xyXG4gICAgfSxcclxuICAgIEhFQUxUSF9TVDogKGVuZW15OiBVbml0LCBzaG90OiBHYW1lT2JqZWN0LCB0eXBlOiBIaXRUeXBlRW51bSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09IEhpdFR5cGVFbnVtLkRFU1RST1lFRClcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDAsIDEpO1xyXG4gICAgfSxcclxuICAgIFNDT1JFX0ZBU1Q6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ISVQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygyMCk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoNTApO1xyXG4gICAgfSxcclxuICAgIFNDT1JFXzMwOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoMzApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgTW92ZVR5cGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgRHluYW1pY01vdmUoREVDRUxFUkFUSU9OX1NQRUVEKSxcclxuICAgIEVORU1ZX1NJTVBMRTogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjEpKSxcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tKDAsIC0wLjUpKSxcclxuICAgIEVORU1ZX1NIT1Q6IG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb20oMCwgMC40KSksXHJcbiAgICBDTE9VRDogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjA1KSlcclxufTtcclxuXHJcbmNvbnN0IFNob3RUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFNob3RUeXBlKDEsIFNoYXBlRW51bS5TSE9ULCBCb3VuZGFyeUVudW0uU0hPVCwgTW92ZVR5cGVFbnVtLlBMQVlFUl9TSE9UKSxcclxuICAgIEVORU1ZOiBuZXcgU2hvdFR5cGUoMSwgU2hhcGVFbnVtLlNIT1QsIEJvdW5kYXJ5RW51bS5TSE9ULCBNb3ZlVHlwZUVudW0uRU5FTVlfU0hPVClcclxufTtcclxuXHJcbmNvbnN0IFVuaXRUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFVuaXRUeXBlKFJvbGUuUExBWUVSLCAzLCAwLCBTaGFwZUVudW0uUExBWUVSLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLlBMQVlFUiwgU2hvdFR5cGVFbnVtLlBMQVlFUiwgW10pLFxyXG4gICAgQVNURVJPSURfUzogbmV3IFVuaXRUeXBlKFJvbGUuRU5FTVksIDEsIDAsIFNoYXBlRW51bS5BU1RFUk9JRF9TLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLkVORU1ZX1NJTVBMRSwgU2hvdFR5cGVFbnVtLlBMQVlFUiwgW10pLFxyXG4gICAgQVNURVJPSURfTTogbmV3IFVuaXRUeXBlKFJvbGUuRU5FTVksIDEsIDAsIFNoYXBlRW51bS5BU1RFUk9JRF9NLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLkVORU1ZX1NJTVBMRSwgU2hvdFR5cGVFbnVtLkVORU1ZLCBbXSksXHJcbiAgICBBU1RFUk9JRF9MOiBuZXcgVW5pdFR5cGUoUm9sZS5FTkVNWSwgMSwgMCwgU2hhcGVFbnVtLkFTVEVST0lEX0wsIEJvdW5kYXJ5RW51bS5OT05FLCBNb3ZlVHlwZUVudW0uRU5FTVlfU0lNUExFLCBTaG90VHlwZUVudW0uRU5FTVksIFtdKSxcclxufTtcclxuXHJcbmNvbnN0IEVudmlyb25tZW50VHlwZUVudW0gPSB7XHJcbiAgICBDTE9VRDogbmV3IEVudmlyb25tZW50VHlwZShTaGFwZUVudW0uQ0xPVUQsIEJvdW5kYXJ5RW51bS5DTE9VRCwgTW92ZVR5cGVFbnVtLkNMT1VEKVxyXG59O1xyXG5cclxuY29uc3QgQXVkaW9Qb29sRW51bSA9IHtcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQXVkaW9Qb29sKFwiYXVkaW8vU2hvdC53YXZcIiwgNSksXHJcbiAgICBDT0xMSVNJT046IG5ldyBBdWRpb1Bvb2woXCJhdWRpby9Db2xsaXNpb24ud2F2XCIsIDEwKVxyXG59O1xyXG5cclxuLy9lbmRyZWdpb25cclxuXHJcbi8vcmVnaW9uIEdhbWVPYmplY3RzXHJcbnR5cGUgSGl0Q2FsbGJhY2sgPSAob3RoZXI6IEdhbWVPYmplY3QpID0+IGFueTtcclxudHlwZSBEZXN0cm95ZWRDYWxsYmFjayA9IChvYmplY3Q6IEdhbWVPYmplY3QsIGNhdXNlOiBEZWF0aENhdXNlRW51bSkgPT4gYW55O1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgR2FtZU9iamVjdCB7XHJcbiAgICBwdWJsaWMgcm90YXRpb246IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbW92ZTogTW92ZSA9IG51bGw7XHJcbiAgICBwdWJsaWMgbW92ZVZlY3RvcjogVmVjdG9yID0gVmVjdG9yLnplcm8oKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3BlZWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogR2FtZU9iamVjdFR5cGUsIHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyByb3Q6IG51bWJlciwgcHVibGljIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMubW92ZSA9IHR5cGUubW92ZS5jb3B5KCkuc2V0Um90YXRpb24ocm90KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IgPSB0aGlzLm1vdmUubW92ZShlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgbGV0IG9sZCA9IFZlY3Rvci5mcm9tKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54ICsgdGhpcy5tb3ZlVmVjdG9yLngsIHRoaXMueSArIHRoaXMubW92ZVZlY3Rvci55LCB0aGlzLnR5cGUuc2hhcGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmVWZWN0b3IueDtcclxuICAgICAgICAgICAgdGhpcy55ICs9IHRoaXMubW92ZVZlY3Rvci55O1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5IGluc3RhbmNlb2YgTm9Cb3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YXJwVG9PdGhlclNpZGUob2xkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlICE9IFVuaXRUeXBlRW51bS5QTEFZRVIpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3llZCh0aGlzLCBEZWF0aENhdXNlRW51bS5PVVRfT0ZfQk9VTkRTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHdhcnBUb090aGVyU2lkZShvbGQ6IFZlY3Rvcikge1xyXG4gICAgICAgIGlmICh0aGlzLnggPiBXSURUSCAmJiAhKG9sZC54ID4gV0lEVEgpKVxyXG4gICAgICAgICAgICB0aGlzLnggPSAtdGhpcy5nZXRXaWR0aCgpO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSA8IDAgJiYgIShvbGQueCArIHRoaXMuZ2V0V2lkdGgoKSA8IDApKVxyXG4gICAgICAgICAgICB0aGlzLnggPSBXSURUSDtcclxuICAgICAgICBpZiAodGhpcy55ID4gSEVJR0hUICYmICEob2xkLnkgPiBIRUlHSFQpKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSAtdGhpcy5nZXRIZWlnaHQoKTtcclxuICAgICAgICBlbHNlIGlmICh0aGlzLnkgKyB0aGlzLmdldEhlaWdodCgpIDwgMCAmJiAhKG9sZC55ICsgdGhpcy5nZXRIZWlnaHQoKSA8IDApKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSBIRUlHSFQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5pc0NvbGxpZGluZ1dpdGgoVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpLCBvdGhlci50eXBlLnNoYXBlLCBWZWN0b3IuZnJvbShvdGhlci54LCBvdGhlci55KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnggKyAwLjUgKiB0aGlzLmdldFdpZHRoKCksIHRoaXMueSArIDAuNSAqIHRoaXMuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgICAgIGNvbnRleHQucm90YXRlKHJhZCh0aGlzLnJvdGF0aW9uKSk7XHJcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTAuNSAqIHRoaXMuZ2V0V2lkdGgoKSwgLTAuNSAqIHRoaXMuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgICAgIHRoaXMudHlwZS5zaGFwZS5yZW5kZXIoY29udGV4dCk7XHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KTtcclxuXHJcbiAgICAvL3JlZ2lvbiBIZWxwZXIgTWV0aG9kc1xyXG4gICAgcHVibGljIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5nZXRXaWR0aCgpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbG9yKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5jb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TWFzcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUuc2hhcGUubWFzcztcclxuICAgIH1cclxuXHJcbiAgICAvL2VuZHJlZ2lvblxyXG59XHJcblxyXG5jbGFzcyBVbml0IGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcblxyXG4gICAgcHVibGljIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKC8qdGhpcy50eXBlLnJvbGUgPT0gUm9sZS5FTkVNWSAmJiBvdGhlciBpbnN0YW5jZW9mIFVuaXQgJiYgb3RoZXIudHlwZS5yb2xlID09IFJvbGUuRU5FTVkqL3RydWUpIHtcclxuICAgICAgICAgICAgbGV0IGNvbGxpc2lvbiA9IGNvbGxpZGUodGhpcywgb3RoZXIgYXMgVW5pdCk7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVZlY3RvciA9IGNvbGxpc2lvbi5hO1xyXG4gICAgICAgICAgICBvdGhlci5tb3ZlVmVjdG9yID0gY29sbGlzaW9uLmI7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSA9IG5ldyBDb25zdGFudE1vdmUoY29sbGlzaW9uLmEpO1xyXG4gICAgICAgICAgICBvdGhlci5tb3ZlID0gbmV3IENvbnN0YW50TW92ZShjb2xsaXNpb24uYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpdmVzIDwgMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLm1vcnBoKSB7XHJcbiAgICAgICAgICAgICAgICBtb3JwaCh0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uTElWRVMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgbGl2ZXM6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgICAgIHRoaXMubGl2ZXMgPSB0eXBlLmxpdmVzO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWxpdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGl2ZXMgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5ib3VuZGFyeS5pc0luQm91bmRzKHRoaXMueCwgdGhpcy55LCB0aGlzLnR5cGUuc2hhcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgbW92ZW1lbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZShlbGFwc2VkVGltZSwgcm90YXRpb24sIG1vdmVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBVbml0VHlwZUVudW0uUExBWUVSKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnR5cGUuc2hvdEZyZXEpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvb3QoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdCgpOiBTaG90IHtcclxuICAgICAgICBsZXQgaWQgPSBzaG90SWRDb3VudGVyO1xyXG4gICAgICAgIGxldCBzaG90ID0gbmV3IFNob3QoaWQsIHRoaXMudHlwZSwgdGhpcy50eXBlLnNob3QsIHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSAvIDIsIHRoaXMueSArIHRoaXMuZ2V0SGVpZ2h0KCkgLyAyLCB0aGlzLnJvdGF0aW9uLCAob2JqZWN0LCBjYXVzZSkgPT4ge1xyXG4gICAgICAgICAgICBzaG90cy5kZWxldGUob2JqZWN0LmlkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IuYWRkKFZlY3Rvci5jb25zdHJ1Y3QoS05PQ0tfQkFDSywgdGhpcy5yb3RhdGlvbikuc2NhbGUoLTEpKTtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTUFYX1NQRUVELCB0aGlzLnNwZWVkICsgKEtOT0NLX0JBQ0spKTtcclxuICAgICAgICBzaG90cy5zZXQoaWQsIHNob3QpO1xyXG4gICAgICAgIHNob3RJZENvdW50ZXIrKztcclxuICAgICAgICBBdWRpb1Bvb2xFbnVtLlBMQVlFUl9TSE9ULnBsYXkoKTtcclxuICAgICAgICByZXR1cm4gc2hvdDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGxheWVyIGV4dGVuZHMgVW5pdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkhpdChvdGhlcjogR2FtZU9iamVjdCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxpdmVzIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveWVkKHRoaXMsIERlYXRoQ2F1c2VFbnVtLkxJVkVTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBtb3ZlbWVudDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IG1vZCh0aGlzLnJvdGF0aW9uICsgcm90YXRpb24gKiBST1RBVElPTl9TUEVFRCAqIGVsYXBzZWRUaW1lLCAzNjApO1xyXG4gICAgICAgIGxldCBvbGRTcGVlZCA9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWF4KDAsIHRoaXMuc3BlZWQgLSAoREVDRUxFUkFUSU9OX1NQRUVEICogZWxhcHNlZFRpbWUgLyAxMDApKTtcclxuICAgICAgICBsZXQgZGVjU3BlZWQgPSBvbGRTcGVlZCAtIHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgbGV0IGFjY1NwZWVkID0gMDtcclxuICAgICAgICBvbGRTcGVlZCA9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgaWYgKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBNYXRoLm1pbihNQVhfU1BFRUQsIHRoaXMuc3BlZWQgKyAoQUNDX1NQRUVEICogZWxhcHNlZFRpbWUgLyAxMDApKTtcclxuICAgICAgICAgICAgYWNjU3BlZWQgPSB0aGlzLnNwZWVkIC0gb2xkU3BlZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubW92ZVZlY3RvciA9IHRoaXMubW92ZS5tb3ZlKGVsYXBzZWRUaW1lLCB0aGlzLnJvdGF0aW9uLCB7XHJcbiAgICAgICAgICAgIGN1cnI6IG9sZFNwZWVkLFxyXG4gICAgICAgICAgICBkZWM6IGRlY1NwZWVkLFxyXG4gICAgICAgICAgICBhY2M6IGFjY1NwZWVkXHJcbiAgICAgICAgfSwgdGhpcy5tb3ZlVmVjdG9yKTtcclxuXHJcbiAgICAgICAgbGV0IG9sZCA9IFZlY3Rvci5mcm9tKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLnggKz0gdGhpcy5tb3ZlVmVjdG9yLng7XHJcbiAgICAgICAgdGhpcy55ICs9IHRoaXMubW92ZVZlY3Rvci55O1xyXG4gICAgICAgIHRoaXMud2FycFRvT3RoZXJTaWRlKG9sZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFNob3QgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHB1YmxpYyBpbml0aWF0b3I6IFVuaXRUeXBlLCBwdWJsaWMgdHlwZTogU2hvdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQ29sbGlkaW5nV2l0aChvdGhlcjogR2FtZU9iamVjdCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBzdXBlci5pc0NvbGxpZGluZ1dpdGgob3RoZXIpICYmIHRoaXMuaW5pdGlhdG9yICE9PSBvdGhlci50eXBlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkhpdChvdGhlcjogR2FtZU9iamVjdCkge1xyXG4gICAgICAgIGxldCBvID0gb3RoZXIgYXMgVW5pdDtcclxuICAgICAgICBpZiAodGhpcy5pbml0aWF0b3IgPT0gby50eXBlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgby50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IHtcclxuICAgICAgICAgICAgYm91bnR5KG8sIHRoaXMsIEhpdFR5cGVFbnVtLkhJVClcclxuICAgICAgICB9KTtcclxuICAgICAgICBvLmxpdmVzIC09IHRoaXMudHlwZS5kbWc7XHJcbiAgICAgICAgby5vbkhpdCh0aGlzKTtcclxuICAgICAgICB1cGRhdGVTdGF0dXMoMCk7XHJcbiAgICAgICAgdGhpcy5vbkRlc3Ryb3llZCh0aGlzLCBEZWF0aENhdXNlRW51bS5DT0xMSVNJT04pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBFbnZpcm9ubWVudCBleHRlbmRzIEdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdHlwZTogRW52aXJvbm1lbnRUeXBlLCB4OiBudW1iZXIsIHk6IG51bWJlciwgcm90OiBudW1iZXIsIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCB4LCB5LCByb3QsIG9uRGVzdHJveWVkKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25IaXQob3RoZXI6IEdhbWVPYmplY3QpIHtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTGV2ZWwge1xyXG4gICAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgbGV2ZWxTcGF3bnM6IG51bWJlciA9IDE7XHJcbiAgICBwcml2YXRlIHBhc3NlZFNwYXduczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBjdXJyQ29vbGRvd246IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHN0YXRlOiBudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBsZXZlbFNjYWxlOiBMZXZlbFNjYWxlLCBwcml2YXRlIGVuZW15Q291bnRlcjogKCkgPT4gbnVtYmVyLCBwcml2YXRlIGNvb2xkb3duOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm4gdHJ1ZSBpZiBlbmVtaWVzIGNhbiBiZSBzcGF3bmVkLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGVMZXZlbChlbGFwc2VkVGltZTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDogdGhpcy5jaGVja0FsbFNwYXduZWQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTogdGhpcy5jaGVja0FsbERlc3Ryb3llZCgpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOiB0aGlzLmNoZWNrQ29vbGRvd24oZWxhcHNlZFRpbWUpOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5sZXZlbCsrO1xyXG4gICAgICAgIHRoaXMubGV2ZWxTcGF3bnMgPSB0aGlzLmxldmVsU2NhbGUodGhpcy5sZXZlbCk7XHJcbiAgICAgICAgdGhpcy5wYXNzZWRTcGF3bnMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJDb29sZG93biA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExpbWl0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxTcGF3bnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExldmVsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0FsbFNwYXduZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZW5lbXlDb3VudGVyKCkgPj0gdGhpcy5sZXZlbFNwYXducylcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0FsbERlc3Ryb3llZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmVteUNvdW50ZXIoKSA9PSAwKVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQ29vbGRvd24oZWxhcHNlZFRpbWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJDb29sZG93biA+IHRoaXMuY29vbGRvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5yYWlzZUxldmVsKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyQ29vbGRvd24gKz0gZWxhcHNlZFRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmFpc2VMZXZlbCgpIHtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vZW5kcmVnaW9uXHJcblxyXG52YXIgZnJvbnRDYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG52YXIgZnJvbnRDb250ZXh0ID0gZnJvbnRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxudmFyIGJhY2tDYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbmJhY2tDYW52YXMud2lkdGggPSBXSURUSDtcclxuYmFja0NhbnZhcy5oZWlnaHQgPSBIRUlHSFQ7XHJcbnZhciBiYWNrQ29udGV4dCA9IGJhY2tDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxudmFyIHN0YXJ0ID0gbnVsbDtcclxudmFyIGN1cnJlbnRJbnB1dCA9IHtcclxuICAgIHNwYWNlOiBmYWxzZSxcclxuICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgdXA6IGZhbHNlLFxyXG4gICAgZG93bjogZmFsc2VcclxufTtcclxudmFyIHByaW9ySW5wdXQgPSB7XHJcbiAgICBzcGFjZTogZmFsc2UsXHJcbiAgICBsZWZ0OiBmYWxzZSxcclxuICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIHVwOiBmYWxzZSxcclxuICAgIGRvd246IGZhbHNlXHJcbn07XHJcblxyXG52YXIgcGxheWVyID0gbmV3IFBsYXllcigwLCBVbml0VHlwZUVudW0uUExBWUVSLCAwLCAwLCAwLCAoKSA9PiB7XHJcbiAgICBlbmRHYW1lKCk7XHJcbn0pO1xyXG5wbGF5ZXIueCA9IFdJRFRIIC8gMiAtIHBsYXllci5nZXRXaWR0aCgpIC8gMjtcclxucGxheWVyLnkgPSBIRUlHSFQgLSBwbGF5ZXIuZ2V0SGVpZ2h0KCk7XHJcbnZhciBzY29yZSA9IDA7XHJcbnZhciBzY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjb3JlX3RleHRcIik7XHJcbnZhciBsaXZlc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpdmVzX3RleHRcIik7XHJcbnZhciBsZXZlbEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsX3RleHRcIik7XHJcblxyXG52YXIgZW5lbXlUaW1lVG9TcGF3biA9IDA7XHJcbnZhciBlbmVteUlkQ291bnRlciA9IDA7XHJcbnZhciBzaG90SWRDb3VudGVyID0gMDtcclxudmFyIGVudmlyb25tZW50SWRDb3VudGVyID0gMDtcclxudmFyIGVuZW1pZXMgPSBuZXcgTWFwPG51bWJlciwgVW5pdD4oKTtcclxudmFyIHNob3RzID0gbmV3IE1hcDxudW1iZXIsIFNob3Q+KCk7XHJcbnZhciBlbnZpcm9ubWVudHMgPSBuZXcgTWFwPG51bWJlciwgRW52aXJvbm1lbnQ+KCk7XHJcbnZhciBydW5uaW5nOiBib29sZWFuID0gdHJ1ZTtcclxubGV0IHNwYXduQ29vbGRvd246IGJvb2xlYW4gPSB0cnVlO1xyXG5sZXQgbGV2ZWw6IExldmVsID0gbmV3IExldmVsKGx2bCA9PiBFTkVNWV9TQ0FMSU5HICogbHZsLCAoKSA9PiBlbmVtaWVzLnNpemUsIExWTF9DT09MRE9XTik7XHJcblxyXG5Vbml0VHlwZUVudW0uQVNURVJPSURfTS5tb3JwaCA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9TO1xyXG5Vbml0VHlwZUVudW0uQVNURVJPSURfTC5tb3JwaCA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9NO1xyXG5cclxuZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcclxuICAgIGlmICghcnVubmluZylcclxuICAgICAgICByZXR1cm47XHJcbiAgICB1cGRhdGVTdGF0dXMoMCwgMCwgbGV2ZWwuZ2V0TGV2ZWwoKSk7XHJcbiAgICBpZiAoIXN0YXJ0KSBzdGFydCA9IHRpbWVzdGFtcDtcclxuICAgIGxldCBlbGFwc2VkVGltZSA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xyXG4gICAgc3RhcnQgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgaWYgKGxldmVsLnVwZGF0ZUxldmVsKGVsYXBzZWRUaW1lKSlcclxuICAgICAgICBjcmVhdGVFbmVteShlbGFwc2VkVGltZSk7XHJcbiAgICBjcmVhdGVFbnZpcm9ubWVudCgpO1xyXG4gICAgdXBkYXRlKGVsYXBzZWRUaW1lKTtcclxuICAgIHJlbmRlcihlbGFwc2VkVGltZSk7XHJcbiAgICBwb2xsSW5wdXQoKTtcclxuXHJcbiAgICBmcm9udENvbnRleHQuY2xlYXJSZWN0KDAsIDAsIFdJRFRILCBIRUlHSFQpO1xyXG4gICAgZnJvbnRDb250ZXh0LmRyYXdJbWFnZShiYWNrQ2FudmFzLCAwLCAwKTtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcClcclxufVxyXG5cclxuZnVuY3Rpb24gcG9sbElucHV0KCkge1xyXG4gICAgcHJpb3JJbnB1dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudElucHV0KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5zcGFjZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQudXAgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQubGVmdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxyXG4gICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQucmlnaHQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlkb3duKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUtleXVwKGV2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQuc3BhY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6XHJcbiAgICAgICAgY2FzZSAndyc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC51cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQubGVmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXl1cCk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbmVteShlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICBlbmVteVRpbWVUb1NwYXduICs9IGVsYXBzZWRUaW1lO1xyXG4gICAgaWYgKGVuZW15VGltZVRvU3Bhd24gPiBFTkVNWV9TUEFXTl9SQVRFKSB7XHJcbiAgICAgICAgZW5lbXlUaW1lVG9TcGF3biA9IDA7XHJcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgKiBFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSA8IDEpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gZW5lbXlJZENvdW50ZXI7XHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gVW5pdFR5cGVFbnVtLkFTVEVST0lEX007XHJcbiAgICAgICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9MO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uQVNURVJPSURfUztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmVtaWVzLnNldChpZCwgbmV3IFVuaXQoaWQsIHR5cGUsIE1hdGgucmFuZG9tKCkgKiAoV0lEVEggLSB0eXBlLnNoYXBlLmdldFdpZHRoKCkpLCAtdHlwZS5zaGFwZS5nZXRIZWlnaHQoKSwgTWF0aC5yYW5kb20oKSAqIDM2MCwgKG9iamVjdCwgY2F1c2UpID0+ICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uTElWRVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAob2JqZWN0IGFzIFVuaXQpLnR5cGUuYm91bnRpZXMuZm9yRWFjaChib3VudHkgPT4gYm91bnR5KG9iamVjdCBhcyBVbml0LCBudWxsLCBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZW1pZXMuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBlbmVteUlkQ291bnRlcisrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRW52aXJvbm1lbnQoKSB7XHJcbiAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGVudmlyb25tZW50SWRDb3VudGVyO1xyXG4gICAgICAgICAgICBlbnZpcm9ubWVudHMuc2V0KGlkLCBuZXcgRW52aXJvbm1lbnQoaWQsIEVudmlyb25tZW50VHlwZUVudW0uQ0xPVUQsIE1hdGgucmFuZG9tKCkgKiBXSURUSCwgLUVudmlyb25tZW50VHlwZUVudW0uQ0xPVUQuc2hhcGUuZ2V0SGVpZ2h0KCksIDAsIChvYmplY3QsIGNhdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMuZGVsZXRlKG9iamVjdC5pZCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnRJZENvdW50ZXIrKztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY29sbGlkZShhOiBVbml0LCBiOiBVbml0KTogQ29sbGlzaW9uUmVzdWx0IHtcclxuICAgIC8vaHR0cDovL3d3dy52b2Jhcmlhbi5jb20vY29sbGlzaW9ucy8yZGNvbGxpc2lvbnMyLnBkZlxyXG4gICAgbGV0IHVuID0gVmVjdG9yLmZyb20oKGIueCArIDAuNSAqIGIuZ2V0V2lkdGgoKSkgLSAoYS54ICsgMC41ICogYS5nZXRXaWR0aCgpKSwgKGIueSArIDAuNSAqIGIuZ2V0SGVpZ2h0KCkpIC0gKGEueSArIDAuNSAqIGEuZ2V0SGVpZ2h0KCkpKS5ub3JtYWxpemUoKTtcclxuICAgIGxldCB1dCA9IFZlY3Rvci5wZXJwZW5kaWN1bGFyKHVuKTtcclxuICAgIGxldCB2MW4gPSBWZWN0b3IuZG90UHJvZHVjdCh1biwgYS5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2MXQgPSBWZWN0b3IuZG90UHJvZHVjdCh1dCwgYS5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2Mm4gPSBWZWN0b3IuZG90UHJvZHVjdCh1biwgYi5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2MnQgPSBWZWN0b3IuZG90UHJvZHVjdCh1dCwgYi5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2XzF0ID0gdjF0O1xyXG4gICAgbGV0IHZfMnQgPSB2MnQ7XHJcblxyXG4gICAgbGV0IHZfMW4gPSAodjFuICogKGEuZ2V0TWFzcygpIC0gYi5nZXRNYXNzKCkpICsgMiAqIGIuZ2V0TWFzcygpICogdjJuKSAvIChhLmdldE1hc3MoKSArIGIuZ2V0TWFzcygpKTtcclxuICAgIGxldCB2XzJuID0gKHYybiAqIChiLmdldE1hc3MoKSAtIGEuZ2V0TWFzcygpKSArIDIgKiBhLmdldE1hc3MoKSAqIHYxbikgLyAoYS5nZXRNYXNzKCkgKyBiLmdldE1hc3MoKSk7XHJcblxyXG4gICAgQXVkaW9Qb29sRW51bS5DT0xMSVNJT04ucGxheSgpO1xyXG4gICAgd2hpbGUgKGEuaXNDb2xsaWRpbmdXaXRoKGIpKSB7XHJcbiAgICAgICAgYS51cGRhdGUoLTEwKTtcclxuICAgICAgICBiLnVwZGF0ZSgtMTApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYTogVmVjdG9yLmZyb21PdGhlcih1bikuc2NhbGUodl8xbikuYWRkKFZlY3Rvci5mcm9tT3RoZXIodXQpLnNjYWxlKHZfMXQpKSxcclxuICAgICAgICBiOiBWZWN0b3IuZnJvbU90aGVyKHVuKS5zY2FsZSh2XzJuKS5hZGQoVmVjdG9yLmZyb21PdGhlcih1dCkuc2NhbGUodl8ydCkpXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb3JwaCh1bml0OiBVbml0KSB7XHJcbiAgICBsZXQgaWQgPSBlbmVteUlkQ291bnRlcisrO1xyXG4gICAgbGV0IGNvcHkgPSBuZXcgVW5pdChpZCwgdW5pdC50eXBlLm1vcnBoLCB1bml0LngsIHVuaXQueSwgMCwgKG9iamVjdCwgY2F1c2UpID0+IHtcclxuICAgICAgICBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uTElWRVMpIHtcclxuICAgICAgICAgICAgKG9iamVjdCBhcyBVbml0KS50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IGJvdW50eShvYmplY3QgYXMgVW5pdCwgbnVsbCwgSGl0VHlwZUVudW0uREVTVFJPWUVEKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZW1pZXMuZGVsZXRlKGlkKTtcclxuICAgIH0pO1xyXG4gICAgdW5pdC50eXBlID0gdW5pdC50eXBlLm1vcnBoO1xyXG4gICAgZW5lbWllcy5zZXQoaWQsIGNvcHkpO1xyXG4gICAgY29weS5tb3ZlID0gdW5pdC5tb3ZlLmNvcHkoKTtcclxuICAgIGNvcHkubW92ZS5zZXRSb3RhdGlvbigtMTIwKTtcclxuICAgIHVuaXQubW92ZS5zZXRSb3RhdGlvbigxMjApO1xyXG4gICAgd2hpbGUgKHVuaXQuaXNDb2xsaWRpbmdXaXRoKGNvcHkpKSB7XHJcbiAgICAgICAgdW5pdC51cGRhdGUoMTApO1xyXG4gICAgICAgIGNvcHkudXBkYXRlKDEwKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGlmIChjdXJyZW50SW5wdXQuc3BhY2UgJiYgIXByaW9ySW5wdXQuc3BhY2UpIHtcclxuICAgICAgICBwbGF5ZXIuc2hvb3QoKTtcclxuICAgIH1cclxuICAgIHBsYXllci51cGRhdGUoZWxhcHNlZFRpbWUsIGN1cnJlbnRJbnB1dC5sZWZ0ID8gLTEgOiAoY3VycmVudElucHV0LnJpZ2h0ID8gMSA6IDApLCBjdXJyZW50SW5wdXQudXApO1xyXG5cclxuICAgIGVuZW1pZXMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUudXBkYXRlKGVsYXBzZWRUaW1lKSk7XHJcblxyXG4gICAgbGV0IGNvbGxpc2lvblBhaXJzOiBDb2xsaXNpb25QYWlyW10gPSBbXTtcclxuXHJcbiAgICBzaG90cy5mb3JFYWNoKHNob3QgPT4ge1xyXG4gICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IHNob3QsIGI6IHBsYXllcn0pO1xyXG4gICAgICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiB7XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IHNob3QsIGI6IGVuZW15fSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gICAgbGV0IGVuZW15TGlzdDogVW5pdFtdID0gW107XHJcbiAgICBlbmVtaWVzLmZvckVhY2goKHZhbHVlKSA9PiBlbmVteUxpc3QucHVzaCh2YWx1ZSkpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmVteUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb2xsaXNpb25QYWlycy5wdXNoKHthOiBwbGF5ZXIsIGI6IGVuZW15TGlzdFtpXX0pO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGVuZW15TGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb2xsaXNpb25QYWlycy5wdXNoKHthOiBlbmVteUxpc3RbaV0sIGI6IGVuZW15TGlzdFtqXX0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbnZpcm9ubWVudHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuXHJcbiAgICBjaGVja0NvbGxpc2lvbnMoY29sbGlzaW9uUGFpcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0NvbGxpc2lvbnMocGFpcnM6IENvbGxpc2lvblBhaXJbXSkge1xyXG4gICAgcGFpcnMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgaWYgKHZhbHVlLmEuaXNDb2xsaWRpbmdXaXRoKHZhbHVlLmIpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmEub25IaXQodmFsdWUuYik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcihlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICBiYWNrQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgV0lEVEgsIEhFSUdIVCk7XHJcblxyXG4gICAgZW52aXJvbm1lbnRzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcblxyXG4gICAgcGxheWVyLnJlbmRlcihiYWNrQ29udGV4dCk7XHJcblxyXG4gICAgZW5lbWllcy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnJlbmRlcihiYWNrQ29udGV4dCkpO1xyXG5cclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhzY29yZURlbHRhOiBudW1iZXIsIGhlYWx0aERlbHRhOiBudW1iZXIgPSAwLCBsZXZlbDogbnVtYmVyID0gbnVsbCkge1xyXG4gICAgc2NvcmUgKz0gc2NvcmVEZWx0YTtcclxuICAgIHBsYXllci5saXZlcyArPSBoZWFsdGhEZWx0YTtcclxuICAgIHNjb3JlRWxlbWVudC5pbm5lclRleHQgPSBcIlwiICsgc2NvcmU7XHJcbiAgICBsaXZlc0VsZW1lbnQuaW5uZXJUZXh0ID0gXCJcIiArIHBsYXllci5saXZlcztcclxuICAgIGlmIChsZXZlbCAhPT0gbnVsbCkge1xyXG4gICAgICAgIGxldmVsRWxlbWVudC5pbm5lclRleHQgPSBcIlwiICsgbGV2ZWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuZEdhbWUoKSB7XHJcbiAgICBydW5uaW5nID0gZmFsc2U7XHJcbiAgICBhbGVydChcIkdhbWUgb3ZlciFcIik7XHJcbn1cclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yIHtcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgLypwcml2YXRlIG1vZFg6IG51bWJlciwgcHJpdmF0ZSBtb2RZOiBudW1iZXIqLykge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbSh4OiBudW1iZXIsIHk6IG51bWJlci8qLCBtb2RYOiBudW1iZXIsIG1vZFk6IG51bWJlciovKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LyosIG1vZFgsIG1vZFkqLyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tT3RoZXIob3RoZXI6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3Iob3RoZXIueCwgb3RoZXIueS8qLCBvdGhlci5tb2RYLCBvdGhlci5tb2RZKi8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgemVybygvKm1vZFg6IG51bWJlciwgbW9kWTogbnVtYmVyKi8pOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAvKiwgbW9kWCwgbW9kWSovKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbnN0cnVjdChtYWduaXR1ZGU6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IobWFnbml0dWRlICogTWF0aC5jb3MocmFkKGFuZ2xlKSksIG1hZ25pdHVkZSAqIE1hdGguc2luKHJhZChhbmdsZSkpKS5yb3RhdGUoLTkwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNaZXJvKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnggPT0gMCAmJiB0aGlzLnkgPT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFnbml0dWRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkKGE6IFZlY3RvciwgYjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcihhKS5hZGQoYik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZChvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJvdGF0ZSh2ZWN0b3I6IFZlY3RvciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUoYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IG9sZFggPSB0aGlzLng7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy54ICogTWF0aC5jb3MocmFkKGFuZ2xlKSkgLSB0aGlzLnkgKiBNYXRoLnNpbihyYWQoYW5nbGUpKTtcclxuICAgICAgICB0aGlzLnkgPSBvbGRYICogTWF0aC5zaW4ocmFkKGFuZ2xlKSkgKyB0aGlzLnkgKiBNYXRoLmNvcyhyYWQoYW5nbGUpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNjYWxlKHZlY3RvcjogVmVjdG9yLCBzY2FsYXI6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5zY2FsZShzY2FsYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzY2FsZShzY2FsYXI6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgICB0aGlzLnkgKj0gc2NhbGFyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbm9ybWFsaXplKHZlY3RvcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYWduaXR1ZGUoKSA9PT0gMCA/IHRoaXMgOiB0aGlzLnNjYWxlKDEgLyB0aGlzLm1hZ25pdHVkZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBlcnBlbmRpY3VsYXIodmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbU90aGVyKHZlY3RvcikucGVycGVuZGljdWxhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwZXJwZW5kaWN1bGFyKCk6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IG9sZFggPSB0aGlzLng7XHJcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueTtcclxuICAgICAgICB0aGlzLnkgPSBvbGRYO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZG90UHJvZHVjdChhOiBWZWN0b3IsIGI6IFZlY3Rvcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGEueCAqIGIueCArIGEueSAqIGIueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZG90UHJvZHVjdChvdGhlcjogVmVjdG9yKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmRvdFByb2R1Y3QodGhpcywgb3RoZXIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vZChuOiBudW1iZXIsIG06IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYWQobjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBuICogKE1hdGguUEkgLyAxODApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIG1pbiksIG1heCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9