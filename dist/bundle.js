!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r,s=n(1),u=800,h=600,a=s.default.from(0,.5);!function(t){t[t.OUT_OF_BOUNDS=0]="OUT_OF_BOUNDS",t[t.LIVES=1]="LIVES"}(o||(o={})),function(t){t[t.HIT=0]="HIT",t[t.DESTROYED=1]="DESTROYED"}(r||(r={}));var c=function(){function t(t,e,n,i){this.minX=t,this.minY=e,this.maxX=n,this.maxY=i}return t.prototype.isInBounds=function(t,e,n){return t>=this.minX&&e>=this.minY&&t+n.getWidth()<=this.maxX&&e+n.getHeight()<=this.maxY},t}(),f=function(){return function(t,e){this.color=t,this.mass=e}}(),p=function(t){function e(e,n,i,o){var r=t.call(this,i,o)||this;return r.width=e,r.height=n,r}return i(e,t),e.prototype.isInBounds=function(t,e,n){},e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e}(f),d=(function(t){function e(e,n,i){var o=t.call(this,n,i)||this;return o.radius=e,o}i(e,t),e.prototype.isInBounds=function(t,e,n){},e.prototype.getHeight=function(){return 2*this.radius},e.prototype.getWidth=function(){return 2*this.radius}}(f),function(){return function(t,e,n){this.shape=t,this.boundary=e,this.move=n}}()),l=function(t){function e(e,n,i,o,r,s,u){var h=t.call(this,i,o,r)||this;return h.lives=e,h.shotFreq=n,h.shot=s,h.bounties=u,h}return i(e,t),e}(d),y=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.dmg=e,r}return i(e,t),e}(d),m=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(d),v=function(){function t(t,e){this.speedX=t,this.speedY=e}return t.prototype.move=function(t,e,n,i){return{x:e+t*this.speedX,y:n+t*this.speedY}},t}(),g={PLAYER:new p(50,75,"#6a7fed",0),ENEMY:new p(45,50,"#ff0000",0),SHOT:new p(5,5,"#ffffff",0),HEALTH_ENEMY:new p(45,50,"#91ff6f",0),BIG_ONE:new p(60,60,"#ffbb00",0),FAST_ONE:new p(40,40,"#f5a3ff",0),CLOUD:new p(150,150,"#0a1e3a",0)},w={NONE:new c(Number.MIN_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),SHOT:new c(0,0,u,h),CLOUD:new c(-g.CLOUD.width,-g.CLOUD.height,u+g.CLOUD.width,h+g.CLOUD.height)},E={PLAYER:new v(.5,0),ENEMY_SIMPLE:new v(0,.1),PLAYER_SHOT:new v(0,-.5),ENEMY_SHOT:new v(0,.4),CLOUD:new v(0,.05)},O={PLAYER:new y(1,g.SHOT,w.SHOT,E.PLAYER_SHOT),ENEMY:new y(1,g.SHOT,w.SHOT,E.ENEMY_SHOT)},x={PLAYER:new l(3,0,g.PLAYER,w.NONE,E.PLAYER,O.PLAYER,[])},_={CLOUD:new m(g.CLOUD,w.CLOUD,E.CLOUD)},L=function(){function t(t,e,n,i,o){this.id=t,this.type=e,this.x=n,this.y=i,this.onDestroyed=o,this.rotation=0}return t.prototype.update=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var i=this.type.move.move(t,this.x,this.y,this);this.type.boundary.isInBounds(i.x,i.y,this.type.shape)?(this.x=i.x,this.y=i.y):this.type!=x.PLAYER&&this.onDestroyed(o.OUT_OF_BOUNDS)},t.prototype.isCollidingWith=function(t){return!1},t}(),M=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,i,o,r)||this;return s.type=n,s.speed=0,s}return i(e,t),e.prototype.update=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1),this.rotation+=3*e*t%360,this.speed=Math.max(0,this.speed-.05),n&&this.speed+.5>10?this.moveVector.add(s.default.rotate(a,this.rotation)):this.speed=Math.min(10,n?this.speed+.5:Number.MAX_VALUE),this.moveVector.add(s.default.fromOther(this.moveVector).normalize().scale(-.05)),this.x=(this.x+this.moveVector.x)%u,this.y=(this.y+this.moveVector.y)%h},e}(function(t){function e(e,n,i,u,h){var a=t.call(this,e,n,i,u,h)||this;return a.type=n,a.moveVector=s.default.zero(),a.onHit=function(t){if(t instanceof A){if(t.initiator==a.type)return;a.type.bounties.forEach(function(e){e(a,t,r.HIT)}),a.lives-=t.type.dmg,F(0)}else a.lives--,F(0);a.lives<1&&a.onDestroyed(o.LIVES)},a.lives=n.lives,a}return i(e,t),e.prototype.isAlive=function(){return this.lives>0},e.prototype.isInBounds=function(){return this.type.boundary.isInBounds(this.x,this.y,this.type.shape)},e.prototype.update=function(e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=!1),t.prototype.update.call(this,e,n,i),this.type!==x.PLAYER)switch(Math.floor(Math.random()*this.type.shotFreq)){case 1:this.shoot()}},e.prototype.shoot=function(){var t=I,e=new A(t,this.type,this.type.shot,this.x+this.type.shape.getWidth()/2,this.y,function(e){B.delete(t)});return B.set(t,e),I++,e},e}(L)),A=function(t){function e(e,n,i,o,r,s){var u=t.call(this,e,i,o,r,s)||this;return u.initiator=n,u.type=i,u}return i(e,t),e.prototype.isCollidingWith=function(e){return t.prototype.isCollidingWith.call(this,e)&&this.initiator!==e.type},e}(L),b=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return i(e,t),e}(L),S=document.getElementById("canvas").getContext("2d"),H=document.createElement("canvas");H.width=u,H.height=h;var U=H.getContext("2d"),Y=null,D={space:!1,left:!1,right:!1,up:!1,down:!1},N={space:!1,left:!1,right:!1,up:!1,down:!1},T=new M(0,x.PLAYER,0,0,function(){X=!1,alert("Game over!")});T.x=u/2-T.type.shape.getWidth()/2,T.y=h-T.type.shape.getHeight();var P=0,R=document.getElementById("score_text"),C=document.getElementById("lives_text"),I=0,V=0,W=new Map,B=new Map,j=new Map,X=!0;function F(t,e){void 0===e&&(e=0),P+=t,T.lives+=e,R.innerText=""+P,C.innerText=""+T.lives}window.addEventListener("keydown",function(t){switch(t.key){case" ":D.space=!0;case"ArrowUp":case"w":D.up=!0;case"ArrowLeft":case"a":D.left=!0;break;case"ArrowRight":case"d":D.right=!0}}),window.addEventListener("keyup",function(t){switch(t.key){case" ":D.space=!1;case"ArrowUp":case"w":D.up=!1;case"ArrowLeft":case"a":D.left=!1;break;case"ArrowRight":case"d":D.right=!1}}),window.requestAnimationFrame(function t(e){if(X){Y||(Y=e);var n=e-Y;Y=e,function(){switch(Math.floor(100*Math.random())){case 1:var t=V;j.set(t,new b(t,_.CLOUD,Math.random()*u,-_.CLOUD.shape.getHeight(),function(t){j.delete(this.id)})),V++}}(),function(t){D.space&&!N.space&&T.shoot(),T.update(t,D.left?-1:D.right?1:0,D.up),W.forEach(function(e){return e.update(t)}),B.forEach(function(e){return e.update(t)}),B.forEach(function(t){t.isCollidingWith(T)&&(T.onHit(t),t.onDestroyed()),W.forEach(function(e){t.isCollidingWith(e)&&(e.onHit(t),t.onDestroyed())})}),j.forEach(function(e){return e.update(t)})}(n),U.clearRect(0,0,u,h),j.forEach(function(t){U.fillStyle=t.type.shape.color,U.fillRect(t.x,t.y,t.type.shape.getWidth(),t.type.shape.getHeight())}),U.fillStyle=T.type.shape.color,U.fillRect(T.x,T.y,T.type.shape.getWidth(),T.type.shape.getHeight()),W.forEach(function(t){U.fillStyle=t.type.shape.color,U.fillRect(t.x,t.y,t.type.shape.getWidth(),t.type.shape.getHeight())}),B.forEach(function(t){U.fillStyle=t.type.shape.color,U.fillRect(t.x,t.y,t.type.shape.getWidth(),t.type.shape.getHeight())}),N=JSON.parse(JSON.stringify(D)),S.clearRect(0,0,u,h),S.drawImage(H,0,0),window.requestAnimationFrame(t)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.x=t,this.y=e}return t.from=function(e,n){return new t(e,n)},t.fromOther=function(e){return new t(e.x,e.y)},t.zero=function(){return new t(0,0)},t.prototype.isZero=function(){return 0==this.x&&0==this.y},t.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.add=function(e,n){return t.from(e.x+n.x,e.y+n.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.rotate=function(e,n){return t.from(e.x*Math.cos(n)-e.y*Math.sin(n),e.x*Math.sin(n)+e.y*Math.cos(n))},t.prototype.rotate=function(t){var e=this.x;return this.x=this.x*Math.cos(t)-this.y*Math.sin(t),this.y=e*Math.sin(t)+this.y*Math.cos(t),this},t.scale=function(e,n){return t.from(e.x*n,e.y*n)},t.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.normalize=function(e){return t.scale(t.fromOther(e),1/e.magnitude())},t.prototype.normalize=function(){return this.scale(1/this.magnitude())},t}();e.default=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzdGVyb2lkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRGVhdGhDYXVzZUVudW0iLCJIaXRUeXBlRW51bSIsInZlY3Rvcl8xIiwiV0lEVEgiLCJIRUlHSFQiLCJBQ0NfVkVDVE9SIiwiZGVmYXVsdCIsImZyb20iLCJCb3VuZGFyeSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ0aGlzIiwiaXNJbkJvdW5kcyIsIngiLCJ5Iiwic2hhcGUiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIlNoYXBlIiwiY29sb3IiLCJtYXNzIiwiUmVjdGFuZ2xlIiwiX3N1cGVyIiwid2lkdGgiLCJoZWlnaHQiLCJfdGhpcyIsIl9fZXh0ZW5kcyIsImJvdW5kYXJ5IiwiR2FtZU9iamVjdFR5cGUiLCJDaXJjbGUiLCJyYWRpdXMiLCJtb3ZlIiwiVW5pdFR5cGUiLCJsaXZlcyIsInNob3RGcmVxIiwic2hvdCIsImJvdW50aWVzIiwiU2hvdFR5cGUiLCJkbWciLCJFbnZpcm9ubWVudFR5cGUiLCJNb3ZlIiwic3BlZWRYIiwic3BlZWRZIiwiZWxhcHNlZFRpbWUiLCJTaGFwZUVudW0iLCJQTEFZRVIiLCJFTkVNWSIsIlNIT1QiLCJIRUFMVEhfRU5FTVkiLCJCSUdfT05FIiwiRkFTVF9PTkUiLCJDTE9VRCIsIkJvdW5kYXJ5RW51bSIsIk5PTkUiLCJOdW1iZXIiLCJNSU5fVkFMVUUiLCJNQVhfVkFMVUUiLCJNb3ZlVHlwZUVudW0iLCJFTkVNWV9TSU1QTEUiLCJQTEFZRVJfU0hPVCIsIkVORU1ZX1NIT1QiLCJTaG90VHlwZUVudW0iLCJVbml0VHlwZUVudW0iLCJFbnZpcm9ubWVudFR5cGVFbnVtIiwiR2FtZU9iamVjdCIsImlkIiwidHlwZSIsIm9uRGVzdHJveWVkIiwicm90YXRpb24iLCJ1cGRhdGUiLCJtb3ZlbWVudCIsIk9VVF9PRl9CT1VORFMiLCJpc0NvbGxpZGluZ1dpdGgiLCJvdGhlciIsIlBsYXllciIsInNwZWVkIiwiTWF0aCIsIm1heCIsIm1vdmVWZWN0b3IiLCJhZGQiLCJyb3RhdGUiLCJtaW4iLCJmcm9tT3RoZXIiLCJub3JtYWxpemUiLCJzY2FsZSIsIlVuaXQiLCJ6ZXJvIiwib25IaXQiLCJTaG90IiwiaW5pdGlhdG9yIiwiZm9yRWFjaCIsImJvdW50eSIsIkhJVCIsInVwZGF0ZVN0YXR1cyIsIkxJVkVTIiwiaXNBbGl2ZSIsImZsb29yIiwicmFuZG9tIiwic2hvb3QiLCJzaG90SWRDb3VudGVyIiwiY2F1c2UiLCJzaG90cyIsImRlbGV0ZSIsInNldCIsIkVudmlyb25tZW50IiwiZnJvbnRDb250ZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJiYWNrQ2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImJhY2tDb250ZXh0Iiwic3RhcnQiLCJjdXJyZW50SW5wdXQiLCJzcGFjZSIsImxlZnQiLCJyaWdodCIsInVwIiwiZG93biIsInByaW9ySW5wdXQiLCJwbGF5ZXIiLCJydW5uaW5nIiwiYWxlcnQiLCJzY29yZSIsInNjb3JlRWxlbWVudCIsImxpdmVzRWxlbWVudCIsImVudmlyb25tZW50SWRDb3VudGVyIiwiZW5lbWllcyIsIk1hcCIsImVudmlyb25tZW50cyIsInNjb3JlRGVsdGEiLCJoZWFsdGhEZWx0YSIsImlubmVyVGV4dCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxvb3AiLCJ0aW1lc3RhbXAiLCJjcmVhdGVFbnZpcm9ubWVudCIsImVuZW15IiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJkcmF3SW1hZ2UiLCJWZWN0b3IiLCJpc1plcm8iLCJtYWduaXR1ZGUiLCJzcXJ0IiwiYSIsImIiLCJ2ZWN0b3IiLCJhbmdsZSIsImNvcyIsInNpbiIsIm9sZFgiLCJzY2FsYXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVB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RCxLQUFLaUYsSUFBSUYsR0FDakRELEVBQU83SSxFQUFJK0QsS0FBS2lGLElBQUlGLEdBQVNELEVBQU81SSxFQUFJOEQsS0FBS2dGLElBQUlELEtBR2xEUCxFQUFBMUosVUFBQXNGLE9BQVAsU0FBYzJFLEdBQ1YsSUFBSUcsRUFBT25KLEtBQUtFLEVBR2hCLE9BRkFGLEtBQUtFLEVBQUlGLEtBQUtFLEVBQUkrRCxLQUFLZ0YsSUFBSUQsR0FBU2hKLEtBQUtHLEVBQUk4RCxLQUFLaUYsSUFBSUYsR0FDdERoSixLQUFLRyxFQUFJZ0osRUFBT2xGLEtBQUtpRixJQUFJRixHQUFTaEosS0FBS0csRUFBSThELEtBQUtnRixJQUFJRCxHQUM3Q2hKLE1BR0d5SSxFQUFBaEUsTUFBZCxTQUFvQnNFLEVBQWdCSyxHQUNoQyxPQUFPWCxFQUFPL0ksS0FBS3FKLEVBQU83SSxFQUFJa0osRUFBUUwsRUFBTzVJLEVBQUlpSixJQUc5Q1gsRUFBQTFKLFVBQUEwRixNQUFQLFNBQWEyRSxHQUdULE9BRkFwSixLQUFLRSxHQUFLa0osRUFDVnBKLEtBQUtHLEdBQUtpSixFQUNIcEosTUFHR3lJLEVBQUFqRSxVQUFkLFNBQXdCdUUsR0FDcEIsT0FBT04sRUFBT2hFLE1BQU1nRSxFQUFPbEUsVUFBVXdFLEdBQVMsRUFBSUEsRUFBT0osY0FHdERGLEVBQUExSixVQUFBeUYsVUFBUCxXQUNJLE9BQU94RSxLQUFLeUUsTUFBTSxFQUFJekUsS0FBSzJJLGNBR25DRixFQWpFQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuY29uc3QgV0lEVEggPSA4MDA7XHJcbmNvbnN0IEhFSUdIVCA9IDYwMDtcclxuY29uc3QgUExBWUVSX0hFSUdIVCA9IDUwO1xyXG5jb25zdCBFTkVNWV9TUEFXTl9SQVRFID0gNTAwO1xyXG5jb25zdCBFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSA9IDM7XHJcbmNvbnN0IFJPVEFUSU9OX1NQRUVEID0gMztcclxuY29uc3QgQUNDX1NQRUVEID0gMC41O1xyXG5jb25zdCBBQ0NfVkVDVE9SID0gVmVjdG9yLmZyb20oMCwgQUNDX1NQRUVEKTtcclxuY29uc3QgREVDRUxFUkFUSU9OX1NQRUVEID0gMC4wNTtcclxuY29uc3QgTUFYX1NQRUVEID0gMTA7XHJcblxyXG4vL3JlZ2lvbiBHYW1lT2JqZWN0IHBhcnRzXHJcbnR5cGUgQm91bnR5Q2FsbGJhY2sgPSAoZW5lbXk6IFVuaXQsIHNob3Q6IFNob3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiBhbnk7XHJcblxyXG5lbnVtIERlYXRoQ2F1c2VFbnVtIHtcclxuICAgIE9VVF9PRl9CT1VORFMsXHJcbiAgICBMSVZFU1xyXG59XHJcblxyXG5lbnVtIEhpdFR5cGVFbnVtIHtcclxuICAgIEhJVCxcclxuICAgIERFU1RST1lFRFxyXG59XHJcblxyXG5jbGFzcyBCb3VuZGFyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWluWDogbnVtYmVyLCBwdWJsaWMgbWluWTogbnVtYmVyLCBwdWJsaWMgbWF4WDogbnVtYmVyLCBwdWJsaWMgbWF4WTogbnVtYmVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgc2hhcGU6IFNoYXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHggPj0gdGhpcy5taW5YICYmIHkgPj0gdGhpcy5taW5ZICYmICh4ICsgc2hhcGUuZ2V0V2lkdGgoKSkgPD0gdGhpcy5tYXhYICYmICh5ICsgc2hhcGUuZ2V0SGVpZ2h0KCkpIDw9IHRoaXMubWF4WTtcclxuICAgIH1cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgU2hhcGUge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBjb2xvcjogc3RyaW5nLCBwdWJsaWMgbWFzczogbnVtYmVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFdpZHRoKCk6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SGVpZ2h0KCk6IG51bWJlcjtcclxufVxyXG5cclxuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgU2hhcGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsIG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIGJvdW5kYXJ5OiBCb3VuZGFyeSkge1xyXG4gICAgICAgIC8vVE9ET1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodFxyXG4gICAgfVxyXG5cclxuICAgIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGhcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgU2hhcGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHJhZGl1czogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBtYXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihjb2xvciwgbWFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgYm91bmRhcnk6IEJvdW5kYXJ5KSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyICogdGhpcy5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMiAqIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHVibGljIHNoYXBlOiBTaGFwZSwgcHVibGljIGJvdW5kYXJ5OiBCb3VuZGFyeSwgcHVibGljIG1vdmU6IE1vdmUpIHtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFVuaXRUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIGxpdmVzOiBudW1iZXIsIHB1YmxpYyBzaG90RnJlcTogbnVtYmVyLCBzaGFwZTogU2hhcGUsIGJvdW5kYXJ5OiBCb3VuZGFyeSwgbW92ZTogTW92ZSwgcHVibGljIHNob3Q6IFNob3RUeXBlLCBwdWJsaWMgYm91bnRpZXM6IEJvdW50eUNhbGxiYWNrW10pIHtcclxuICAgICAgICBzdXBlcihzaGFwZSwgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5jbGFzcyBTaG90VHlwZSBleHRlbmRzIEdhbWVPYmplY3RUeXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkbWc6IG51bWJlciwgc2hhcGU6IFNoYXBlLCBib3VuZGFyeTogQm91bmRhcnksIG1vdmU6IE1vdmUpIHtcclxuICAgICAgICBzdXBlcihzaGFwZSwgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVudmlyb25tZW50VHlwZSBleHRlbmRzIEdhbWVPYmplY3RUeXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHNoYXBlOiBTaGFwZSwgYm91bmRhcnk6IEJvdW5kYXJ5LCBtb3ZlOiBNb3ZlKSB7XHJcbiAgICAgICAgc3VwZXIoc2hhcGUsIGJvdW5kYXJ5LCBtb3ZlKVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNb3ZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzcGVlZFg6IG51bWJlciwgcHVibGljIHNwZWVkWTogbnVtYmVyKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIG9iamVjdDogR2FtZU9iamVjdCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHggKyBlbGFwc2VkVGltZSAqIHRoaXMuc3BlZWRYLFxyXG4gICAgICAgICAgICB5OiB5ICsgZWxhcHNlZFRpbWUgKiB0aGlzLnNwZWVkWVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgU2hhcGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgUmVjdGFuZ2xlKFBMQVlFUl9IRUlHSFQsIDc1LCBcIiM2YTdmZWRcIiwgMCksXHJcbiAgICBFTkVNWTogbmV3IFJlY3RhbmdsZSg0NSwgNTAsIFwiI2ZmMDAwMFwiLCAwKSxcclxuICAgIFNIT1Q6IG5ldyBSZWN0YW5nbGUoNSwgNSwgXCIjZmZmZmZmXCIsIDApLFxyXG4gICAgSEVBTFRIX0VORU1ZOiBuZXcgUmVjdGFuZ2xlKDQ1LCA1MCwgXCIjOTFmZjZmXCIsIDApLFxyXG4gICAgQklHX09ORTogbmV3IFJlY3RhbmdsZSg2MCwgNjAsIFwiI2ZmYmIwMFwiLCAwKSxcclxuICAgIEZBU1RfT05FOiBuZXcgUmVjdGFuZ2xlKDQwLCA0MCwgXCIjZjVhM2ZmXCIsIDApLFxyXG4gICAgQ0xPVUQ6IG5ldyBSZWN0YW5nbGUoMTUwLCAxNTAsIFwiIzBhMWUzYVwiLCAwKVxyXG59O1xyXG5cclxuY29uc3QgQm91bmRhcnlFbnVtID0ge1xyXG4gICAgTk9ORTogbmV3IEJvdW5kYXJ5KE51bWJlci5NSU5fVkFMVUUsIE51bWJlci5NSU5fVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpLFxyXG4gICAgU0hPVDogbmV3IEJvdW5kYXJ5KDAsIDAsIFdJRFRILCBIRUlHSFQpLFxyXG4gICAgQ0xPVUQ6IG5ldyBCb3VuZGFyeSgtU2hhcGVFbnVtLkNMT1VELndpZHRoLCAtU2hhcGVFbnVtLkNMT1VELmhlaWdodCwgV0lEVEggKyBTaGFwZUVudW0uQ0xPVUQud2lkdGgsIEhFSUdIVCArIFNoYXBlRW51bS5DTE9VRC5oZWlnaHQpXHJcbn07XHJcblxyXG5jb25zdCBCb3VudHlFbnVtID0ge1xyXG4gICAgU0NPUkVfU1Q6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygxMCk7XHJcbiAgICB9LFxyXG4gICAgSEVBTFRIX1NUOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoMCwgMSk7XHJcbiAgICB9LFxyXG4gICAgU0NPUkVfRkFTVDogKGVuZW15OiBVbml0LCBzaG90OiBHYW1lT2JqZWN0LCB0eXBlOiBIaXRUeXBlRW51bSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09IEhpdFR5cGVFbnVtLkhJVClcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDIwKTtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cyg1MCk7XHJcbiAgICB9LFxyXG4gICAgU0NPUkVfMzA6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygzMCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBNb3ZlVHlwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBNb3ZlKDAuNSwgMCksXHJcbiAgICBFTkVNWV9TSU1QTEU6IG5ldyBNb3ZlKDAsIDAuMSksXHJcbiAgICBQTEFZRVJfU0hPVDogbmV3IE1vdmUoMCwgLTAuNSksXHJcbiAgICBFTkVNWV9TSE9UOiBuZXcgTW92ZSgwLCAwLjQpLFxyXG4gICAgQ0xPVUQ6IG5ldyBNb3ZlKDAsIDAuMDUpXHJcbn07XHJcblxyXG5jb25zdCBTaG90VHlwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBTaG90VHlwZSgxLCBTaGFwZUVudW0uU0hPVCwgQm91bmRhcnlFbnVtLlNIT1QsIE1vdmVUeXBlRW51bS5QTEFZRVJfU0hPVCksXHJcbiAgICBFTkVNWTogbmV3IFNob3RUeXBlKDEsIFNoYXBlRW51bS5TSE9ULCBCb3VuZGFyeUVudW0uU0hPVCwgTW92ZVR5cGVFbnVtLkVORU1ZX1NIT1QpXHJcbn07XHJcblxyXG5jb25zdCBVbml0VHlwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBVbml0VHlwZSgzLCAwLCBTaGFwZUVudW0uUExBWUVSLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLlBMQVlFUiwgU2hvdFR5cGVFbnVtLlBMQVlFUiwgW10pLFxyXG59O1xyXG5cclxuY29uc3QgRW52aXJvbm1lbnRUeXBlRW51bSA9IHtcclxuICAgIENMT1VEOiBuZXcgRW52aXJvbm1lbnRUeXBlKFNoYXBlRW51bS5DTE9VRCwgQm91bmRhcnlFbnVtLkNMT1VELCBNb3ZlVHlwZUVudW0uQ0xPVUQpXHJcbn07XHJcblxyXG4vL2VuZHJlZ2lvblxyXG5cclxuLy9yZWdpb24gR2FtZU9iamVjdHNcclxudHlwZSBIaXRDYWxsYmFjayA9IChvdGhlcjogR2FtZU9iamVjdCkgPT4gYW55O1xyXG50eXBlIERlc3Ryb3llZENhbGxiYWNrID0gKGNhdXNlOiBEZWF0aENhdXNlRW51bSkgPT4gYW55O1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgR2FtZU9iamVjdCB7XHJcbiAgICBwdWJsaWMgcm90YXRpb246IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogR2FtZU9iamVjdFR5cGUsIHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgbW92ZSA9IHRoaXMudHlwZS5tb3ZlLm1vdmUoZWxhcHNlZFRpbWUsIHRoaXMueCwgdGhpcy55LCB0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHMobW92ZS54LCBtb3ZlLnksIHRoaXMudHlwZS5zaGFwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gbW92ZS54O1xyXG4gICAgICAgICAgICB0aGlzLnkgPSBtb3ZlLnk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgIT0gVW5pdFR5cGVFbnVtLlBMQVlFUikge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveWVkKERlYXRoQ2F1c2VFbnVtLk9VVF9PRl9CT1VORFMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc0NvbGxpZGluZ1dpdGgob3RoZXI6IEdhbWVPYmplY3QpOiBib29sZWFuIHtcclxuICAgICAgICAvL1RPRE9cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFVuaXQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIHB1YmxpYyBtb3ZlVmVjdG9yOiBWZWN0b3IgPSBWZWN0b3IuemVybygpO1xyXG5cclxuICAgIHB1YmxpYyBvbkhpdDogSGl0Q2FsbGJhY2sgPSBvdGhlciA9PiB7XHJcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgU2hvdCkge1xyXG4gICAgICAgICAgICBpZiAob3RoZXIuaW5pdGlhdG9yID09IHRoaXMudHlwZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IHtcclxuICAgICAgICAgICAgICAgIGJvdW50eSh0aGlzLCBvdGhlciwgSGl0VHlwZUVudW0uSElUKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5saXZlcyAtPSBvdGhlci50eXBlLmRtZztcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZXMtLTtcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5saXZlcyA8IDEpXHJcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQoRGVhdGhDYXVzZUVudW0uTElWRVMpO1xyXG4gICAgfTtcclxuICAgIHB1YmxpYyBsaXZlczogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHB1YmxpYyB0eXBlOiBVbml0VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCB4LCB5LCBvbkRlc3Ryb3llZCk7XHJcbiAgICAgICAgdGhpcy5saXZlcyA9IHR5cGUubGl2ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgaXNBbGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saXZlcyA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54LCB0aGlzLnksIHRoaXMudHlwZS5zaGFwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBtb3ZlbWVudDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGVsYXBzZWRUaW1lLCByb3RhdGlvbiwgbW92ZW1lbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IFVuaXRUeXBlRW51bS5QTEFZRVIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMudHlwZS5zaG90RnJlcSkpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG9vdCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob290KCk6IFNob3Qge1xyXG4gICAgICAgIGxldCBpZCA9IHNob3RJZENvdW50ZXI7XHJcbiAgICAgICAgbGV0IHNob3QgPSBuZXcgU2hvdChpZCwgdGhpcy50eXBlLCB0aGlzLnR5cGUuc2hvdCwgdGhpcy54ICsgdGhpcy50eXBlLnNoYXBlLmdldFdpZHRoKCkgLyAyLCB0aGlzLnksIChjYXVzZTogRGVhdGhDYXVzZUVudW0pID0+IHtcclxuICAgICAgICAgICAgc2hvdHMuZGVsZXRlKGlkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzaG90cy5zZXQoaWQsIHNob3QpO1xyXG4gICAgICAgIHNob3RJZENvdW50ZXIrKztcclxuICAgICAgICByZXR1cm4gc2hvdDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGxheWVyIGV4dGVuZHMgVW5pdCB7XHJcbiAgICBwcml2YXRlIHNwZWVkOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHB1YmxpYyB0eXBlOiBVbml0VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCB4LCB5LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBtb3ZlbWVudDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiArPSAocm90YXRpb24gKiBST1RBVElPTl9TUEVFRCAqIGVsYXBzZWRUaW1lKSAlIDM2MDtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgoMCwgdGhpcy5zcGVlZCAtIERFQ0VMRVJBVElPTl9TUEVFRCk7XHJcbiAgICAgICAgaWYgKG1vdmVtZW50ICYmIHRoaXMuc3BlZWQgKyBBQ0NfU1BFRUQgPiBNQVhfU1BFRUQpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVmVjdG9yLmFkZChWZWN0b3Iucm90YXRlKEFDQ19WRUNUT1IsIHRoaXMucm90YXRpb24pKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTUFYX1NQRUVELCBtb3ZlbWVudCA/IHRoaXMuc3BlZWQgKyBBQ0NfU1BFRUQgOiBOdW1iZXIuTUFYX1ZBTFVFKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb3ZlVmVjdG9yLmFkZChWZWN0b3IuZnJvbU90aGVyKHRoaXMubW92ZVZlY3Rvcikubm9ybWFsaXplKCkuc2NhbGUoLURFQ0VMRVJBVElPTl9TUEVFRCkpO1xyXG5cclxuICAgICAgICB0aGlzLnggPSAodGhpcy54ICsgdGhpcy5tb3ZlVmVjdG9yLngpICUgV0lEVEg7XHJcbiAgICAgICAgdGhpcy55ID0gKHRoaXMueSArIHRoaXMubW92ZVZlY3Rvci55KSAlIEhFSUdIVDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2hvdCBleHRlbmRzIEdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcHVibGljIGluaXRpYXRvcjogVW5pdFR5cGUsIHB1YmxpYyB0eXBlOiBTaG90VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCB4LCB5LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzQ29sbGlkaW5nV2l0aChvdGhlcikgJiYgdGhpcy5pbml0aWF0b3IgIT09IG90aGVyLnR5cGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVudmlyb25tZW50IGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0eXBlOiBFbnZpcm9ubWVudFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL2VuZHJlZ2lvblxyXG5cclxudmFyIGZyb250Q2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxudmFyIGZyb250Q29udGV4dCA9IGZyb250Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbnZhciBiYWNrQ2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG5iYWNrQ2FudmFzLndpZHRoID0gV0lEVEg7XHJcbmJhY2tDYW52YXMuaGVpZ2h0ID0gSEVJR0hUO1xyXG52YXIgYmFja0NvbnRleHQgPSBiYWNrQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbnZhciBzdGFydCA9IG51bGw7XHJcbnZhciBjdXJyZW50SW5wdXQgPSB7XHJcbiAgICBzcGFjZTogZmFsc2UsXHJcbiAgICBsZWZ0OiBmYWxzZSxcclxuICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIHVwOiBmYWxzZSxcclxuICAgIGRvd246IGZhbHNlXHJcbn07XHJcbnZhciBwcmlvcklucHV0ID0ge1xyXG4gICAgc3BhY2U6IGZhbHNlLFxyXG4gICAgbGVmdDogZmFsc2UsXHJcbiAgICByaWdodDogZmFsc2UsXHJcbiAgICB1cDogZmFsc2UsXHJcbiAgICBkb3duOiBmYWxzZVxyXG59O1xyXG5cclxudmFyIHBsYXllciA9IG5ldyBQbGF5ZXIoMCwgVW5pdFR5cGVFbnVtLlBMQVlFUiwgMCwgMCwgKCkgPT4ge1xyXG4gICAgZW5kR2FtZSgpO1xyXG59KTtcclxucGxheWVyLnggPSBXSURUSCAvIDIgLSBwbGF5ZXIudHlwZS5zaGFwZS5nZXRXaWR0aCgpIC8gMjtcclxucGxheWVyLnkgPSBIRUlHSFQgLSBwbGF5ZXIudHlwZS5zaGFwZS5nZXRIZWlnaHQoKTtcclxudmFyIHNjb3JlID0gMDtcclxudmFyIHNjb3JlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVfdGV4dFwiKTtcclxudmFyIGxpdmVzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGl2ZXNfdGV4dFwiKTtcclxuXHJcbnZhciBlbmVteVRpbWVUb1NwYXduID0gMDtcclxudmFyIGVuZW15SWRDb3VudGVyID0gMDtcclxudmFyIHNob3RJZENvdW50ZXIgPSAwO1xyXG52YXIgZW52aXJvbm1lbnRJZENvdW50ZXIgPSAwO1xyXG4vLyBAdHMtaWdub3JlXHJcbnZhciBlbmVtaWVzID0gbmV3IE1hcDxudW1iZXIsIFVuaXQ+KCk7XHJcbi8vIEB0cy1pZ25vcmVcclxudmFyIHNob3RzID0gbmV3IE1hcDxudW1iZXIsIFNob3Q+KCk7XHJcbi8vIEB0cy1pZ25vcmVcclxudmFyIGVudmlyb25tZW50cyA9IG5ldyBNYXA8bnVtYmVyLCBFbnZpcm9ubWVudD4oKTtcclxudmFyIHJ1bm5pbmc6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcclxuICAgIGlmICghcnVubmluZylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAoIXN0YXJ0KSBzdGFydCA9IHRpbWVzdGFtcDtcclxuICAgIGxldCBlbGFwc2VkVGltZSA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xyXG4gICAgc3RhcnQgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgY3JlYXRlRW5lbXkoZWxhcHNlZFRpbWUpO1xyXG4gICAgY3JlYXRlRW52aXJvbm1lbnQoKTtcclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZSk7XHJcbiAgICByZW5kZXIoZWxhcHNlZFRpbWUpO1xyXG4gICAgcG9sbElucHV0KCk7XHJcblxyXG4gICAgZnJvbnRDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcclxuICAgIGZyb250Q29udGV4dC5kcmF3SW1hZ2UoYmFja0NhbnZhcywgMCwgMCk7XHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvbGxJbnB1dCgpIHtcclxuICAgIHByaW9ySW5wdXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRJbnB1dCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQuc3BhY2UgPSB0cnVlO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQudXAgPSB0cnVlO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XHJcbiAgICAgICAgY2FzZSAnYSc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5sZWZ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgY2FzZSAnZCc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5yaWdodCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleWRvd24pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlS2V5dXAoZXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5zcGFjZSA9IGZhbHNlO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQudXAgPSBmYWxzZTtcclxuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQubGVmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXl1cCk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbmVteShlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICAvLyBlbmVteVRpbWVUb1NwYXduICs9IGVsYXBzZWRUaW1lO1xyXG4gICAgLy8gaWYgKGVuZW15VGltZVRvU3Bhd24gPiBFTkVNWV9TUEFXTl9SQVRFKSB7XHJcbiAgICAvLyAgICAgZW5lbXlUaW1lVG9TcGF3biA9IDA7XHJcbiAgICAvLyAgICAgaWYgKE1hdGgucmFuZG9tKCkgKiBFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSA8IDEpIHtcclxuICAgIC8vICAgICAgICAgbGV0IGlkID0gZW5lbXlJZENvdW50ZXI7XHJcbiAgICAvLyAgICAgICAgIGxldCB0eXBlID0gVW5pdFR5cGVFbnVtLkVORU1ZO1xyXG4gICAgLy8gICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgLy8gICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uSEVBTFRIX0VORU1ZO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uQklHX09ORTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgIC8vICAgICAgICAgICAgICAgICB0eXBlID0gVW5pdFR5cGVFbnVtLkZBU1RfT05FO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVuZW1pZXMuc2V0KGlkLCBuZXcgVW5pdChpZCwgdHlwZSwgTWF0aC5yYW5kb20oKSAqIChXSURUSCAtIFNoYXBlRW51bS5FTkVNWS53aWR0aCksIC1TaGFwZUVudW0uRU5FTVkuaGVpZ2h0LCBmdW5jdGlvbiAoY2F1c2U6IERlYXRoQ2F1c2VFbnVtKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uT1VUX09GX0JPVU5EUykge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHBsYXllci5vbkhpdCh0aGlzKTtcclxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uTElWRVMpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnR5cGUuYm91bnRpZXMuZm9yRWFjaChib3VudHkgPT4gYm91bnR5KHRoaXMsIG51bGwsIEhpdFR5cGVFbnVtLkRFU1RST1lFRCkpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZW5lbWllcy5kZWxldGUoaWQpO1xyXG4gICAgLy8gICAgICAgICB9KSk7XHJcbiAgICAvLyAgICAgICAgIGVuZW15SWRDb3VudGVyKys7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbnZpcm9ubWVudCgpIHtcclxuICAgIHN3aXRjaCAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgbGV0IGlkID0gZW52aXJvbm1lbnRJZENvdW50ZXI7XHJcbiAgICAgICAgICAgIGVudmlyb25tZW50cy5zZXQoaWQsIG5ldyBFbnZpcm9ubWVudChpZCwgRW52aXJvbm1lbnRUeXBlRW51bS5DTE9VRCwgTWF0aC5yYW5kb20oKSAqIFdJRFRILCAtRW52aXJvbm1lbnRUeXBlRW51bS5DTE9VRC5zaGFwZS5nZXRIZWlnaHQoKSwgZnVuY3Rpb24gKGNhdXNlOiBEZWF0aENhdXNlRW51bSkge1xyXG4gICAgICAgICAgICAgICAgZW52aXJvbm1lbnRzLmRlbGV0ZSh0aGlzLmlkKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBlbnZpcm9ubWVudElkQ291bnRlcisrO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlcikge1xyXG4gICAgaWYgKGN1cnJlbnRJbnB1dC5zcGFjZSAmJiAhcHJpb3JJbnB1dC5zcGFjZSkge1xyXG4gICAgICAgIHBsYXllci5zaG9vdCgpO1xyXG4gICAgfVxyXG4gICAgcGxheWVyLnVwZGF0ZShlbGFwc2VkVGltZSwgY3VycmVudElucHV0LmxlZnQgPyAtMSA6IChjdXJyZW50SW5wdXQucmlnaHQgPyAxIDogMCksIGN1cnJlbnRJbnB1dC51cCk7XHJcblxyXG4gICAgZW5lbWllcy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnVwZGF0ZShlbGFwc2VkVGltZSkpO1xyXG4gICAgc2hvdHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuXHJcbiAgICBzaG90cy5mb3JFYWNoKHNob3QgPT4ge1xyXG4gICAgICAgIGlmIChzaG90LmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIpKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5vbkhpdChzaG90KTtcclxuICAgICAgICAgICAgc2hvdC5vbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2hvdC5pc0NvbGxpZGluZ1dpdGgoZW5lbXkpKSB7XHJcbiAgICAgICAgICAgICAgICBlbmVteS5vbkhpdChzaG90KTtcclxuICAgICAgICAgICAgICAgIHNob3Qub25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuICAgIGVudmlyb25tZW50cy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnVwZGF0ZShlbGFwc2VkVGltZSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoZWxhcHNlZFRpbWU6IG51bWJlcikge1xyXG4gICAgYmFja0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIFdJRFRILCBIRUlHSFQpO1xyXG5cclxuICAgIGVudmlyb25tZW50cy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICBiYWNrQ29udGV4dC5maWxsU3R5bGUgPSB2YWx1ZS50eXBlLnNoYXBlLmNvbG9yO1xyXG4gICAgICAgIGJhY2tDb250ZXh0LmZpbGxSZWN0KHZhbHVlLngsIHZhbHVlLnksIHZhbHVlLnR5cGUuc2hhcGUuZ2V0V2lkdGgoKSwgdmFsdWUudHlwZS5zaGFwZS5nZXRIZWlnaHQoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBiYWNrQ29udGV4dC5maWxsU3R5bGUgPSBwbGF5ZXIudHlwZS5zaGFwZS5jb2xvcjtcclxuICAgIGJhY2tDb250ZXh0LmZpbGxSZWN0KHBsYXllci54LCBwbGF5ZXIueSwgcGxheWVyLnR5cGUuc2hhcGUuZ2V0V2lkdGgoKSwgcGxheWVyLnR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCkpO1xyXG5cclxuICAgIGVuZW1pZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgYmFja0NvbnRleHQuZmlsbFN0eWxlID0gdmFsdWUudHlwZS5zaGFwZS5jb2xvcjtcclxuICAgICAgICBiYWNrQ29udGV4dC5maWxsUmVjdCh2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS50eXBlLnNoYXBlLmdldFdpZHRoKCksIHZhbHVlLnR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2hvdHMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgYmFja0NvbnRleHQuZmlsbFN0eWxlID0gdmFsdWUudHlwZS5zaGFwZS5jb2xvcjtcclxuICAgICAgICBiYWNrQ29udGV4dC5maWxsUmVjdCh2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS50eXBlLnNoYXBlLmdldFdpZHRoKCksIHZhbHVlLnR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhzY29yZURlbHRhOiBudW1iZXIsIGhlYWx0aERlbHRhOiBudW1iZXIgPSAwKSB7XHJcbiAgICBzY29yZSArPSBzY29yZURlbHRhO1xyXG4gICAgcGxheWVyLmxpdmVzICs9IGhlYWx0aERlbHRhO1xyXG4gICAgc2NvcmVFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBzY29yZTtcclxuICAgIGxpdmVzRWxlbWVudC5pbm5lclRleHQgPSBcIlwiICsgcGxheWVyLmxpdmVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbmRHYW1lKCkge1xyXG4gICAgcnVubmluZyA9IGZhbHNlO1xyXG4gICAgYWxlcnQoXCJHYW1lIG92ZXIhXCIpO1xyXG59XHJcblxyXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb20oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbU90aGVyKG90aGVyOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKG90aGVyLngsIG90aGVyLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgemVybygpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1plcm8oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PSAwICYmIHRoaXMueSA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGQoYTogVmVjdG9yLCBiOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbShhLnggKyBiLngsIGEueSArIGIueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZChvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJvdGF0ZSh2ZWN0b3I6IFZlY3RvciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tKFxyXG4gICAgICAgICAgICB2ZWN0b3IueCAqIE1hdGguY29zKGFuZ2xlKSAtIHZlY3Rvci55ICogTWF0aC5zaW4oYW5nbGUpLFxyXG4gICAgICAgICAgICB2ZWN0b3IueCAqIE1hdGguc2luKGFuZ2xlKSArIHZlY3Rvci55ICogTWF0aC5jb3MoYW5nbGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcm90YXRlKGFuZ2xlOiBudW1iZXIpOiBWZWN0b3Ige1xyXG4gICAgICAgIGxldCBvbGRYID0gdGhpcy54O1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMueCAqIE1hdGguY29zKGFuZ2xlKSAtIHRoaXMueSAqIE1hdGguc2luKGFuZ2xlKTtcclxuICAgICAgICB0aGlzLnkgPSBvbGRYICogTWF0aC5zaW4oYW5nbGUpICsgdGhpcy55ICogTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2NhbGUodmVjdG9yOiBWZWN0b3IsIHNjYWxhcjogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb20odmVjdG9yLnggKiBzY2FsYXIsIHZlY3Rvci55ICogc2NhbGFyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2NhbGUoc2NhbGFyOiBudW1iZXIpOiBWZWN0b3Ige1xyXG4gICAgICAgIHRoaXMueCAqPSBzY2FsYXI7XHJcbiAgICAgICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG5vcm1hbGl6ZSh2ZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5zY2FsZShWZWN0b3IuZnJvbU90aGVyKHZlY3RvciksIDEgLyB2ZWN0b3IubWFnbml0dWRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZSgxIC8gdGhpcy5tYWduaXR1ZGUoKSk7XHJcbiAgICB9XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==