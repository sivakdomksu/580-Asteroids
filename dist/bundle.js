!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o,s=n(1),h=800,u=600,a=1e3,c=3,f=10;!function(t){t[t.OUT_OF_BOUNDS=0]="OUT_OF_BOUNDS",t[t.LIVES=1]="LIVES",t[t.COLLISION=2]="COLLISION"}(r||(r={})),function(t){t[t.HIT=0]="HIT",t[t.DESTROYED=1]="DESTROYED"}(o||(o={}));var d=function(){function t(t,e,n,i){this.minX=t,this.minY=e,this.maxX=n,this.maxY=i}return t.prototype.isInBounds=function(t,e,n){return t>=this.minX&&e>=this.minY&&t+n.getWidth()<=this.maxX&&e+n.getHeight()<=this.maxY},t}(),p=function(t){function e(){return t.call(this,0,0,0,0)||this}return i(e,t),e.prototype.isInBounds=function(t,e,n){return!0},e}(d),l=function(){return function(t,e){this.color=t,this.mass=e}}(),y=function(t){function e(e,n,i,r){var o=t.call(this,i,r)||this;return o.width=e,o.height=n,o}return i(e,t),e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.render=function(t){t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height)},e}(l),v=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return r.radius=e,r}return i(e,t),e.prototype.getHeight=function(){return 2*this.radius},e.prototype.getWidth=function(){return 2*this.radius},e.prototype.render=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.radius,this.radius,this.radius,0,2*Math.PI),t.fill(),t.strokeStyle="#ffffff",t.strokeRect(0,0,2*this.radius,2*this.radius)},e}(l),g=function(){return function(t,e,n){this.shape=t,this.boundary=e,this.move=n}}(),O=function(t){function e(e,n,i,r,o,s,h){var u=t.call(this,i,r,o)||this;return u.lives=e,u.shotFreq=n,u.shot=s,u.bounties=h,u}return i(e,t),e}(g),m=function(t){function e(e,n,i,r){var o=t.call(this,n,i,r)||this;return o.dmg=e,o}return i(e,t),e}(g),E=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(g),w=function(){function t(){}return t.prototype.move=function(t,e,n,i){throw void 0===e&&(e=0),void 0===n&&(n=null),void 0===i&&(i=null),new Error("Not Implemented!")},t}(),S=function(t){function e(e){var n=t.call(this)||this;return n.vector=e,n}return i(e,t),e.prototype.move=function(t,e,n,i){return void 0===e&&(e=0),void 0===n&&(n=null),void 0===i&&(i=null),s.default.from(this.vector.x*t,this.vector.y*t)},e.prototype.copy=function(){return new e(s.default.fromOther(this.vector))},e.prototype.setRotation=function(t){return this.vector.rotate(t),this},e}(w),_=function(t){function e(e){var n=t.call(this)||this;return n.decSpeed=e,n}return i(e,t),e.prototype.move=function(t,e,n,i){var r=s.default.fromOther(i);return r.scale(0===n.dec?1:n.curr/(n.curr+n.dec)),n.acc>0&&r.add(s.default.construct(n.acc,e)),r},e.prototype.copy=function(){return new e(this.decSpeed)},e.prototype.setRotation=function(t){return this},e}(w),x=function(){function t(t,e){this.url=t,this.q=[];for(var n=0;n<e;n++)this.q.push(new Audio(t))}return t.prototype.play=function(){var t=this,e=this.q.pop();e?(e.load(),e.addEventListener("ended",function(){t.q.push(e)}),e.play()):console.log("Audio Pool is not big enough!",this.url)},t}(),L={PLAYER:new y(20,35,"#6a7fed",0),ASTEROID_S:new v(20,"#ff2766",0),ASTEROID_M:new v(40,"#bb2c5b",0),ASTEROID_L:new v(80,"#a3163e",0),SHOT:new y(5,5,"#ffffff",0),CLOUD:new y(150,150,"#0a1e3a",0)},M={NONE:new p,SHOT:new d(0,0,h,u),CLOUD:new d(-L.CLOUD.width,-L.CLOUD.height,h+L.CLOUD.width,u+L.CLOUD.height)},I={PLAYER:new _(.4),ENEMY_SIMPLE:new S(s.default.from(0,.1)),PLAYER_SHOT:new S(s.default.from(0,-.5)),ENEMY_SHOT:new S(s.default.from(0,.4)),CLOUD:new S(s.default.from(0,.05))},T={PLAYER:new m(1,L.SHOT,M.SHOT,I.PLAYER_SHOT),ENEMY:new m(1,L.SHOT,M.SHOT,I.ENEMY_SHOT)},D={PLAYER:new O(3,0,L.PLAYER,M.NONE,I.PLAYER,T.PLAYER,[]),ASTEROID_S:new O(1,0,L.ASTEROID_S,M.NONE,I.ENEMY_SIMPLE,T.ENEMY,[]),ASTEROID_M:new O(1,0,L.ASTEROID_M,M.NONE,I.ENEMY_SIMPLE,T.ENEMY,[]),ASTEROID_L:new O(1,0,L.ASTEROID_L,M.NONE,I.ENEMY_SIMPLE,T.ENEMY,[])},A={CLOUD:new E(L.CLOUD,M.CLOUD,I.CLOUD)},R={PLAYER_SHOT:new x("audio/player_shot.wav",5)},b=function(){function t(t,e,n,i,r,o){this.id=t,this.type=e,this.x=n,this.y=i,this.rot=r,this.onDestroyed=o,this.rotation=0,this.move=null,this.speed=0,this.move=e.move.copy().setRotation(r)}return t.prototype.update=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var i=this.move.move(t),o=s.default.from(this.x,this.y);this.type.boundary.isInBounds(this.x+i.x,this.y+i.y,this.type.shape)?(this.x+=i.x,this.y+=i.y,this.type.boundary instanceof p&&this.warpToOtherSide(o)):this.type!=D.PLAYER&&this.onDestroyed(r.OUT_OF_BOUNDS)},t.prototype.warpToOtherSide=function(t){this.x>h&&!(t.x>h)?this.x=-this.getWidth():this.x+this.getWidth()<0&&!(t.x+this.getWidth()<0)&&(console.log("Warping 2",t,this.x,this.y),this.x=h),this.y>u&&!(t.y>u)?this.y=-this.getHeight():this.y+this.getHeight()<0&&!(t.y+this.getHeight()<0)&&(console.log("Warping 4",t,this.x,this.y),this.y=u)},t.prototype.isCollidingWith=function(t){return!1},t.prototype.render=function(t){t.save(),t.translate(this.x+.5*this.getWidth(),this.y+.5*V.getHeight()),t.rotate(s.rad(this.rotation)),t.translate(-.5*this.getWidth(),-.5*this.getHeight()),this.type.shape.render(t),t.restore()},t.prototype.getWidth=function(){return this.type.shape.getWidth()},t.prototype.getHeight=function(){return this.type.shape.getHeight()},t.prototype.getColor=function(){return this.type.shape.color},t}(),H=function(t){function e(e,n,i,h,u,a){var c=t.call(this,e,n,i,h,u,a)||this;return c.type=n,c.moveVector=s.default.zero(),c.onHit=function(t){if(t instanceof Y){if(t.initiator==c.type)return;c.type.bounties.forEach(function(e){e(c,t,o.HIT)}),c.lives-=t.type.dmg,et(0)}else c.lives--,et(0);c.lives<1&&c.onDestroyed(r.LIVES)},c.lives=n.lives,c}return i(e,t),e.prototype.isAlive=function(){return this.lives>0},e.prototype.isInBounds=function(){return this.type.boundary.isInBounds(this.x,this.y,this.type.shape)},e.prototype.update=function(e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=!1),t.prototype.update.call(this,e,n,i),this.type!==D.PLAYER)switch(Math.floor(Math.random()*this.type.shotFreq)){case 1:this.shoot()}},e.prototype.shoot=function(){var t=G,e=new Y(t,this.type,this.type.shot,this.x+this.getWidth()/2,this.y+this.getHeight()/2,this.rotation,function(e){Q.delete(t)});return this.moveVector.add(s.default.construct(.65,this.rotation).scale(-1)),this.speed=Math.min(8,this.speed+.65),Q.set(t,e),G++,R.PLAYER_SHOT.play(),e},e}(b),P=function(t){function e(e,n,i,r,o,s){var h=t.call(this,e,n,i,r,o,s)||this;return h.type=n,h}return i(e,t),e.prototype.update=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1),this.rotation=s.mod(this.rotation+.2*e*t,360);var i=this.speed;this.speed=Math.max(0,this.speed-.4*t/100);var r=i-this.speed,o=0;i=this.speed,n&&(this.speed=Math.min(8,this.speed+1*t/100),o=this.speed-i),this.moveVector=this.move.move(t,this.rotation,{curr:i,dec:r,acc:o},this.moveVector);var h=s.default.from(this.x,this.y);this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.warpToOtherSide(h)},e}(H),Y=function(t){function e(e,n,i,r,o,s,h){var u=t.call(this,e,i,r,o,s,h)||this;return u.initiator=n,u.type=i,u}return i(e,t),e.prototype.isCollidingWith=function(e){return t.prototype.isCollidingWith.call(this,e)&&this.initiator!==e.type},e}(b),N=function(t){function e(e,n,i,r,o,s){return t.call(this,e,n,i,r,o,s)||this}return i(e,t),e}(b),C=document.getElementById("canvas").getContext("2d"),U=document.createElement("canvas");U.width=h,U.height=u;var W=U.getContext("2d"),k=null,j={space:!1,left:!1,right:!1,up:!1,down:!1},B={space:!1,left:!1,right:!1,up:!1,down:!1},V=new P(0,D.PLAYER,0,0,0,function(){tt=!1,alert("Game over!")});V.x=h/2-V.getWidth()/2,V.y=u-V.getHeight();var q=0,F=document.getElementById("score_text"),z=document.getElementById("lives_text"),X=0,J=0,G=0,Z=0,K=new Map,Q=new Map,$=new Map,tt=!0;function et(t,e){void 0===e&&(e=0),q+=t,V.lives+=e,F.innerText=""+q,z.innerText=""+V.lives}window.addEventListener("keydown",function(t){switch(t.key){case" ":j.space=!0;break;case"ArrowUp":case"w":j.up=!0;break;case"ArrowLeft":case"a":j.left=!0;break;case"ArrowRight":case"d":j.right=!0}}),window.addEventListener("keyup",function(t){switch(t.key){case" ":j.space=!1;break;case"ArrowUp":case"w":j.up=!1;break;case"ArrowLeft":case"a":j.left=!1;break;case"ArrowRight":case"d":j.right=!1}}),window.requestAnimationFrame(function t(e){if(tt){k||(k=e);var n=e-k;k=e,function(t){if((X+=t)>a&&K.size<=f&&(X=0,Math.random()*c<1)){var e=J,n=D.ASTEROID_M;switch(Math.floor(10*Math.random())){case 0:n=D.ASTEROID_L;break;case 1:n=D.ASTEROID_S}K.set(e,new H(e,n,Math.random()*(h-n.shape.getWidth()),-n.shape.getHeight(),360*Math.random(),function(t){var n=this;t==r.LIVES&&this.type.bounties.forEach(function(t){return t(n,null,o.DESTROYED)}),K.delete(e)})),J++}}(n),function(){switch(Math.floor(100*Math.random())){case 1:var t=Z;$.set(t,new N(t,A.CLOUD,Math.random()*h,-A.CLOUD.shape.getHeight(),0,function(t){$.delete(this.id)})),Z++}}(),function(t){j.space&&!B.space&&V.shoot(),V.update(t,j.left?-1:j.right?1:0,j.up),K.forEach(function(e){return e.update(t)}),Q.forEach(function(e){return e.update(t)}),Q.forEach(function(t){t.isCollidingWith(V)&&(V.onHit(t),t.onDestroyed()),K.forEach(function(e){t.isCollidingWith(e)&&(e.onHit(t),t.onDestroyed(r.COLLISION))})}),$.forEach(function(e){return e.update(t)})}(n),W.clearRect(0,0,h,u),$.forEach(function(t){return t.render(W)}),V.render(W),K.forEach(function(t){return t.render(W)}),Q.forEach(function(t){return t.render(W)}),B=JSON.parse(JSON.stringify(j)),C.clearRect(0,0,h,u),C.drawImage(U,0,0),window.requestAnimationFrame(t)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.x=t,this.y=e}return t.from=function(e,n){return new t(e,n)},t.fromOther=function(e){return new t(e.x,e.y)},t.zero=function(){return new t(0,0)},t.construct=function(e,n){return new t(e*Math.cos(r(n)),e*Math.sin(r(n))).rotate(-90)},t.prototype.isZero=function(){return 0==this.x&&0==this.y},t.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.add=function(e,n){return t.fromOther(e).add(n)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.rotate=function(e,n){return t.fromOther(e).rotate(n)},t.prototype.rotate=function(t){var e=this.x;return this.x=this.x*Math.cos(r(t))-this.y*Math.sin(r(t)),this.y=e*Math.sin(r(t))+this.y*Math.cos(r(t)),this},t.scale=function(e,n){return t.fromOther(e).scale(n)},t.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.normalize=function(e){return t.fromOther(e).normalize()},t.prototype.normalize=function(){return 0===this.magnitude()?this:this.scale(1/this.magnitude())},t}();function r(t){return t*(Math.PI/180)}e.default=i,e.mod=function(t,e){return(t%e+e)%e},e.rad=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzdGVyb2lkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRGVhdGhDYXVzZUVudW0iLCJIaXRUeXBlRW51bSIsInZlY3Rvcl8xIiwiV0lEVEgiLCJIRUlHSFQiLCJFTkVNWV9TUEFXTl9SQVRFIiwiRU5FTVlfU1BBV05fUFJPQkFCSUxJVFkiLCJFTkVNWV9MSU1JVCIsIkJvdW5kYXJ5IiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInRoaXMiLCJpc0luQm91bmRzIiwieCIsInkiLCJzaGFwZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiTm9Cb3VuZGFyeSIsIl9zdXBlciIsIl9fZXh0ZW5kcyIsIlNoYXBlIiwiY29sb3IiLCJtYXNzIiwiUmVjdGFuZ2xlIiwid2lkdGgiLCJoZWlnaHQiLCJfdGhpcyIsInJlbmRlciIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIkNpcmNsZSIsInJhZGl1cyIsImJlZ2luUGF0aCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJHYW1lT2JqZWN0VHlwZSIsImJvdW5kYXJ5IiwibW92ZSIsIlVuaXRUeXBlIiwibGl2ZXMiLCJzaG90RnJlcSIsInNob3QiLCJib3VudGllcyIsIlNob3RUeXBlIiwiZG1nIiwiRW52aXJvbm1lbnRUeXBlIiwiTW92ZSIsImVsYXBzZWRUaW1lIiwicm90YXRpb24iLCJzcGVlZCIsIm1vdmVWZWN0b3IiLCJFcnJvciIsIkNvbnN0YW50TW92ZSIsInZlY3RvciIsImRlZmF1bHQiLCJmcm9tIiwiY29weSIsImZyb21PdGhlciIsInNldFJvdGF0aW9uIiwicm90YXRlIiwiRHluYW1pY01vdmUiLCJkZWNTcGVlZCIsInNjYWxlIiwiZGVjIiwiY3VyciIsImFjYyIsImFkZCIsImNvbnN0cnVjdCIsIkF1ZGlvUG9vbCIsInVybCIsImNvdW50IiwicSIsInB1c2giLCJBdWRpbyIsInBsYXkiLCJhdWRpbyIsInBvcCIsImxvYWQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29uc29sZSIsImxvZyIsIlNoYXBlRW51bSIsIlBMQVlFUiIsIkFTVEVST0lEX1MiLCJBU1RFUk9JRF9NIiwiQVNURVJPSURfTCIsIlNIT1QiLCJDTE9VRCIsIkJvdW5kYXJ5RW51bSIsIk5PTkUiLCJNb3ZlVHlwZUVudW0iLCJFTkVNWV9TSU1QTEUiLCJQTEFZRVJfU0hPVCIsIkVORU1ZX1NIT1QiLCJTaG90VHlwZUVudW0iLCJFTkVNWSIsIlVuaXRUeXBlRW51bSIsIkVudmlyb25tZW50VHlwZUVudW0iLCJBdWRpb1Bvb2xFbnVtIiwiR2FtZU9iamVjdCIsImlkIiwidHlwZSIsInJvdCIsIm9uRGVzdHJveWVkIiwidXBkYXRlIiwibW92ZW1lbnQiLCJvbGQiLCJ3YXJwVG9PdGhlclNpZGUiLCJPVVRfT0ZfQk9VTkRTIiwiaXNDb2xsaWRpbmdXaXRoIiwib3RoZXIiLCJzYXZlIiwidHJhbnNsYXRlIiwicGxheWVyIiwicmFkIiwicmVzdG9yZSIsImdldENvbG9yIiwiVW5pdCIsInplcm8iLCJvbkhpdCIsIlNob3QiLCJpbml0aWF0b3IiLCJmb3JFYWNoIiwiYm91bnR5IiwiSElUIiwidXBkYXRlU3RhdHVzIiwiTElWRVMiLCJpc0FsaXZlIiwiZmxvb3IiLCJyYW5kb20iLCJzaG9vdCIsInNob3RJZENvdW50ZXIiLCJjYXVzZSIsInNob3RzIiwiZGVsZXRlIiwibWluIiwic2V0IiwiUGxheWVyIiwibW9kIiwib2xkU3BlZWQiLCJtYXgiLCJhY2NTcGVlZCIsIkVudmlyb25tZW50IiwiZnJvbnRDb250ZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJiYWNrQ2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImJhY2tDb250ZXh0Iiwic3RhcnQiLCJjdXJyZW50SW5wdXQiLCJzcGFjZSIsImxlZnQiLCJyaWdodCIsInVwIiwiZG93biIsInByaW9ySW5wdXQiLCJydW5uaW5nIiwiYWxlcnQiLCJzY29yZSIsInNjb3JlRWxlbWVudCIsImxpdmVzRWxlbWVudCIsImVuZW15VGltZVRvU3Bhd24iLCJlbmVteUlkQ291bnRlciIsImVudmlyb25tZW50SWRDb3VudGVyIiwiZW5lbWllcyIsIk1hcCIsImVudmlyb25tZW50cyIsInNjb3JlRGVsdGEiLCJoZWFsdGhEZWx0YSIsImlubmVyVGV4dCIsIndpbmRvdyIsImV2ZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsInRpbWVzdGFtcCIsInNpemUiLCJpZF8xIiwiREVTVFJPWUVEIiwiY3JlYXRlRW5lbXkiLCJjcmVhdGVFbnZpcm9ubWVudCIsImVuZW15IiwiQ09MTElTSU9OIiwiY2xlYXJSZWN0IiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZHJhd0ltYWdlIiwiVmVjdG9yIiwibWFnbml0dWRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJpc1plcm8iLCJzcXJ0IiwiYSIsImIiLCJvbGRYIiwic2NhbGFyIiwibm9ybWFsaXplIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFD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QUFBMEUsTUFBUCxTQUFheUksR0FHVCxPQUZBbE0sS0FBS0UsR0FBS2dNLEVBQ1ZsTSxLQUFLRyxHQUFLK0wsRUFDSGxNLE1BR0d3TCxFQUFBVyxVQUFkLFNBQXdCbkosR0FDcEIsT0FBT3dJLEVBQU9wSSxVQUFVSixHQUFRbUosYUFHN0JYLEVBQUF6TSxVQUFBb04sVUFBUCxXQUNJLE9BQTRCLElBQXJCbk0sS0FBS3lMLFlBQW9CekwsS0FBT0EsS0FBS3lELE1BQU0sRUFBSXpELEtBQUt5TCxjQWFuRUQsRUE3RUEsR0FtRkEsU0FBZ0IzRSxFQUFJakksR0FDaEIsT0FBT0EsR0FBSzZDLEtBQUtDLEdBQUssaUJBTDFCekUsRUFBQW9MLElBQUEsU0FBb0J6SixFQUFXckIsR0FDM0IsT0FBU3FCLEVBQUlyQixFQUFLQSxHQUFLQSxHQUczQk4sRUFBQTRKIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBWZWN0b3IsIHttb2QsIHJhZH0gZnJvbSBcIi4vdmVjdG9yXCI7XHJcblxyXG5jb25zdCBXSURUSCA9IDgwMDtcclxuY29uc3QgSEVJR0hUID0gNjAwO1xyXG5jb25zdCBST1RBVElPTl9TUEVFRCA9IDAuMjtcclxuY29uc3QgQUNDX1NQRUVEID0gMTtcclxuY29uc3QgREVDRUxFUkFUSU9OX1NQRUVEID0gMC40O1xyXG5jb25zdCBLTk9DS19CQUNLID0gMC42NTtcclxuY29uc3QgTUFYX1NQRUVEID0gODtcclxuY29uc3QgRU5FTVlfUkFESVVTID0gMjA7XHJcbmNvbnN0IEVORU1ZX1NQQVdOX1JBVEUgPSAxMDAwO1xyXG5jb25zdCBFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSA9IDM7XHJcbmNvbnN0IEVORU1ZX0xJTUlUID0gMTA7XHJcblxyXG4vL3JlZ2lvbiBHYW1lT2JqZWN0IHBhcnRzXHJcbnR5cGUgQm91bnR5Q2FsbGJhY2sgPSAoZW5lbXk6IFVuaXQsIHNob3Q6IFNob3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiBhbnk7XHJcbnR5cGUgU3BlZWRTdHJ1Y3QgPSB7IGN1cnI6IG51bWJlciwgZGVjOiBudW1iZXIsIGFjYzogbnVtYmVyIH1cclxuXHJcbmVudW0gRGVhdGhDYXVzZUVudW0ge1xyXG4gICAgT1VUX09GX0JPVU5EUyxcclxuICAgIExJVkVTLFxyXG4gICAgQ09MTElTSU9OXHJcbn1cclxuXHJcbmVudW0gSGl0VHlwZUVudW0ge1xyXG4gICAgSElULFxyXG4gICAgREVTVFJPWUVEXHJcbn1cclxuXHJcbmNsYXNzIEJvdW5kYXJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtaW5YOiBudW1iZXIsIHB1YmxpYyBtaW5ZOiBudW1iZXIsIHB1YmxpYyBtYXhYOiBudW1iZXIsIHB1YmxpYyBtYXhZOiBudW1iZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBpc0luQm91bmRzKHg6IG51bWJlciwgeTogbnVtYmVyLCBzaGFwZTogU2hhcGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4geCA+PSB0aGlzLm1pblggJiYgeSA+PSB0aGlzLm1pblkgJiYgKHggKyBzaGFwZS5nZXRXaWR0aCgpKSA8PSB0aGlzLm1heFggJiYgKHkgKyBzaGFwZS5nZXRIZWlnaHQoKSkgPD0gdGhpcy5tYXhZO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBOb0JvdW5kYXJ5IGV4dGVuZHMgQm91bmRhcnkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoMCwgMCwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgc2hhcGU6IFNoYXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIFNoYXBlIHtcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgY29sb3I6IHN0cmluZywgcHVibGljIG1hc3M6IG51bWJlcikge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRXaWR0aCgpOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEhlaWdodCgpOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xyXG59XHJcblxyXG5jbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBTaGFwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBtYXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihjb2xvciwgbWFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53aWR0aFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENpcmNsZSBleHRlbmRzIFNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByYWRpdXM6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsIG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyICogdGhpcy5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMiAqIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjb250ZXh0LmFyYyh0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdCgwLCAwLCAyICogdGhpcy5yYWRpdXMsIDIgKiB0aGlzLnJhZGl1cyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIEdhbWVPYmplY3RUeXBlIHtcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgc2hhcGU6IFNoYXBlLCBwdWJsaWMgYm91bmRhcnk6IEJvdW5kYXJ5LCBwdWJsaWMgbW92ZTogTW92ZSkge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVW5pdFR5cGUgZXh0ZW5kcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbGl2ZXM6IG51bWJlciwgcHVibGljIHNob3RGcmVxOiBudW1iZXIsIHNoYXBlOiBTaGFwZSwgYm91bmRhcnk6IEJvdW5kYXJ5LCBtb3ZlOiBNb3ZlLCBwdWJsaWMgc2hvdDogU2hvdFR5cGUsIHB1YmxpYyBib3VudGllczogQm91bnR5Q2FsbGJhY2tbXSkge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIFNob3RUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIGRtZzogbnVtYmVyLCBzaGFwZTogU2hhcGUsIGJvdW5kYXJ5OiBCb3VuZGFyeSwgbW92ZTogTW92ZSkge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRW52aXJvbm1lbnRUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgY29uc3RydWN0b3Ioc2hhcGU6IFNoYXBlLCBib3VuZGFyeTogQm91bmRhcnksIG1vdmU6IE1vdmUpIHtcclxuICAgICAgICBzdXBlcihzaGFwZSwgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIE1vdmUge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIHNwZWVkOiBTcGVlZFN0cnVjdCA9IG51bGwsIG1vdmVWZWN0b3I6IFZlY3RvciA9IG51bGwpOiBWZWN0b3Ige1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRlZCFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgY29weSgpOiBNb3ZlO1xyXG5cclxuICAgIGFic3RyYWN0IHNldFJvdGF0aW9uKHJvdGF0aW9uOiBudW1iZXIpOiBNb3ZlO1xyXG59XHJcblxyXG5jbGFzcyBDb25zdGFudE1vdmUgZXh0ZW5kcyBNb3ZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2ZWN0b3I6IFZlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgc3BlZWQ6IFNwZWVkU3RydWN0ID0gbnVsbCwgbW92ZVZlY3RvcjogVmVjdG9yID0gbnVsbCk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tKHRoaXMudmVjdG9yLnggKiBlbGFwc2VkVGltZSwgdGhpcy52ZWN0b3IueSAqIGVsYXBzZWRUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29weSgpOiBNb3ZlIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbU90aGVyKHRoaXMudmVjdG9yKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzZXRSb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogTW92ZSB7XHJcbiAgICAgICAgdGhpcy52ZWN0b3Iucm90YXRlKHJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRHluYW1pY01vdmUgZXh0ZW5kcyBNb3ZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGVjU3BlZWQ6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyLCBzcGVlZDogU3BlZWRTdHJ1Y3QsIG1vdmVWZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IHZlY3RvciA9IFZlY3Rvci5mcm9tT3RoZXIobW92ZVZlY3Rvcik7XHJcbiAgICAgICAgdmVjdG9yLnNjYWxlKHNwZWVkLmRlYyA9PT0gMCA/IDEgOiBzcGVlZC5jdXJyIC8gKHNwZWVkLmN1cnIgKyBzcGVlZC5kZWMpKTtcclxuICAgICAgICBpZiAoc3BlZWQuYWNjID4gMCkge1xyXG4gICAgICAgICAgICB2ZWN0b3IuYWRkKFZlY3Rvci5jb25zdHJ1Y3Qoc3BlZWQuYWNjLCByb3RhdGlvbikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmVjdG9yO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb3B5KCk6IE1vdmUge1xyXG4gICAgICAgIHJldHVybiBuZXcgRHluYW1pY01vdmUodGhpcy5kZWNTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IE1vdmUge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBdWRpb1Bvb2wge1xyXG4gICAgcHJpdmF0ZSBxOiBIVE1MQXVkaW9FbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHVybDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucS5wdXNoKG5ldyBBdWRpbyh1cmwpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKSB7XHJcbiAgICAgICAgbGV0IGF1ZGlvID0gdGhpcy5xLnBvcCgpO1xyXG4gICAgICAgIGlmICghYXVkaW8pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBQb29sIGlzIG5vdCBiaWcgZW5vdWdoIVwiLCB0aGlzLnVybCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXVkaW8ubG9hZCgpO1xyXG4gICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucS5wdXNoKGF1ZGlvKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IFNoYXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFJlY3RhbmdsZSgyMCwgMzUsIFwiIzZhN2ZlZFwiLCAwKSxcclxuICAgIEFTVEVST0lEX1M6IG5ldyBDaXJjbGUoRU5FTVlfUkFESVVTLCBcIiNmZjI3NjZcIiwgMCksXHJcbiAgICBBU1RFUk9JRF9NOiBuZXcgQ2lyY2xlKDIgKiBFTkVNWV9SQURJVVMsIFwiI2JiMmM1YlwiLCAwKSxcclxuICAgIEFTVEVST0lEX0w6IG5ldyBDaXJjbGUoNCAqIEVORU1ZX1JBRElVUywgXCIjYTMxNjNlXCIsIDApLFxyXG4gICAgU0hPVDogbmV3IFJlY3RhbmdsZSg1LCA1LCBcIiNmZmZmZmZcIiwgMCksXHJcbiAgICBDTE9VRDogbmV3IFJlY3RhbmdsZSgxNTAsIDE1MCwgXCIjMGExZTNhXCIsIDApXHJcbn07XHJcblxyXG5jb25zdCBCb3VuZGFyeUVudW0gPSB7XHJcbiAgICBOT05FOiBuZXcgTm9Cb3VuZGFyeSgpLFxyXG4gICAgU0hPVDogbmV3IEJvdW5kYXJ5KDAsIDAsIFdJRFRILCBIRUlHSFQpLFxyXG4gICAgQ0xPVUQ6IG5ldyBCb3VuZGFyeSgtU2hhcGVFbnVtLkNMT1VELndpZHRoLCAtU2hhcGVFbnVtLkNMT1VELmhlaWdodCwgV0lEVEggKyBTaGFwZUVudW0uQ0xPVUQud2lkdGgsIEhFSUdIVCArIFNoYXBlRW51bS5DTE9VRC5oZWlnaHQpXHJcbn07XHJcblxyXG5jb25zdCBCb3VudHlFbnVtID0ge1xyXG4gICAgU0NPUkVfU1Q6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygxMCk7XHJcbiAgICB9LFxyXG4gICAgSEVBTFRIX1NUOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoMCwgMSk7XHJcbiAgICB9LFxyXG4gICAgU0NPUkVfRkFTVDogKGVuZW15OiBVbml0LCBzaG90OiBHYW1lT2JqZWN0LCB0eXBlOiBIaXRUeXBlRW51bSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09IEhpdFR5cGVFbnVtLkhJVClcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDIwKTtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cyg1MCk7XHJcbiAgICB9LFxyXG4gICAgU0NPUkVfMzA6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygzMCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBNb3ZlVHlwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBEeW5hbWljTW92ZShERUNFTEVSQVRJT05fU1BFRUQpLFxyXG4gICAgRU5FTVlfU0lNUExFOiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tKDAsIDAuMSkpLFxyXG4gICAgUExBWUVSX1NIT1Q6IG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb20oMCwgLTAuNSkpLFxyXG4gICAgRU5FTVlfU0hPVDogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjQpKSxcclxuICAgIENMT1VEOiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tKDAsIDAuMDUpKVxyXG59O1xyXG5cclxuY29uc3QgU2hvdFR5cGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgU2hvdFR5cGUoMSwgU2hhcGVFbnVtLlNIT1QsIEJvdW5kYXJ5RW51bS5TSE9ULCBNb3ZlVHlwZUVudW0uUExBWUVSX1NIT1QpLFxyXG4gICAgRU5FTVk6IG5ldyBTaG90VHlwZSgxLCBTaGFwZUVudW0uU0hPVCwgQm91bmRhcnlFbnVtLlNIT1QsIE1vdmVUeXBlRW51bS5FTkVNWV9TSE9UKVxyXG59O1xyXG5cclxuY29uc3QgVW5pdFR5cGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgVW5pdFR5cGUoMywgMCwgU2hhcGVFbnVtLlBMQVlFUiwgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5QTEFZRVIsIFNob3RUeXBlRW51bS5QTEFZRVIsIFtdKSxcclxuICAgIEFTVEVST0lEX1M6IG5ldyBVbml0VHlwZSgxLCAwLCBTaGFwZUVudW0uQVNURVJPSURfUywgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5FTkVNWV9TSU1QTEUsIFNob3RUeXBlRW51bS5FTkVNWSwgW10pLFxyXG4gICAgQVNURVJPSURfTTogbmV3IFVuaXRUeXBlKDEsIDAsIFNoYXBlRW51bS5BU1RFUk9JRF9NLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLkVORU1ZX1NJTVBMRSwgU2hvdFR5cGVFbnVtLkVORU1ZLCBbXSksXHJcbiAgICBBU1RFUk9JRF9MOiBuZXcgVW5pdFR5cGUoMSwgMCwgU2hhcGVFbnVtLkFTVEVST0lEX0wsIEJvdW5kYXJ5RW51bS5OT05FLCBNb3ZlVHlwZUVudW0uRU5FTVlfU0lNUExFLCBTaG90VHlwZUVudW0uRU5FTVksIFtdKSxcclxufTtcclxuXHJcbmNvbnN0IEVudmlyb25tZW50VHlwZUVudW0gPSB7XHJcbiAgICBDTE9VRDogbmV3IEVudmlyb25tZW50VHlwZShTaGFwZUVudW0uQ0xPVUQsIEJvdW5kYXJ5RW51bS5DTE9VRCwgTW92ZVR5cGVFbnVtLkNMT1VEKVxyXG59O1xyXG5cclxuY29uc3QgQXVkaW9Qb29sRW51bSA9IHtcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQXVkaW9Qb29sKFwiYXVkaW8vcGxheWVyX3Nob3Qud2F2XCIsIDUpLFxyXG59O1xyXG5cclxuLy9lbmRyZWdpb25cclxuXHJcbi8vcmVnaW9uIEdhbWVPYmplY3RzXHJcbnR5cGUgSGl0Q2FsbGJhY2sgPSAob3RoZXI6IEdhbWVPYmplY3QpID0+IGFueTtcclxudHlwZSBEZXN0cm95ZWRDYWxsYmFjayA9IChjYXVzZTogRGVhdGhDYXVzZUVudW0pID0+IGFueTtcclxuXHJcbmFic3RyYWN0IGNsYXNzIEdhbWVPYmplY3Qge1xyXG4gICAgcHVibGljIHJvdGF0aW9uOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIG1vdmU6IE1vdmUgPSBudWxsO1xyXG5cclxuICAgIHByb3RlY3RlZCBzcGVlZDogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHVibGljIGlkOiBudW1iZXIsIHB1YmxpYyB0eXBlOiBHYW1lT2JqZWN0VHlwZSwgcHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgcHVibGljIHJvdDogbnVtYmVyLCBwdWJsaWMgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5tb3ZlID0gdHlwZS5tb3ZlLmNvcHkoKS5zZXRSb3RhdGlvbihyb3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgbW92ZW1lbnQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBtb3ZlID0gdGhpcy5tb3ZlLm1vdmUoZWxhcHNlZFRpbWUpO1xyXG4gICAgICAgIGxldCBvbGQgPSBWZWN0b3IuZnJvbSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgaWYgKHRoaXMudHlwZS5ib3VuZGFyeS5pc0luQm91bmRzKHRoaXMueCArIG1vdmUueCwgdGhpcy55ICsgbW92ZS55LCB0aGlzLnR5cGUuc2hhcGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCArPSBtb3ZlLng7XHJcbiAgICAgICAgICAgIHRoaXMueSArPSBtb3ZlLnk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUuYm91bmRhcnkgaW5zdGFuY2VvZiBOb0JvdW5kYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndhcnBUb090aGVyU2lkZShvbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgIT0gVW5pdFR5cGVFbnVtLlBMQVlFUikge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveWVkKERlYXRoQ2F1c2VFbnVtLk9VVF9PRl9CT1VORFMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgd2FycFRvT3RoZXJTaWRlKG9sZDogVmVjdG9yKSB7XHJcbiAgICAgICAgaWYgKHRoaXMueCA+IFdJRFRIICYmICEob2xkLnggPiBXSURUSCkpXHJcbiAgICAgICAgICAgIHRoaXMueCA9IC10aGlzLmdldFdpZHRoKCk7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy54ICsgdGhpcy5nZXRXaWR0aCgpIDwgMCAmJiAhKG9sZC54ICsgdGhpcy5nZXRXaWR0aCgpIDwgMCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXYXJwaW5nIDJcIiwgb2xkLCB0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IFdJRFRIO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy55ID4gSEVJR0hUICYmICEob2xkLnkgPiBIRUlHSFQpKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSAtdGhpcy5nZXRIZWlnaHQoKTtcclxuICAgICAgICBlbHNlIGlmICh0aGlzLnkgKyB0aGlzLmdldEhlaWdodCgpIDwgMCAmJiAhKG9sZC55ICsgdGhpcy5nZXRIZWlnaHQoKSA8IDApKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2FycGluZyA0XCIsIG9sZCwgdGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSBIRUlHSFQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzQ29sbGlkaW5nV2l0aChvdGhlcjogR2FtZU9iamVjdCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vVE9ET1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMueCArIDAuNSAqIHRoaXMuZ2V0V2lkdGgoKSwgdGhpcy55ICsgMC41ICogcGxheWVyLmdldEhlaWdodCgpKTtcclxuICAgICAgICBjb250ZXh0LnJvdGF0ZShyYWQodGhpcy5yb3RhdGlvbikpO1xyXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0wLjUgKiB0aGlzLmdldFdpZHRoKCksIC0wLjUgKiB0aGlzLmdldEhlaWdodCgpKTtcclxuICAgICAgICB0aGlzLnR5cGUuc2hhcGUucmVuZGVyKGNvbnRleHQpO1xyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcmVnaW9uIEhlbHBlciBNZXRob2RzXHJcbiAgICBwdWJsaWMgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnNoYXBlLmdldFdpZHRoKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5nZXRIZWlnaHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29sb3IoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnNoYXBlLmNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZW5kcmVnaW9uXHJcbn1cclxuXHJcbmNsYXNzIFVuaXQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIHB1YmxpYyBtb3ZlVmVjdG9yOiBWZWN0b3IgPSBWZWN0b3IuemVybygpO1xyXG5cclxuICAgIHB1YmxpYyBvbkhpdDogSGl0Q2FsbGJhY2sgPSBvdGhlciA9PiB7XHJcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgU2hvdCkge1xyXG4gICAgICAgICAgICBpZiAob3RoZXIuaW5pdGlhdG9yID09IHRoaXMudHlwZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IHtcclxuICAgICAgICAgICAgICAgIGJvdW50eSh0aGlzLCBvdGhlciwgSGl0VHlwZUVudW0uSElUKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5saXZlcyAtPSBvdGhlci50eXBlLmRtZztcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZXMtLTtcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5saXZlcyA8IDEpXHJcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQoRGVhdGhDYXVzZUVudW0uTElWRVMpO1xyXG4gICAgfTtcclxuICAgIHB1YmxpYyBsaXZlczogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHB1YmxpYyB0eXBlOiBVbml0VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICAgICAgdGhpcy5saXZlcyA9IHR5cGUubGl2ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgaXNBbGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saXZlcyA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54LCB0aGlzLnksIHRoaXMudHlwZS5zaGFwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBtb3ZlbWVudDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGVsYXBzZWRUaW1lLCByb3RhdGlvbiwgbW92ZW1lbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IFVuaXRUeXBlRW51bS5QTEFZRVIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMudHlwZS5zaG90RnJlcSkpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG9vdCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob290KCk6IFNob3Qge1xyXG4gICAgICAgIGxldCBpZCA9IHNob3RJZENvdW50ZXI7XHJcbiAgICAgICAgbGV0IHNob3QgPSBuZXcgU2hvdChpZCwgdGhpcy50eXBlLCB0aGlzLnR5cGUuc2hvdCwgdGhpcy54ICsgdGhpcy5nZXRXaWR0aCgpIC8gMiwgdGhpcy55ICsgdGhpcy5nZXRIZWlnaHQoKSAvIDIsIHRoaXMucm90YXRpb24sIChjYXVzZTogRGVhdGhDYXVzZUVudW0pID0+IHtcclxuICAgICAgICAgICAgc2hvdHMuZGVsZXRlKGlkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IuYWRkKFZlY3Rvci5jb25zdHJ1Y3QoS05PQ0tfQkFDSywgdGhpcy5yb3RhdGlvbikuc2NhbGUoLTEpKTtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTUFYX1NQRUVELCB0aGlzLnNwZWVkICsgKEtOT0NLX0JBQ0spKTtcclxuICAgICAgICBzaG90cy5zZXQoaWQsIHNob3QpO1xyXG4gICAgICAgIHNob3RJZENvdW50ZXIrKztcclxuICAgICAgICBBdWRpb1Bvb2xFbnVtLlBMQVlFUl9TSE9ULnBsYXkoKTtcclxuICAgICAgICByZXR1cm4gc2hvdDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGxheWVyIGV4dGVuZHMgVW5pdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgbW92ZW1lbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSBtb2QodGhpcy5yb3RhdGlvbiArIHJvdGF0aW9uICogUk9UQVRJT05fU1BFRUQgKiBlbGFwc2VkVGltZSwgMzYwKTtcclxuICAgICAgICBsZXQgb2xkU3BlZWQgPSB0aGlzLnNwZWVkO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSBNYXRoLm1heCgwLCB0aGlzLnNwZWVkIC0gKERFQ0VMRVJBVElPTl9TUEVFRCAqIGVsYXBzZWRUaW1lIC8gMTAwKSk7XHJcbiAgICAgICAgbGV0IGRlY1NwZWVkID0gb2xkU3BlZWQgLSB0aGlzLnNwZWVkO1xyXG4gICAgICAgIGxldCBhY2NTcGVlZCA9IDA7XHJcbiAgICAgICAgb2xkU3BlZWQgPSB0aGlzLnNwZWVkO1xyXG4gICAgICAgIGlmIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTUFYX1NQRUVELCB0aGlzLnNwZWVkICsgKEFDQ19TUEVFRCAqIGVsYXBzZWRUaW1lIC8gMTAwKSk7XHJcbiAgICAgICAgICAgIGFjY1NwZWVkID0gdGhpcy5zcGVlZCAtIG9sZFNwZWVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IgPSB0aGlzLm1vdmUubW92ZShlbGFwc2VkVGltZSwgdGhpcy5yb3RhdGlvbiwge1xyXG4gICAgICAgICAgICBjdXJyOiBvbGRTcGVlZCxcclxuICAgICAgICAgICAgZGVjOiBkZWNTcGVlZCxcclxuICAgICAgICAgICAgYWNjOiBhY2NTcGVlZFxyXG4gICAgICAgIH0sIHRoaXMubW92ZVZlY3Rvcik7XHJcblxyXG4gICAgICAgIGxldCBvbGQgPSBWZWN0b3IuZnJvbSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy54ICs9IHRoaXMubW92ZVZlY3Rvci54O1xyXG4gICAgICAgIHRoaXMueSArPSB0aGlzLm1vdmVWZWN0b3IueTtcclxuICAgICAgICB0aGlzLndhcnBUb090aGVyU2lkZShvbGQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTaG90IGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgaW5pdGlhdG9yOiBVbml0VHlwZSwgcHVibGljIHR5cGU6IFNob3RUeXBlLCB4OiBudW1iZXIsIHk6IG51bWJlciwgcm90OiBudW1iZXIsIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCB4LCB5LCByb3QsIG9uRGVzdHJveWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0NvbGxpZGluZ1dpdGgob3RoZXI6IEdhbWVPYmplY3QpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gc3VwZXIuaXNDb2xsaWRpbmdXaXRoKG90aGVyKSAmJiB0aGlzLmluaXRpYXRvciAhPT0gb3RoZXIudHlwZTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRW52aXJvbm1lbnQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHR5cGU6IEVudmlyb25tZW50VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vZW5kcmVnaW9uXHJcblxyXG52YXIgZnJvbnRDYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG52YXIgZnJvbnRDb250ZXh0ID0gZnJvbnRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxudmFyIGJhY2tDYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbmJhY2tDYW52YXMud2lkdGggPSBXSURUSDtcclxuYmFja0NhbnZhcy5oZWlnaHQgPSBIRUlHSFQ7XHJcbnZhciBiYWNrQ29udGV4dCA9IGJhY2tDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxudmFyIHN0YXJ0ID0gbnVsbDtcclxudmFyIGN1cnJlbnRJbnB1dCA9IHtcclxuICAgIHNwYWNlOiBmYWxzZSxcclxuICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgdXA6IGZhbHNlLFxyXG4gICAgZG93bjogZmFsc2VcclxufTtcclxudmFyIHByaW9ySW5wdXQgPSB7XHJcbiAgICBzcGFjZTogZmFsc2UsXHJcbiAgICBsZWZ0OiBmYWxzZSxcclxuICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIHVwOiBmYWxzZSxcclxuICAgIGRvd246IGZhbHNlXHJcbn07XHJcblxyXG52YXIgcGxheWVyID0gbmV3IFBsYXllcigwLCBVbml0VHlwZUVudW0uUExBWUVSLCAwLCAwLCAwLCAoKSA9PiB7XHJcbiAgICBlbmRHYW1lKCk7XHJcbn0pO1xyXG5wbGF5ZXIueCA9IFdJRFRIIC8gMiAtIHBsYXllci5nZXRXaWR0aCgpIC8gMjtcclxucGxheWVyLnkgPSBIRUlHSFQgLSBwbGF5ZXIuZ2V0SGVpZ2h0KCk7XHJcbnZhciBzY29yZSA9IDA7XHJcbnZhciBzY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjb3JlX3RleHRcIik7XHJcbnZhciBsaXZlc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpdmVzX3RleHRcIik7XHJcblxyXG52YXIgZW5lbXlUaW1lVG9TcGF3biA9IDA7XHJcbnZhciBlbmVteUlkQ291bnRlciA9IDA7XHJcbnZhciBzaG90SWRDb3VudGVyID0gMDtcclxudmFyIGVudmlyb25tZW50SWRDb3VudGVyID0gMDtcclxuLy8gQHRzLWlnbm9yZVxyXG52YXIgZW5lbWllcyA9IG5ldyBNYXA8bnVtYmVyLCBVbml0PigpO1xyXG4vLyBAdHMtaWdub3JlXHJcbnZhciBzaG90cyA9IG5ldyBNYXA8bnVtYmVyLCBTaG90PigpO1xyXG4vLyBAdHMtaWdub3JlXHJcbnZhciBlbnZpcm9ubWVudHMgPSBuZXcgTWFwPG51bWJlciwgRW52aXJvbm1lbnQ+KCk7XHJcbnZhciBydW5uaW5nOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbmZ1bmN0aW9uIGxvb3AodGltZXN0YW1wKSB7XHJcbiAgICBpZiAoIXJ1bm5pbmcpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKCFzdGFydCkgc3RhcnQgPSB0aW1lc3RhbXA7XHJcbiAgICBsZXQgZWxhcHNlZFRpbWUgPSB0aW1lc3RhbXAgLSBzdGFydDtcclxuICAgIHN0YXJ0ID0gdGltZXN0YW1wO1xyXG5cclxuICAgIGNyZWF0ZUVuZW15KGVsYXBzZWRUaW1lKTtcclxuICAgIGNyZWF0ZUVudmlyb25tZW50KCk7XHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWUpO1xyXG4gICAgcmVuZGVyKGVsYXBzZWRUaW1lKTtcclxuICAgIHBvbGxJbnB1dCgpO1xyXG5cclxuICAgIGZyb250Q29udGV4dC5jbGVhclJlY3QoMCwgMCwgV0lEVEgsIEhFSUdIVCk7XHJcbiAgICBmcm9udENvbnRleHQuZHJhd0ltYWdlKGJhY2tDYW52YXMsIDAsIDApO1xyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKVxyXG59XHJcblxyXG5mdW5jdGlvbiBwb2xsSW5wdXQoKSB7XHJcbiAgICBwcmlvcklucHV0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyZW50SW5wdXQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlS2V5ZG93bihldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcgJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnNwYWNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6XHJcbiAgICAgICAgY2FzZSAndyc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC51cCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XHJcbiAgICAgICAgY2FzZSAnYSc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5sZWZ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgY2FzZSAnZCc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5yaWdodCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleWRvd24pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlS2V5dXAoZXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5zcGFjZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1VwJzpcclxuICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XHJcbiAgICAgICAgY2FzZSAnYSc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5sZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxyXG4gICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQucmlnaHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleXVwKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVuZW15KGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGVuZW15VGltZVRvU3Bhd24gKz0gZWxhcHNlZFRpbWU7XHJcbiAgICBpZiAoZW5lbXlUaW1lVG9TcGF3biA+IEVORU1ZX1NQQVdOX1JBVEUgJiYgZW5lbWllcy5zaXplIDw9IEVORU1ZX0xJTUlUKSB7XHJcbiAgICAgICAgZW5lbXlUaW1lVG9TcGF3biA9IDA7XHJcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgKiBFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSA8IDEpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gZW5lbXlJZENvdW50ZXI7XHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gVW5pdFR5cGVFbnVtLkFTVEVST0lEX007XHJcbiAgICAgICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9MO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uQVNURVJPSURfUztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmVtaWVzLnNldChpZCwgbmV3IFVuaXQoaWQsIHR5cGUsIE1hdGgucmFuZG9tKCkgKiAoV0lEVEggLSB0eXBlLnNoYXBlLmdldFdpZHRoKCkpLCAtdHlwZS5zaGFwZS5nZXRIZWlnaHQoKSwgTWF0aC5yYW5kb20oKSAqIDM2MCwgZnVuY3Rpb24gKGNhdXNlOiBEZWF0aENhdXNlRW51bSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhdXNlID09IERlYXRoQ2F1c2VFbnVtLkxJVkVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IGJvdW50eSh0aGlzLCBudWxsLCBIaXRUeXBlRW51bS5ERVNUUk9ZRUQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZW1pZXMuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBlbmVteUlkQ291bnRlcisrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRW52aXJvbm1lbnQoKSB7XHJcbiAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGVudmlyb25tZW50SWRDb3VudGVyO1xyXG4gICAgICAgICAgICBlbnZpcm9ubWVudHMuc2V0KGlkLCBuZXcgRW52aXJvbm1lbnQoaWQsIEVudmlyb25tZW50VHlwZUVudW0uQ0xPVUQsIE1hdGgucmFuZG9tKCkgKiBXSURUSCwgLUVudmlyb25tZW50VHlwZUVudW0uQ0xPVUQuc2hhcGUuZ2V0SGVpZ2h0KCksIDAsIGZ1bmN0aW9uIChjYXVzZTogRGVhdGhDYXVzZUVudW0pIHtcclxuICAgICAgICAgICAgICAgIGVudmlyb25tZW50cy5kZWxldGUodGhpcy5pZCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnRJZENvdW50ZXIrKztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGlmIChjdXJyZW50SW5wdXQuc3BhY2UgJiYgIXByaW9ySW5wdXQuc3BhY2UpIHtcclxuICAgICAgICBwbGF5ZXIuc2hvb3QoKTtcclxuICAgIH1cclxuICAgIHBsYXllci51cGRhdGUoZWxhcHNlZFRpbWUsIGN1cnJlbnRJbnB1dC5sZWZ0ID8gLTEgOiAoY3VycmVudElucHV0LnJpZ2h0ID8gMSA6IDApLCBjdXJyZW50SW5wdXQudXApO1xyXG5cclxuICAgIGVuZW1pZXMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUudXBkYXRlKGVsYXBzZWRUaW1lKSk7XHJcblxyXG4gICAgc2hvdHMuZm9yRWFjaChzaG90ID0+IHtcclxuICAgICAgICBpZiAoc2hvdC5pc0NvbGxpZGluZ1dpdGgocGxheWVyKSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIub25IaXQoc2hvdCk7XHJcbiAgICAgICAgICAgIHNob3Qub25EZXN0cm95ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgICAgICAgaWYgKHNob3QuaXNDb2xsaWRpbmdXaXRoKGVuZW15KSkge1xyXG4gICAgICAgICAgICAgICAgZW5lbXkub25IaXQoc2hvdCk7XHJcbiAgICAgICAgICAgICAgICBzaG90Lm9uRGVzdHJveWVkKERlYXRoQ2F1c2VFbnVtLkNPTExJU0lPTik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbiAgICBlbnZpcm9ubWVudHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGJhY2tDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcclxuXHJcbiAgICBlbnZpcm9ubWVudHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS5yZW5kZXIoYmFja0NvbnRleHQpKTtcclxuXHJcbiAgICBwbGF5ZXIucmVuZGVyKGJhY2tDb250ZXh0KTtcclxuXHJcbiAgICBlbmVtaWVzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcblxyXG4gICAgc2hvdHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS5yZW5kZXIoYmFja0NvbnRleHQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlU3RhdHVzKHNjb3JlRGVsdGE6IG51bWJlciwgaGVhbHRoRGVsdGE6IG51bWJlciA9IDApIHtcclxuICAgIHNjb3JlICs9IHNjb3JlRGVsdGE7XHJcbiAgICBwbGF5ZXIubGl2ZXMgKz0gaGVhbHRoRGVsdGE7XHJcbiAgICBzY29yZUVsZW1lbnQuaW5uZXJUZXh0ID0gXCJcIiArIHNjb3JlO1xyXG4gICAgbGl2ZXNFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBwbGF5ZXIubGl2ZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuZEdhbWUoKSB7XHJcbiAgICBydW5uaW5nID0gZmFsc2U7XHJcbiAgICBhbGVydChcIkdhbWUgb3ZlciFcIik7XHJcbn1cclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yIHtcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgLypwcml2YXRlIG1vZFg6IG51bWJlciwgcHJpdmF0ZSBtb2RZOiBudW1iZXIqLykge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbSh4OiBudW1iZXIsIHk6IG51bWJlci8qLCBtb2RYOiBudW1iZXIsIG1vZFk6IG51bWJlciovKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LyosIG1vZFgsIG1vZFkqLyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tT3RoZXIob3RoZXI6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3Iob3RoZXIueCwgb3RoZXIueS8qLCBvdGhlci5tb2RYLCBvdGhlci5tb2RZKi8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgemVybygvKm1vZFg6IG51bWJlciwgbW9kWTogbnVtYmVyKi8pOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAvKiwgbW9kWCwgbW9kWSovKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbnN0cnVjdChtYWduaXR1ZGU6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IobWFnbml0dWRlICogTWF0aC5jb3MocmFkKGFuZ2xlKSksIG1hZ25pdHVkZSAqIE1hdGguc2luKHJhZChhbmdsZSkpKS5yb3RhdGUoLTkwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNaZXJvKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnggPT0gMCAmJiB0aGlzLnkgPT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFnbml0dWRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkKGE6IFZlY3RvciwgYjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcihhKS5hZGQoYik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZChvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJvdGF0ZSh2ZWN0b3I6IFZlY3RvciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUoYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IG9sZFggPSB0aGlzLng7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy54ICogTWF0aC5jb3MocmFkKGFuZ2xlKSkgLSB0aGlzLnkgKiBNYXRoLnNpbihyYWQoYW5nbGUpKTtcclxuICAgICAgICB0aGlzLnkgPSBvbGRYICogTWF0aC5zaW4ocmFkKGFuZ2xlKSkgKyB0aGlzLnkgKiBNYXRoLmNvcyhyYWQoYW5nbGUpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNjYWxlKHZlY3RvcjogVmVjdG9yLCBzY2FsYXI6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5zY2FsZShzY2FsYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzY2FsZShzY2FsYXI6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgICB0aGlzLnkgKj0gc2NhbGFyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbm9ybWFsaXplKHZlY3RvcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYWduaXR1ZGUoKSA9PT0gMCA/IHRoaXMgOiB0aGlzLnNjYWxlKDEgLyB0aGlzLm1hZ25pdHVkZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIG1vZCh2ZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAvLyAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5tb2QoKTtcclxuICAgIC8vIH1cclxuICAgIC8vXHJcbiAgICAvLyBwdWJsaWMgbW9kKCk6IFZlY3RvciB7XHJcbiAgICAvLyAgICAgdGhpcy54ID0gbW9kKHRoaXMueCwgdGhpcy5tb2RYKTtcclxuICAgIC8vICAgICB0aGlzLnkgPSBtb2QodGhpcy55LCB0aGlzLm1vZFkpO1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzO1xyXG4gICAgLy8gfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vZChuOiBudW1iZXIsIG06IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYWQobjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBuICogKE1hdGguUEkgLyAxODApO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==