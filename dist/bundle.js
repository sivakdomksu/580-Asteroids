!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),r=800,h=600,o=.2,n=1,a=.4,c=.65,u=8,d=1e3,l=3,f=10;var p,g,y;!function(t){t[t.OUT_OF_BOUNDS=0]="OUT_OF_BOUNDS",t[t.LIVES=1]="LIVES",t[t.COLLISION=2]="COLLISION"}(p||(p={})),function(t){t[t.HIT=0]="HIT",t[t.DESTROYED=1]="DESTROYED"}(g||(g={})),function(t){t[t.PLAYER=0]="PLAYER",t[t.ENEMY=1]="ENEMY"}(y||(y={}));class m{constructor(t,e,s,i){this.minX=t,this.minY=e,this.maxX=s,this.maxY=i}isInBounds(t,e,s){return t>=this.minX&&e>=this.minY&&t+s.getWidth()<=this.maxX&&e+s.getHeight()<=this.maxY}}class E extends m{constructor(){super(0,0,0,0)}isInBounds(t,e,s){return!0}}class O{constructor(t,e){this.color=t,this.mass=e}isCollidingWith(t,e,s){if(e instanceof w)return this.isCollidingWithRectangle(t,e,s);if(e instanceof x)return this.isCollidingWithCircle(t,e,s);throw new Error("Unknown shape type: "+e)}}class w extends O{constructor(t,e,s,i){super(s,i),this.width=t,this.height=e}getHeight(){return this.height}getWidth(){return this.width}render(t){t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height)}isCollidingWithCircle(t,e,s){return e.isCollidingWithRectangle(s,this,t)}isCollidingWithRectangle(t,e,s){return t.x<s.x+e.getWidth()&&t.x+this.getWidth()>s.x&&t.y<s.y+e.getHeight()&&t.y+this.getHeight()>s.y}}class x extends O{constructor(t,e,s){super(e,s),this.radius=t}getHeight(){return 2*this.radius}getWidth(){return 2*this.radius}render(t){t.fillStyle=this.color,t.strokeStyle="#fff",t.strokeRect(0,0,2*this.radius,2*this.radius),t.beginPath(),t.arc(this.radius,this.radius,this.radius,0,2*Math.PI),t.fill()}isCollidingWithRectangle(t,e,s){let r=i.clamp(t.x,s.x,s.x+e.getWidth()),h=i.clamp(t.y,s.y,s.y+e.getHeight()),o=t.x-r,n=t.y-h;return o*o+n*n<this.radius*this.radius}isCollidingWithCircle(t,e,s){return Math.pow(s.x+.5*e.getWidth()-(t.x+.5*this.getWidth()),2)+Math.pow(t.y+.5*this.getHeight()-(s.y+.5*e.getHeight()),2)<Math.pow(this.radius+e.radius,2)}}class v{constructor(t,e,s){this.shape=t,this.boundary=e,this.move=s}}class M extends v{constructor(t,e,s,i,r,h,o,n){super(i,r,h),this.role=t,this.lives=e,this.shotFreq=s,this.shot=o,this.bounties=n}}class S extends v{constructor(t,e,s,i){super(e,s,i),this.dmg=t}}class L{constructor(){}move(t,e=0,s=null,i=null){throw new Error("Not Implemented!")}}class R extends L{constructor(t){super(),this.vector=t}move(t,e=0,s=null,r=null){return i.default.from(this.vector.x*t,this.vector.y*t)}copy(){return new R(i.default.fromOther(this.vector))}setRotation(t){return this.vector.rotate(t),this}getVector(){return this.vector}}class b extends L{constructor(t){super(),this.decSpeed=t,this.lastVector=i.default.zero()}move(t,e,s,r){let h=i.default.fromOther(r);return h.scale(0===s.dec?1:s.curr/(s.curr+s.dec)),s.acc>0&&h.add(i.default.construct(s.acc,e)),this.lastVector=i.default.fromOther(h).scale(1/t),h}copy(){return new b(this.decSpeed)}setRotation(t){return this}getVector(){return this.lastVector}}const A={PLAYER:new class extends w{constructor(t,e,s,i,r){super(t,e,s,i),this.char=r,this.char=this.char.charAt(0)}render(t){super.render(t),t.font="20px Arial",t.fillStyle="#ffffff";let e=t.measureText(this.char).width;t.fillText(this.char,.5*this.width-.5*e,.5*this.height+10)}}(20,35,"#6a7fed",10,"A"),ASTEROID_S:new x(20,"#ff2766",10),ASTEROID_M:new x(40,"#bb2c5b",20),ASTEROID_L:new x(80,"#a3163e",30),SHOT:new w(5,5,"#ffffff",0),CLOUD:new w(150,150,"#0a1e3a",0)},T={NONE:new E,SHOT:new m(0,0,r,h),CLOUD:new m(-A.CLOUD.width,-A.CLOUD.height,r+A.CLOUD.width,h+A.CLOUD.height)},H={PLAYER:new b(a),ENEMY_SIMPLE:new R(i.default.from(0,.1)),PLAYER_SHOT:new R(i.default.from(0,-.5)),ENEMY_SHOT:new R(i.default.from(0,.4)),CLOUD:new R(i.default.from(0,.05))},I={PLAYER:new S(1,A.SHOT,T.SHOT,H.PLAYER_SHOT),ENEMY:new S(1,A.SHOT,T.SHOT,H.ENEMY_SHOT)},_={PLAYER:new M(y.PLAYER,3,0,A.PLAYER,T.NONE,H.PLAYER,I.PLAYER,[]),ASTEROID_S:new M(y.ENEMY,1,0,A.ASTEROID_S,T.NONE,H.ENEMY_SIMPLE,I.ENEMY,[]),ASTEROID_M:new M(y.ENEMY,1,0,A.ASTEROID_M,T.NONE,H.ENEMY_SIMPLE,I.ENEMY,[]),ASTEROID_L:new M(y.ENEMY,1,0,A.ASTEROID_L,T.NONE,H.ENEMY_SIMPLE,I.ENEMY,[])},P={CLOUD:new class extends v{constructor(t,e,s){super(t,e,s)}}(A.CLOUD,T.CLOUD,H.CLOUD)},Y={PLAYER_SHOT:new class{constructor(t,e){this.url=t,this.q=[];for(let s=0;s<e;s++)this.q.push(new Audio(t))}play(){let t=this.q.pop();t?(t.load(),t.addEventListener("ended",()=>{this.q.push(t)}),t.play()):console.log("Audio Pool is not big enough!",this.url)}}("audio/player_shot.wav",5)};class D{constructor(t,e,s,r,h,o){this.id=t,this.type=e,this.x=s,this.y=r,this.rot=h,this.onDestroyed=o,this.rotation=0,this.move=null,this.moveVector=i.default.zero(),this.speed=0,this.move=e.move.copy().setRotation(h)}update(t,e=0,s=!1){this.moveVector=this.move.move(t);let r=i.default.from(this.x,this.y);this.type.boundary.isInBounds(this.x+this.moveVector.x,this.y+this.moveVector.y,this.type.shape)?(this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.type.boundary instanceof E&&this.warpToOtherSide(r)):this.type!=_.PLAYER&&this.onDestroyed(p.OUT_OF_BOUNDS)}warpToOtherSide(t){this.x>r&&!(t.x>r)?this.x=-this.getWidth():this.x+this.getWidth()<0&&!(t.x+this.getWidth()<0)&&(this.x=r),this.y>h&&!(t.y>h)?this.y=-this.getHeight():this.y+this.getHeight()<0&&!(t.y+this.getHeight()<0)&&(this.y=h)}isCollidingWith(t){return this.type.shape.isCollidingWith(i.default.from(this.x,this.y),t.type.shape,i.default.from(t.x,t.y))}render(t){t.save(),t.translate(this.x+.5*this.getWidth(),this.y+.5*z.getHeight()),t.rotate(i.rad(this.rotation)),t.translate(-.5*this.getWidth(),-.5*this.getHeight()),this.type.shape.render(t),t.restore()}getWidth(){return this.type.shape.getWidth()}getHeight(){return this.type.shape.getHeight()}getColor(){return this.type.shape.color}getMass(){return this.type.shape.mass}}class C extends D{constructor(t,e,s,r,h,o){super(t,e,s,r,h,o),this.type=e,this.onHit=(t=>{{console.log("Collision",this.id,t.id);let e=function(t,e){let s=i.default.from(e.x+.5*e.getWidth()-(t.x+.5*t.getWidth()),e.y+.5*e.getHeight()-(t.y+.5*t.getHeight())).normalize(),r=i.default.perpendicular(s),h=i.default.dotProduct(s,t.move.getVector()),o=i.default.dotProduct(r,t.move.getVector()),n=i.default.dotProduct(s,e.move.getVector()),a=i.default.dotProduct(r,e.move.getVector()),c=o,u=a,d=(h*(t.getMass()-e.getMass())+2*e.getMass()*n)/(t.getMass()+e.getMass()),l=(n*(e.getMass()-t.getMass())+2*t.getMass()*h)/(t.getMass()+e.getMass());return{a:i.default.fromOther(s).scale(d).add(i.default.fromOther(r).scale(c)),b:i.default.fromOther(s).scale(l).add(i.default.fromOther(r).scale(u))}}(this,t);console.log(this.moveVector,t.moveVector,e.a,e.b),this.moveVector=e.a,t.moveVector=e.b,this.move=new R(e.a),t.move=new R(e.b)}this.lives<1&&this.onDestroyed(p.LIVES)}),this.lives=e.lives}isAlive(){return this.lives>0}isInBounds(){return this.type.boundary.isInBounds(this.x,this.y,this.type.shape)}update(t,e=0,s=!1){if(super.update(t,e,s),this.type!==_.PLAYER)switch(Math.floor(Math.random()*this.type.shotFreq)){case 1:this.shoot()}}shoot(){let t=K,e=new N(t,this.type,this.type.shot,this.x+this.getWidth()/2,this.y+this.getHeight()/2,this.rotation,e=>{tt.delete(t)});return this.moveVector.add(i.default.construct(c,this.rotation).scale(-1)),this.speed=Math.min(u,this.speed+c),tt.set(t,e),K++,Y.PLAYER_SHOT.play(),e}}class N extends D{constructor(t,e,s,i,r,h,o){super(t,s,i,r,h,o),this.initiator=e,this.type=s}isCollidingWith(t){return super.isCollidingWith(t)&&this.initiator!==t.type}onHit(t){let e=t;this.initiator!=e.type&&(e.type.bounties.forEach(t=>{t(e,this,g.HIT)}),e.lives-=this.type.dmg,e.onHit(this),it(0),this.onDestroyed(p.COLLISION))}}class W extends D{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h)}onHit(t){}}var V=document.getElementById("canvas").getContext("2d"),U=document.createElement("canvas");U.width=r,U.height=h;var k=U.getContext("2d"),B=null,j={space:!1,left:!1,right:!1,up:!1,down:!1},q={space:!1,left:!1,right:!1,up:!1,down:!1},z=new class extends C{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e}update(t,e=0,s=!1){this.rotation=i.mod(this.rotation+e*o*t,360);let r=this.speed;this.speed=Math.max(0,this.speed-a*t/100);let h=r-this.speed,c=0;r=this.speed,s&&(this.speed=Math.min(u,this.speed+n*t/100),c=this.speed-r),this.moveVector=this.move.move(t,this.rotation,{curr:r,dec:h,acc:c},this.moveVector);let d=i.default.from(this.x,this.y);this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.warpToOtherSide(d)}}(0,_.PLAYER,0,0,0,()=>{st=!1,alert("Game over!")});z.x=r/2-z.getWidth()/2,z.y=h-z.getHeight();var F=0,X=document.getElementById("score_text"),J=document.getElementById("lives_text"),G=0,Z=0,K=0,Q=0,$=new Map,tt=new Map,et=new Map,st=!0;function it(t,e=0){F+=t,z.lives+=e,X.innerText=""+F,J.innerText=""+z.lives}window.addEventListener("keydown",function(t){switch(t.key){case" ":j.space=!0;break;case"ArrowUp":case"w":j.up=!0;break;case"ArrowLeft":case"a":j.left=!0;break;case"ArrowRight":case"d":j.right=!0}}),window.addEventListener("keyup",function(t){switch(t.key){case" ":j.space=!1;break;case"ArrowUp":case"w":j.up=!1;break;case"ArrowLeft":case"a":j.left=!1;break;case"ArrowRight":case"d":j.right=!1}}),window.requestAnimationFrame(function t(e){if(!st)return;B||(B=e);let s=e-B;B=e,function(t){if((G+=t)>d&&$.size<=f&&(G=0,Math.random()*l<1)){let t=Z,e=_.ASTEROID_M;switch(Math.floor(10*Math.random())){case 0:e=_.ASTEROID_L;break;case 1:e=_.ASTEROID_S}$.set(t,new C(t,e,Math.random()*(r-e.shape.getWidth()),-e.shape.getHeight(),360*Math.random(),function(e){e==p.LIVES&&this.type.bounties.forEach(t=>t(this,null,g.DESTROYED)),$.delete(t)})),Z++}}(s),function(){switch(Math.floor(100*Math.random())){case 1:let t=Q;et.set(t,new W(t,P.CLOUD,Math.random()*r,-P.CLOUD.shape.getHeight(),0,function(t){et.delete(this.id)})),Q++}}(),function(t){j.space&&!q.space&&z.shoot(),z.update(t,j.left?-1:j.right?1:0,j.up),$.forEach(e=>e.update(t)),tt.forEach(e=>e.update(t));let e=[];tt.forEach(t=>{e.push({a:t,b:z}),$.forEach(s=>{e.push({a:t,b:s})})});let s=[];$.forEach(t=>s.push(t));for(let t=0;t<s.length;t++){e.push({a:s[t],b:z});for(let i=t+1;i<s.length;i++)e.push({a:s[t],b:s[i]})}et.forEach(e=>e.update(t)),function(t){t.forEach(t=>{t.a.isCollidingWith(t.b)&&t.a.onHit(t.b)})}(e)}(s),k.clearRect(0,0,r,h),et.forEach(t=>t.render(k)),z.render(k),$.forEach(t=>t.render(k)),tt.forEach(t=>t.render(k)),q=JSON.parse(JSON.stringify(j)),V.clearRect(0,0,r,h),V.drawImage(U,0,0),window.requestAnimationFrame(t)})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this.x=t,this.y=e}static from(t,e){return new i(t,e)}static fromOther(t){return new i(t.x,t.y)}static zero(){return new i(0,0)}static construct(t,e){return new i(t*Math.cos(r(e)),t*Math.sin(r(e))).rotate(-90)}isZero(){return 0==this.x&&0==this.y}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}static add(t,e){return i.fromOther(t).add(e)}add(t){return this.x+=t.x,this.y+=t.y,this}static rotate(t,e){return i.fromOther(t).rotate(e)}rotate(t){let e=this.x;return this.x=this.x*Math.cos(r(t))-this.y*Math.sin(r(t)),this.y=e*Math.sin(r(t))+this.y*Math.cos(r(t)),this}static scale(t,e){return i.fromOther(t).scale(e)}scale(t){return this.x*=t,this.y*=t,this}static normalize(t){return i.fromOther(t).normalize()}normalize(){return 0===this.magnitude()?this:this.scale(1/this.magnitude())}static perpendicular(t){return i.fromOther(t).perpendicular()}perpendicular(){let t=this.x;return this.x=-this.y,this.y=t,this}static dotProduct(t,e){return t.x*e.x+t.y*e.y}dotProduct(t){return i.dotProduct(this,t)}}function r(t){return t*(Math.PI/180)}e.default=i,e.mod=function(t,e){return(t%e+e)%e},e.rad=r,e.clamp=function(t,e,s){return Math.min(Math.max(t,e),s)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzdGVyb2lkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidmVjdG9yXzEiLCJXSURUSCIsIkhFSUdIVCIsIlJPVEFUSU9OX1NQRUVEIiwiQUNDX1NQRUVEIiwiREVDRUxFUkFUSU9OX1NQRUVEIiwiS05PQ0tfQkFDSyIsIk1BWF9TUEVFRCIsIkVORU1ZX1NQQVdOX1JBVEUiLCJFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSIsIkVORU1ZX0xJTUlUIiwiRGVhdGhDYXVzZUVudW0iLCJIaXRUeXBlRW51bSIsIlJvbGUiLCJCb3VuZGFyeSIsIltvYmplY3QgT2JqZWN0XSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ0aGlzIiwieCIsInkiLCJzaGFwZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiTm9Cb3VuZGFyeSIsInN1cGVyIiwiU2hhcGUiLCJjb2xvciIsIm1hc3MiLCJwb3MiLCJvdGhlciIsIm90aGVyUG9zIiwiUmVjdGFuZ2xlIiwiaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlIiwiQ2lyY2xlIiwiaXNDb2xsaWRpbmdXaXRoQ2lyY2xlIiwiRXJyb3IiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJhZGl1cyIsInN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsImJlZ2luUGF0aCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJjbG9zZXN0WCIsImNsYW1wIiwiY2xvc2VzdFkiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJwb3ciLCJHYW1lT2JqZWN0VHlwZSIsImJvdW5kYXJ5IiwibW92ZSIsIlVuaXRUeXBlIiwicm9sZSIsImxpdmVzIiwic2hvdEZyZXEiLCJzaG90IiwiYm91bnRpZXMiLCJTaG90VHlwZSIsImRtZyIsIk1vdmUiLCJlbGFwc2VkVGltZSIsInJvdGF0aW9uIiwic3BlZWQiLCJtb3ZlVmVjdG9yIiwiQ29uc3RhbnRNb3ZlIiwidmVjdG9yIiwiZGVmYXVsdCIsImZyb20iLCJmcm9tT3RoZXIiLCJyb3RhdGUiLCJEeW5hbWljTW92ZSIsImRlY1NwZWVkIiwibGFzdFZlY3RvciIsInplcm8iLCJzY2FsZSIsImRlYyIsImN1cnIiLCJhY2MiLCJhZGQiLCJjb25zdHJ1Y3QiLCJTaGFwZUVudW0iLCJQTEFZRVIiLCJjaGFyIiwiY2hhckF0IiwicmVuZGVyIiwiZm9udCIsInR4dFdpZHRoIiwibWVhc3VyZVRleHQiLCJmaWxsVGV4dCIsIkFTVEVST0lEX1MiLCJBU1RFUk9JRF9NIiwiQVNURVJPSURfTCIsIlNIT1QiLCJDTE9VRCIsIkJvdW5kYXJ5RW51bSIsIk5PTkUiLCJNb3ZlVHlwZUVudW0iLCJFTkVNWV9TSU1QTEUiLCJQTEFZRVJfU0hPVCIsIkVORU1ZX1NIT1QiLCJTaG90VHlwZUVudW0iLCJFTkVNWSIsIlVuaXRUeXBlRW51bSIsIkVudmlyb25tZW50VHlwZUVudW0iLCJBdWRpb1Bvb2xFbnVtIiwidXJsIiwiY291bnQiLCJxIiwicHVzaCIsIkF1ZGlvIiwiYXVkaW8iLCJwb3AiLCJsb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXkiLCJjb25zb2xlIiwibG9nIiwiR2FtZU9iamVjdCIsImlkIiwidHlwZSIsInJvdCIsIm9uRGVzdHJveWVkIiwiY29weSIsInNldFJvdGF0aW9uIiwibW92ZW1lbnQiLCJvbGQiLCJpc0luQm91bmRzIiwid2FycFRvT3RoZXJTaWRlIiwiT1VUX09GX0JPVU5EUyIsImlzQ29sbGlkaW5nV2l0aCIsInNhdmUiLCJ0cmFuc2xhdGUiLCJwbGF5ZXIiLCJyYWQiLCJyZXN0b3JlIiwiVW5pdCIsIm9uSGl0IiwiY29sbGlzaW9uIiwiYSIsImIiLCJ1biIsIm5vcm1hbGl6ZSIsInV0IiwicGVycGVuZGljdWxhciIsInYxbiIsImRvdFByb2R1Y3QiLCJnZXRWZWN0b3IiLCJ2MXQiLCJ2Mm4iLCJ2MnQiLCJ2XzF0Iiwidl8ydCIsInZfMW4iLCJnZXRNYXNzIiwidl8ybiIsImNvbGxpZGUiLCJMSVZFUyIsInVwZGF0ZSIsImZsb29yIiwicmFuZG9tIiwic2hvb3QiLCJzaG90SWRDb3VudGVyIiwiU2hvdCIsImNhdXNlIiwic2hvdHMiLCJkZWxldGUiLCJtaW4iLCJzZXQiLCJpbml0aWF0b3IiLCJmb3JFYWNoIiwiYm91bnR5IiwiSElUIiwidXBkYXRlU3RhdHVzIiwiQ09MTElTSU9OIiwiRW52aXJvbm1lbnQiLCJmcm9udENvbnRleHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImJhY2tDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiYmFja0NvbnRleHQiLCJzdGFydCIsImN1cnJlbnRJbnB1dCIsInNwYWNlIiwibGVmdCIsInJpZ2h0IiwidXAiLCJkb3duIiwicHJpb3JJbnB1dCIsIm1vZCIsIm9sZFNwZWVkIiwibWF4IiwiYWNjU3BlZWQiLCJydW5uaW5nIiwiYWxlcnQiLCJzY29yZSIsInNjb3JlRWxlbWVudCIsImxpdmVzRWxlbWVudCIsImVuZW15VGltZVRvU3Bhd24iLCJlbmVteUlkQ291bnRlciIsImVudmlyb25tZW50SWRDb3VudGVyIiwiZW5lbWllcyIsIk1hcCIsImVudmlyb25tZW50cyIsInNjb3JlRGVsdGEiLCJoZWFsdGhEZWx0YSIsImlubmVyVGV4dCIsIndpbmRvdyIsImV2ZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsInRpbWVzdGFtcCIsInNpemUiLCJERVNUUk9ZRUQiLCJjcmVhdGVFbmVteSIsImNyZWF0ZUVudmlyb25tZW50IiwiY29sbGlzaW9uUGFpcnMiLCJlbmVteSIsImVuZW15TGlzdCIsImxlbmd0aCIsImoiLCJwYWlycyIsImNoZWNrQ29sbGlzaW9ucyIsImNsZWFyUmVjdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImRyYXdJbWFnZSIsIlZlY3RvciIsIm1hZ25pdHVkZSIsImFuZ2xlIiwiY29zIiwic2luIiwic3FydCIsIm9sZFgiLCJzY2FsYXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0Es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K0gsRUFBRTlILEVBQUkrSCxFQUFFL0gsRUFHeEJQLFdBQVdpQixHQUNkLE9BQU8rTSxFQUFPcEYsV0FBV3ZJLEtBQU1ZLElBU3ZDLFNBQWdCK0csRUFBSXRKLEdBQ2hCLE9BQU9BLEdBQUt3RCxLQUFLQyxHQUFLLEtBN0YxQnBGLEVBQUE4RyxRQUFBbUssRUF3RkFqUixFQUFBME8sSUFBQSxTQUFvQi9NLEVBQVdyQixHQUMzQixPQUFTcUIsRUFBSXJCLEVBQUtBLEdBQUtBLEdBRzNCTixFQUFBaUwsTUFJQWpMLEVBQUF1RixNQUFBLFNBQXNCNUQsRUFBV3VMLEVBQWEwQixHQUMxQyxPQUFPekosS0FBSytILElBQUkvSCxLQUFLeUosSUFBSWpOLEVBQUd1TCxHQUFNMEIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IFZlY3Rvciwge2NsYW1wLCBtb2QsIHJhZH0gZnJvbSBcIi4vdmVjdG9yXCI7XHJcblxyXG5jb25zdCBXSURUSCA9IDgwMDtcclxuY29uc3QgSEVJR0hUID0gNjAwO1xyXG5jb25zdCBST1RBVElPTl9TUEVFRCA9IDAuMjtcclxuY29uc3QgQUNDX1NQRUVEID0gMTtcclxuY29uc3QgREVDRUxFUkFUSU9OX1NQRUVEID0gMC40O1xyXG5jb25zdCBLTk9DS19CQUNLID0gMC42NTtcclxuY29uc3QgTUFYX1NQRUVEID0gODtcclxuY29uc3QgRU5FTVlfUkFESVVTID0gMjA7XHJcbmNvbnN0IEVORU1ZX1NQQVdOX1JBVEUgPSAxMDAwO1xyXG5jb25zdCBFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSA9IDM7XHJcbmNvbnN0IEVORU1ZX0xJTUlUID0gMTA7XHJcblxyXG4vL3JlZ2lvbiBHYW1lT2JqZWN0IHBhcnRzXHJcbnR5cGUgQm91bnR5Q2FsbGJhY2sgPSAoZW5lbXk6IFVuaXQsIHNob3Q6IFNob3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiBhbnk7XHJcbnR5cGUgU3BlZWRTdHJ1Y3QgPSB7IGN1cnI6IG51bWJlciwgZGVjOiBudW1iZXIsIGFjYzogbnVtYmVyIH1cclxudHlwZSBFbmRwb2ludCA9IHsgdmFsdWU6IG51bWJlciwgaXNNYXg6IGJvb2xlYW4sIG9iamVjdDogR2FtZU9iamVjdCB9XHJcbnR5cGUgQ29sbGlzaW9uUGFpciA9IHsgYTogR2FtZU9iamVjdCwgYjogVW5pdCB9XHJcbnR5cGUgQ29sbGlzaW9uUmVzdWx0ID0geyBhOiBWZWN0b3IsIGI6IFZlY3RvciB9XHJcblxyXG5lbnVtIERlYXRoQ2F1c2VFbnVtIHtcclxuICAgIE9VVF9PRl9CT1VORFMsXHJcbiAgICBMSVZFUyxcclxuICAgIENPTExJU0lPTlxyXG59XHJcblxyXG5lbnVtIEhpdFR5cGVFbnVtIHtcclxuICAgIEhJVCxcclxuICAgIERFU1RST1lFRFxyXG59XHJcblxyXG5lbnVtIFJvbGUge1xyXG4gICAgUExBWUVSLFxyXG4gICAgRU5FTVlcclxufVxyXG5cclxuY2xhc3MgQm91bmRhcnkge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG1pblg6IG51bWJlciwgcHVibGljIG1pblk6IG51bWJlciwgcHVibGljIG1heFg6IG51bWJlciwgcHVibGljIG1heFk6IG51bWJlcikge1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHNoYXBlOiBTaGFwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB4ID49IHRoaXMubWluWCAmJiB5ID49IHRoaXMubWluWSAmJiAoeCArIHNoYXBlLmdldFdpZHRoKCkpIDw9IHRoaXMubWF4WCAmJiAoeSArIHNoYXBlLmdldEhlaWdodCgpKSA8PSB0aGlzLm1heFk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE5vQm91bmRhcnkgZXh0ZW5kcyBCb3VuZGFyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLCAwLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0luQm91bmRzKHg6IG51bWJlciwgeTogbnVtYmVyLCBzaGFwZTogU2hhcGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgU2hhcGUge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBjb2xvcjogc3RyaW5nLCBwdWJsaWMgbWFzczogbnVtYmVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFdpZHRoKCk6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SGVpZ2h0KCk6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVuZGVyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShwb3M6IFZlY3Rvciwgb3RoZXI6IFJlY3RhbmdsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGlzQ29sbGlkaW5nV2l0aENpcmNsZShwb3M6IFZlY3Rvciwgb3RoZXI6IENpcmNsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGlkaW5nV2l0aChwb3M6IFZlY3Rvciwgb3RoZXI6IFNoYXBlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShwb3MsIG90aGVyLCBvdGhlclBvcyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvdGhlciBpbnN0YW5jZW9mIENpcmNsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0NvbGxpZGluZ1dpdGhDaXJjbGUocG9zLCBvdGhlciwgb3RoZXJQb3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gc2hhcGUgdHlwZTogXCIgKyBvdGhlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNsYXNzIFJlY3RhbmdsZSBleHRlbmRzIFNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIG1hc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGNvbG9yLCBtYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHRcclxuICAgIH1cclxuXHJcbiAgICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyLmlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShvdGhlclBvcywgdGhpcywgcG9zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKHBvczogVmVjdG9yLCBvdGhlcjogUmVjdGFuZ2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHBvcy54IDwgb3RoZXJQb3MueCArIG90aGVyLmdldFdpZHRoKCkgJiZcclxuICAgICAgICAgICAgcG9zLnggKyB0aGlzLmdldFdpZHRoKCkgPiBvdGhlclBvcy54ICYmXHJcbiAgICAgICAgICAgIHBvcy55IDwgb3RoZXJQb3MueSArIG90aGVyLmdldEhlaWdodCgpICYmXHJcbiAgICAgICAgICAgIHBvcy55ICsgdGhpcy5nZXRIZWlnaHQoKSA+IG90aGVyUG9zLnk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENoYXJSZWN0YW5nbGUgZXh0ZW5kcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIG1hc3M6IG51bWJlciwgcHJpdmF0ZSByZWFkb25seSBjaGFyOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0LCBjb2xvciwgbWFzcyk7XHJcbiAgICAgICAgdGhpcy5jaGFyID0gdGhpcy5jaGFyLmNoYXJBdCgwKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQpO1xyXG4gICAgICAgIGNvbnRleHQuZm9udCA9IFwiMjBweCBBcmlhbFwiO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgbGV0IHR4dFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLmNoYXIpLndpZHRoO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5jaGFyLCAwLjUgKiB0aGlzLndpZHRoIC0gMC41ICogdHh0V2lkdGgsIDAuNSAqIHRoaXMuaGVpZ2h0ICsgMC41ICogMjApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBTaGFwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmFkaXVzOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIG1hc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGNvbG9yLCBtYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMiAqIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDIgKiB0aGlzLnJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNmZmZcIjtcclxuICAgICAgICBjb250ZXh0LnN0cm9rZVJlY3QoMCwgMCwgMiAqIHRoaXMucmFkaXVzLCAyICogdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5hcmModGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGluZ1dpdGhSZWN0YW5nbGUocG9zOiBWZWN0b3IsIG90aGVyOiBSZWN0YW5nbGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgY2xvc2VzdFggPSBjbGFtcChwb3MueCwgb3RoZXJQb3MueCwgb3RoZXJQb3MueCArIG90aGVyLmdldFdpZHRoKCkpO1xyXG4gICAgICAgIGxldCBjbG9zZXN0WSA9IGNsYW1wKHBvcy55LCBvdGhlclBvcy55LCBvdGhlclBvcy55ICsgb3RoZXIuZ2V0SGVpZ2h0KCkpO1xyXG5cclxuICAgICAgICBsZXQgZGlzdGFuY2VYID0gcG9zLnggLSBjbG9zZXN0WDtcclxuICAgICAgICBsZXQgZGlzdGFuY2VZID0gcG9zLnkgLSBjbG9zZXN0WTtcclxuXHJcbiAgICAgICAgbGV0IGRpc3RhbmNlU3F1YXJlZCA9IChkaXN0YW5jZVggKiBkaXN0YW5jZVgpICsgKGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlU3F1YXJlZCA8ICh0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KChvdGhlclBvcy54ICsgMC41ICogb3RoZXIuZ2V0V2lkdGgoKSkgLSAocG9zLnggKyAwLjUgKiB0aGlzLmdldFdpZHRoKCkpLCAyKVxyXG4gICAgICAgICAgICArIE1hdGgucG93KChwb3MueSArIDAuNSAqIHRoaXMuZ2V0SGVpZ2h0KCkpIC0gKG90aGVyUG9zLnkgKyAwLjUgKiBvdGhlci5nZXRIZWlnaHQoKSksIDIpXHJcbiAgICAgICAgICAgIDwgTWF0aC5wb3codGhpcy5yYWRpdXMgKyBvdGhlci5yYWRpdXMsIDIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHVibGljIHNoYXBlOiBTaGFwZSwgcHVibGljIGJvdW5kYXJ5OiBCb3VuZGFyeSwgcHVibGljIG1vdmU6IE1vdmUpIHtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFVuaXRUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHJvbGU6IFJvbGUsIHB1YmxpYyBsaXZlczogbnVtYmVyLCBwdWJsaWMgc2hvdEZyZXE6IG51bWJlciwgc2hhcGU6IFNoYXBlLCBib3VuZGFyeTogQm91bmRhcnksIG1vdmU6IE1vdmUsIHB1YmxpYyBzaG90OiBTaG90VHlwZSwgcHVibGljIGJvdW50aWVzOiBCb3VudHlDYWxsYmFja1tdKSB7XHJcbiAgICAgICAgc3VwZXIoc2hhcGUsIGJvdW5kYXJ5LCBtb3ZlKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuY2xhc3MgU2hvdFR5cGUgZXh0ZW5kcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZG1nOiBudW1iZXIsIHNoYXBlOiBTaGFwZSwgYm91bmRhcnk6IEJvdW5kYXJ5LCBtb3ZlOiBNb3ZlKSB7XHJcbiAgICAgICAgc3VwZXIoc2hhcGUsIGJvdW5kYXJ5LCBtb3ZlKVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBFbnZpcm9ubWVudFR5cGUgZXh0ZW5kcyBHYW1lT2JqZWN0VHlwZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaGFwZTogU2hhcGUsIGJvdW5kYXJ5OiBCb3VuZGFyeSwgbW92ZTogTW92ZSkge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgTW92ZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgc3BlZWQ6IFNwZWVkU3RydWN0ID0gbnVsbCwgbW92ZVZlY3RvcjogVmVjdG9yID0gbnVsbCk6IFZlY3RvciB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudGVkIVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBjb3B5KCk6IE1vdmU7XHJcblxyXG4gICAgYWJzdHJhY3Qgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IE1vdmU7XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0VmVjdG9yKCk6IFZlY3RvcjtcclxufVxyXG5cclxuY2xhc3MgQ29uc3RhbnRNb3ZlIGV4dGVuZHMgTW92ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdmVjdG9yOiBWZWN0b3IpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIHNwZWVkOiBTcGVlZFN0cnVjdCA9IG51bGwsIG1vdmVWZWN0b3I6IFZlY3RvciA9IG51bGwpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbSh0aGlzLnZlY3Rvci54ICogZWxhcHNlZFRpbWUsIHRoaXMudmVjdG9yLnkgKiBlbGFwc2VkVGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvcHkoKTogTW92ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb21PdGhlcih0aGlzLnZlY3RvcikpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IE1vdmUge1xyXG4gICAgICAgIHRoaXMudmVjdG9yLnJvdGF0ZShyb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFZlY3RvcigpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY3RvcjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRHluYW1pY01vdmUgZXh0ZW5kcyBNb3ZlIHtcclxuICAgIHByaXZhdGUgbGFzdFZlY3RvcjogVmVjdG9yID0gVmVjdG9yLnplcm8oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRlY1NwZWVkOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciwgc3BlZWQ6IFNwZWVkU3RydWN0LCBtb3ZlVmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIGxldCB2ZWN0b3IgPSBWZWN0b3IuZnJvbU90aGVyKG1vdmVWZWN0b3IpO1xyXG4gICAgICAgIHZlY3Rvci5zY2FsZShzcGVlZC5kZWMgPT09IDAgPyAxIDogc3BlZWQuY3VyciAvIChzcGVlZC5jdXJyICsgc3BlZWQuZGVjKSk7XHJcbiAgICAgICAgaWYgKHNwZWVkLmFjYyA+IDApIHtcclxuICAgICAgICAgICAgdmVjdG9yLmFkZChWZWN0b3IuY29uc3RydWN0KHNwZWVkLmFjYywgcm90YXRpb24pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0VmVjdG9yID0gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLnNjYWxlKDEgLyBlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgcmV0dXJuIHZlY3RvcjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29weSgpOiBNb3ZlIHtcclxuICAgICAgICByZXR1cm4gbmV3IER5bmFtaWNNb3ZlKHRoaXMuZGVjU3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJvdGF0aW9uKHJvdGF0aW9uOiBudW1iZXIpOiBNb3ZlIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0VmVjdG9yKCk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdFZlY3RvcjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQXVkaW9Qb29sIHtcclxuICAgIHByaXZhdGUgcTogSFRNTEF1ZGlvRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB1cmw6IHN0cmluZywgY291bnQ6IG51bWJlcikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnEucHVzaChuZXcgQXVkaW8odXJsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGxldCBhdWRpbyA9IHRoaXMucS5wb3AoKTtcclxuICAgICAgICBpZiAoIWF1ZGlvKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gUG9vbCBpcyBub3QgYmlnIGVub3VnaCFcIiwgdGhpcy51cmwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF1ZGlvLmxvYWQoKTtcclxuICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnEucHVzaChhdWRpbyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBTaGFwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBDaGFyUmVjdGFuZ2xlKDIwLCAzNSwgXCIjNmE3ZmVkXCIsIDEwLCBcIkFcIiksXHJcbiAgICBBU1RFUk9JRF9TOiBuZXcgQ2lyY2xlKEVORU1ZX1JBRElVUywgXCIjZmYyNzY2XCIsIDEwKSxcclxuICAgIEFTVEVST0lEX006IG5ldyBDaXJjbGUoMiAqIEVORU1ZX1JBRElVUywgXCIjYmIyYzViXCIsIDIwKSxcclxuICAgIEFTVEVST0lEX0w6IG5ldyBDaXJjbGUoNCAqIEVORU1ZX1JBRElVUywgXCIjYTMxNjNlXCIsIDMwKSxcclxuICAgIFNIT1Q6IG5ldyBSZWN0YW5nbGUoNSwgNSwgXCIjZmZmZmZmXCIsIDApLFxyXG4gICAgQ0xPVUQ6IG5ldyBSZWN0YW5nbGUoMTUwLCAxNTAsIFwiIzBhMWUzYVwiLCAwKVxyXG59O1xyXG5cclxuY29uc3QgQm91bmRhcnlFbnVtID0ge1xyXG4gICAgTk9ORTogbmV3IE5vQm91bmRhcnkoKSxcclxuICAgIFNIT1Q6IG5ldyBCb3VuZGFyeSgwLCAwLCBXSURUSCwgSEVJR0hUKSxcclxuICAgIENMT1VEOiBuZXcgQm91bmRhcnkoLVNoYXBlRW51bS5DTE9VRC53aWR0aCwgLVNoYXBlRW51bS5DTE9VRC5oZWlnaHQsIFdJRFRIICsgU2hhcGVFbnVtLkNMT1VELndpZHRoLCBIRUlHSFQgKyBTaGFwZUVudW0uQ0xPVUQuaGVpZ2h0KVxyXG59O1xyXG5cclxuY29uc3QgQm91bnR5RW51bSA9IHtcclxuICAgIFNDT1JFX1NUOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoMTApO1xyXG4gICAgfSxcclxuICAgIEhFQUxUSF9TVDogKGVuZW15OiBVbml0LCBzaG90OiBHYW1lT2JqZWN0LCB0eXBlOiBIaXRUeXBlRW51bSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09IEhpdFR5cGVFbnVtLkRFU1RST1lFRClcclxuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKDAsIDEpO1xyXG4gICAgfSxcclxuICAgIFNDT1JFX0ZBU1Q6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ISVQpXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygyMCk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoNTApO1xyXG4gICAgfSxcclxuICAgIFNDT1JFXzMwOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICB1cGRhdGVTdGF0dXMoMzApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgTW92ZVR5cGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgRHluYW1pY01vdmUoREVDRUxFUkFUSU9OX1NQRUVEKSxcclxuICAgIEVORU1ZX1NJTVBMRTogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjEpKSxcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tKDAsIC0wLjUpKSxcclxuICAgIEVORU1ZX1NIT1Q6IG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb20oMCwgMC40KSksXHJcbiAgICBDTE9VRDogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjA1KSlcclxufTtcclxuXHJcbmNvbnN0IFNob3RUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFNob3RUeXBlKDEsIFNoYXBlRW51bS5TSE9ULCBCb3VuZGFyeUVudW0uU0hPVCwgTW92ZVR5cGVFbnVtLlBMQVlFUl9TSE9UKSxcclxuICAgIEVORU1ZOiBuZXcgU2hvdFR5cGUoMSwgU2hhcGVFbnVtLlNIT1QsIEJvdW5kYXJ5RW51bS5TSE9ULCBNb3ZlVHlwZUVudW0uRU5FTVlfU0hPVClcclxufTtcclxuXHJcbmNvbnN0IFVuaXRUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFVuaXRUeXBlKFJvbGUuUExBWUVSLCAzLCAwLCBTaGFwZUVudW0uUExBWUVSLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLlBMQVlFUiwgU2hvdFR5cGVFbnVtLlBMQVlFUiwgW10pLFxyXG4gICAgQVNURVJPSURfUzogbmV3IFVuaXRUeXBlKFJvbGUuRU5FTVksIDEsIDAsIFNoYXBlRW51bS5BU1RFUk9JRF9TLCBCb3VuZGFyeUVudW0uTk9ORSwgTW92ZVR5cGVFbnVtLkVORU1ZX1NJTVBMRSwgU2hvdFR5cGVFbnVtLkVORU1ZLCBbXSksXHJcbiAgICBBU1RFUk9JRF9NOiBuZXcgVW5pdFR5cGUoUm9sZS5FTkVNWSwgMSwgMCwgU2hhcGVFbnVtLkFTVEVST0lEX00sIEJvdW5kYXJ5RW51bS5OT05FLCBNb3ZlVHlwZUVudW0uRU5FTVlfU0lNUExFLCBTaG90VHlwZUVudW0uRU5FTVksIFtdKSxcclxuICAgIEFTVEVST0lEX0w6IG5ldyBVbml0VHlwZShSb2xlLkVORU1ZLCAxLCAwLCBTaGFwZUVudW0uQVNURVJPSURfTCwgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5FTkVNWV9TSU1QTEUsIFNob3RUeXBlRW51bS5FTkVNWSwgW10pLFxyXG59O1xyXG5cclxuY29uc3QgRW52aXJvbm1lbnRUeXBlRW51bSA9IHtcclxuICAgIENMT1VEOiBuZXcgRW52aXJvbm1lbnRUeXBlKFNoYXBlRW51bS5DTE9VRCwgQm91bmRhcnlFbnVtLkNMT1VELCBNb3ZlVHlwZUVudW0uQ0xPVUQpXHJcbn07XHJcblxyXG5jb25zdCBBdWRpb1Bvb2xFbnVtID0ge1xyXG4gICAgUExBWUVSX1NIT1Q6IG5ldyBBdWRpb1Bvb2woXCJhdWRpby9wbGF5ZXJfc2hvdC53YXZcIiwgNSksXHJcbn07XHJcblxyXG4vL2VuZHJlZ2lvblxyXG5cclxuLy9yZWdpb24gR2FtZU9iamVjdHNcclxudHlwZSBIaXRDYWxsYmFjayA9IChvdGhlcjogR2FtZU9iamVjdCkgPT4gYW55O1xyXG50eXBlIERlc3Ryb3llZENhbGxiYWNrID0gKGNhdXNlOiBEZWF0aENhdXNlRW51bSkgPT4gYW55O1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgR2FtZU9iamVjdCB7XHJcbiAgICBwdWJsaWMgcm90YXRpb246IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbW92ZTogTW92ZSA9IG51bGw7XHJcbiAgICBwdWJsaWMgbW92ZVZlY3RvcjogVmVjdG9yID0gVmVjdG9yLnplcm8oKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3BlZWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogR2FtZU9iamVjdFR5cGUsIHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyByb3Q6IG51bWJlciwgcHVibGljIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMubW92ZSA9IHR5cGUubW92ZS5jb3B5KCkuc2V0Um90YXRpb24ocm90KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IgPSB0aGlzLm1vdmUubW92ZShlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgbGV0IG9sZCA9IFZlY3Rvci5mcm9tKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54ICsgdGhpcy5tb3ZlVmVjdG9yLngsIHRoaXMueSArIHRoaXMubW92ZVZlY3Rvci55LCB0aGlzLnR5cGUuc2hhcGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmVWZWN0b3IueDtcclxuICAgICAgICAgICAgdGhpcy55ICs9IHRoaXMubW92ZVZlY3Rvci55O1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5IGluc3RhbmNlb2YgTm9Cb3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YXJwVG9PdGhlclNpZGUob2xkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlICE9IFVuaXRUeXBlRW51bS5QTEFZRVIpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3llZChEZWF0aENhdXNlRW51bS5PVVRfT0ZfQk9VTkRTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHdhcnBUb090aGVyU2lkZShvbGQ6IFZlY3Rvcikge1xyXG4gICAgICAgIGlmICh0aGlzLnggPiBXSURUSCAmJiAhKG9sZC54ID4gV0lEVEgpKVxyXG4gICAgICAgICAgICB0aGlzLnggPSAtdGhpcy5nZXRXaWR0aCgpO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSA8IDAgJiYgIShvbGQueCArIHRoaXMuZ2V0V2lkdGgoKSA8IDApKVxyXG4gICAgICAgICAgICB0aGlzLnggPSBXSURUSDtcclxuICAgICAgICBpZiAodGhpcy55ID4gSEVJR0hUICYmICEob2xkLnkgPiBIRUlHSFQpKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSAtdGhpcy5nZXRIZWlnaHQoKTtcclxuICAgICAgICBlbHNlIGlmICh0aGlzLnkgKyB0aGlzLmdldEhlaWdodCgpIDwgMCAmJiAhKG9sZC55ICsgdGhpcy5nZXRIZWlnaHQoKSA8IDApKVxyXG4gICAgICAgICAgICB0aGlzLnkgPSBIRUlHSFQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5pc0NvbGxpZGluZ1dpdGgoVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpLCBvdGhlci50eXBlLnNoYXBlLCBWZWN0b3IuZnJvbShvdGhlci54LCBvdGhlci55KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnggKyAwLjUgKiB0aGlzLmdldFdpZHRoKCksIHRoaXMueSArIDAuNSAqIHBsYXllci5nZXRIZWlnaHQoKSk7XHJcbiAgICAgICAgY29udGV4dC5yb3RhdGUocmFkKHRoaXMucm90YXRpb24pKTtcclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtMC41ICogdGhpcy5nZXRXaWR0aCgpLCAtMC41ICogdGhpcy5nZXRIZWlnaHQoKSk7XHJcbiAgICAgICAgdGhpcy50eXBlLnNoYXBlLnJlbmRlcihjb250ZXh0KTtcclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgb25IaXQob3RoZXI6IEdhbWVPYmplY3QpO1xyXG5cclxuICAgIC8vcmVnaW9uIEhlbHBlciBNZXRob2RzXHJcbiAgICBwdWJsaWMgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnNoYXBlLmdldFdpZHRoKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5nZXRIZWlnaHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29sb3IoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnNoYXBlLmNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNYXNzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5zaGFwZS5tYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZW5kcmVnaW9uXHJcbn1cclxuXHJcbmNsYXNzIFVuaXQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuXHJcbiAgICBwdWJsaWMgb25IaXQ6IEhpdENhbGxiYWNrID0gb3RoZXIgPT4ge1xyXG4gICAgICAgIGlmICgvKnRoaXMudHlwZS5yb2xlID09IFJvbGUuRU5FTVkgJiYgb3RoZXIgaW5zdGFuY2VvZiBVbml0ICYmIG90aGVyLnR5cGUucm9sZSA9PSBSb2xlLkVORU1ZKi90cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGlzaW9uXCIsIHRoaXMuaWQsIG90aGVyLmlkKTtcclxuICAgICAgICAgICAgbGV0IGNvbGxpc2lvbiA9IGNvbGxpZGUodGhpcywgb3RoZXIgYXMgVW5pdCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubW92ZVZlY3Rvciwgb3RoZXIubW92ZVZlY3RvciwgY29sbGlzaW9uLmEsIGNvbGxpc2lvbi5iKTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVmVjdG9yID0gY29sbGlzaW9uLmE7XHJcbiAgICAgICAgICAgIG90aGVyLm1vdmVWZWN0b3IgPSBjb2xsaXNpb24uYjtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlID0gbmV3IENvbnN0YW50TW92ZShjb2xsaXNpb24uYSk7XHJcbiAgICAgICAgICAgIG90aGVyLm1vdmUgPSBuZXcgQ29uc3RhbnRNb3ZlKGNvbGxpc2lvbi5iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGl2ZXMgPCAxKVxyXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveWVkKERlYXRoQ2F1c2VFbnVtLkxJVkVTKTtcclxuICAgIH07XHJcbiAgICBwdWJsaWMgbGl2ZXM6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgICAgIHRoaXMubGl2ZXMgPSB0eXBlLmxpdmVzO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWxpdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGl2ZXMgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5ib3VuZGFyeS5pc0luQm91bmRzKHRoaXMueCwgdGhpcy55LCB0aGlzLnR5cGUuc2hhcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgbW92ZW1lbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZShlbGFwc2VkVGltZSwgcm90YXRpb24sIG1vdmVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBVbml0VHlwZUVudW0uUExBWUVSKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnR5cGUuc2hvdEZyZXEpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvb3QoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdCgpOiBTaG90IHtcclxuICAgICAgICBsZXQgaWQgPSBzaG90SWRDb3VudGVyO1xyXG4gICAgICAgIGxldCBzaG90ID0gbmV3IFNob3QoaWQsIHRoaXMudHlwZSwgdGhpcy50eXBlLnNob3QsIHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSAvIDIsIHRoaXMueSArIHRoaXMuZ2V0SGVpZ2h0KCkgLyAyLCB0aGlzLnJvdGF0aW9uLCAoY2F1c2U6IERlYXRoQ2F1c2VFbnVtKSA9PiB7XHJcbiAgICAgICAgICAgIHNob3RzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3ZlVmVjdG9yLmFkZChWZWN0b3IuY29uc3RydWN0KEtOT0NLX0JBQ0ssIHRoaXMucm90YXRpb24pLnNjYWxlKC0xKSk7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKE1BWF9TUEVFRCwgdGhpcy5zcGVlZCArIChLTk9DS19CQUNLKSk7XHJcbiAgICAgICAgc2hvdHMuc2V0KGlkLCBzaG90KTtcclxuICAgICAgICBzaG90SWRDb3VudGVyKys7XHJcbiAgICAgICAgQXVkaW9Qb29sRW51bS5QTEFZRVJfU0hPVC5wbGF5KCk7XHJcbiAgICAgICAgcmV0dXJuIHNob3Q7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBsYXllciBleHRlbmRzIFVuaXQge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcHVibGljIHR5cGU6IFVuaXRUeXBlLCB4OiBudW1iZXIsIHk6IG51bWJlciwgcm90OiBudW1iZXIsIG9uRGVzdHJveWVkOiBEZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCB4LCB5LCByb3QsIG9uRGVzdHJveWVkKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbW9kKHRoaXMucm90YXRpb24gKyByb3RhdGlvbiAqIFJPVEFUSU9OX1NQRUVEICogZWxhcHNlZFRpbWUsIDM2MCk7XHJcbiAgICAgICAgbGV0IG9sZFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgoMCwgdGhpcy5zcGVlZCAtIChERUNFTEVSQVRJT05fU1BFRUQgKiBlbGFwc2VkVGltZSAvIDEwMCkpO1xyXG4gICAgICAgIGxldCBkZWNTcGVlZCA9IG9sZFNwZWVkIC0gdGhpcy5zcGVlZDtcclxuICAgICAgICBsZXQgYWNjU3BlZWQgPSAwO1xyXG4gICAgICAgIG9sZFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgICAgICBpZiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKE1BWF9TUEVFRCwgdGhpcy5zcGVlZCArIChBQ0NfU1BFRUQgKiBlbGFwc2VkVGltZSAvIDEwMCkpO1xyXG4gICAgICAgICAgICBhY2NTcGVlZCA9IHRoaXMuc3BlZWQgLSBvbGRTcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb3ZlVmVjdG9yID0gdGhpcy5tb3ZlLm1vdmUoZWxhcHNlZFRpbWUsIHRoaXMucm90YXRpb24sIHtcclxuICAgICAgICAgICAgY3Vycjogb2xkU3BlZWQsXHJcbiAgICAgICAgICAgIGRlYzogZGVjU3BlZWQsXHJcbiAgICAgICAgICAgIGFjYzogYWNjU3BlZWRcclxuICAgICAgICB9LCB0aGlzLm1vdmVWZWN0b3IpO1xyXG5cclxuICAgICAgICBsZXQgb2xkID0gVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmVWZWN0b3IueDtcclxuICAgICAgICB0aGlzLnkgKz0gdGhpcy5tb3ZlVmVjdG9yLnk7XHJcbiAgICAgICAgdGhpcy53YXJwVG9PdGhlclNpZGUob2xkKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2hvdCBleHRlbmRzIEdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcHVibGljIGluaXRpYXRvcjogVW5pdFR5cGUsIHB1YmxpYyB0eXBlOiBTaG90VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzQ29sbGlkaW5nV2l0aChvdGhlcikgJiYgdGhpcy5pbml0aWF0b3IgIT09IG90aGVyLnR5cGU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICAgICAgbGV0IG8gPSBvdGhlciBhcyBVbml0O1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRvciA9PSBvLnR5cGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBvLnR5cGUuYm91bnRpZXMuZm9yRWFjaChib3VudHkgPT4ge1xyXG4gICAgICAgICAgICBib3VudHkobywgdGhpcywgSGl0VHlwZUVudW0uSElUKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG8ubGl2ZXMgLT0gdGhpcy50eXBlLmRtZztcclxuICAgICAgICBvLm9uSGl0KHRoaXMpO1xyXG4gICAgICAgIHVwZGF0ZVN0YXR1cygwKTtcclxuICAgICAgICB0aGlzLm9uRGVzdHJveWVkKERlYXRoQ2F1c2VFbnVtLkNPTExJU0lPTik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVudmlyb25tZW50IGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0eXBlOiBFbnZpcm9ubWVudFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkhpdChvdGhlcjogR2FtZU9iamVjdCkge1xyXG4gICAgfVxyXG59XHJcblxyXG4vL2VuZHJlZ2lvblxyXG5cclxudmFyIGZyb250Q2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxudmFyIGZyb250Q29udGV4dCA9IGZyb250Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbnZhciBiYWNrQ2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG5iYWNrQ2FudmFzLndpZHRoID0gV0lEVEg7XHJcbmJhY2tDYW52YXMuaGVpZ2h0ID0gSEVJR0hUO1xyXG52YXIgYmFja0NvbnRleHQgPSBiYWNrQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbnZhciBzdGFydCA9IG51bGw7XHJcbnZhciBjdXJyZW50SW5wdXQgPSB7XHJcbiAgICBzcGFjZTogZmFsc2UsXHJcbiAgICBsZWZ0OiBmYWxzZSxcclxuICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIHVwOiBmYWxzZSxcclxuICAgIGRvd246IGZhbHNlXHJcbn07XHJcbnZhciBwcmlvcklucHV0ID0ge1xyXG4gICAgc3BhY2U6IGZhbHNlLFxyXG4gICAgbGVmdDogZmFsc2UsXHJcbiAgICByaWdodDogZmFsc2UsXHJcbiAgICB1cDogZmFsc2UsXHJcbiAgICBkb3duOiBmYWxzZVxyXG59O1xyXG5cclxudmFyIHBsYXllciA9IG5ldyBQbGF5ZXIoMCwgVW5pdFR5cGVFbnVtLlBMQVlFUiwgMCwgMCwgMCwgKCkgPT4ge1xyXG4gICAgZW5kR2FtZSgpO1xyXG59KTtcclxucGxheWVyLnggPSBXSURUSCAvIDIgLSBwbGF5ZXIuZ2V0V2lkdGgoKSAvIDI7XHJcbnBsYXllci55ID0gSEVJR0hUIC0gcGxheWVyLmdldEhlaWdodCgpO1xyXG52YXIgc2NvcmUgPSAwO1xyXG52YXIgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZV90ZXh0XCIpO1xyXG52YXIgbGl2ZXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXZlc190ZXh0XCIpO1xyXG5cclxudmFyIGVuZW15VGltZVRvU3Bhd24gPSAwO1xyXG52YXIgZW5lbXlJZENvdW50ZXIgPSAwO1xyXG52YXIgc2hvdElkQ291bnRlciA9IDA7XHJcbnZhciBlbnZpcm9ubWVudElkQ291bnRlciA9IDA7XHJcbnZhciBlbmVtaWVzID0gbmV3IE1hcDxudW1iZXIsIFVuaXQ+KCk7XHJcbnZhciBzaG90cyA9IG5ldyBNYXA8bnVtYmVyLCBTaG90PigpO1xyXG52YXIgZW52aXJvbm1lbnRzID0gbmV3IE1hcDxudW1iZXIsIEVudmlyb25tZW50PigpO1xyXG52YXIgcnVubmluZzogYm9vbGVhbiA9IHRydWU7XHJcblxyXG5mdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkge1xyXG4gICAgaWYgKCFydW5uaW5nKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmICghc3RhcnQpIHN0YXJ0ID0gdGltZXN0YW1wO1xyXG4gICAgbGV0IGVsYXBzZWRUaW1lID0gdGltZXN0YW1wIC0gc3RhcnQ7XHJcbiAgICBzdGFydCA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICBjcmVhdGVFbmVteShlbGFwc2VkVGltZSk7XHJcbiAgICBjcmVhdGVFbnZpcm9ubWVudCgpO1xyXG4gICAgdXBkYXRlKGVsYXBzZWRUaW1lKTtcclxuICAgIHJlbmRlcihlbGFwc2VkVGltZSk7XHJcbiAgICBwb2xsSW5wdXQoKTtcclxuXHJcbiAgICBmcm9udENvbnRleHQuY2xlYXJSZWN0KDAsIDAsIFdJRFRILCBIRUlHSFQpO1xyXG4gICAgZnJvbnRDb250ZXh0LmRyYXdJbWFnZShiYWNrQ2FudmFzLCAwLCAwKTtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcClcclxufVxyXG5cclxuZnVuY3Rpb24gcG9sbElucHV0KCkge1xyXG4gICAgcHJpb3JJbnB1dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudElucHV0KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5zcGFjZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQudXAgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQubGVmdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxyXG4gICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQucmlnaHQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlkb3duKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUtleXVwKGV2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQuc3BhY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6XHJcbiAgICAgICAgY2FzZSAndyc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC51cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQubGVmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXl1cCk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbmVteShlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICBlbmVteVRpbWVUb1NwYXduICs9IGVsYXBzZWRUaW1lO1xyXG4gICAgaWYgKGVuZW15VGltZVRvU3Bhd24gPiBFTkVNWV9TUEFXTl9SQVRFICYmIGVuZW1pZXMuc2l6ZSA8PSBFTkVNWV9MSU1JVCkge1xyXG4gICAgICAgIGVuZW15VGltZVRvU3Bhd24gPSAwO1xyXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpICogRU5FTVlfU1BBV05fUFJPQkFCSUxJVFkgPCAxKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGVuZW15SWRDb3VudGVyO1xyXG4gICAgICAgICAgICBsZXQgdHlwZSA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9NO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uQVNURVJPSURfTDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gVW5pdFR5cGVFbnVtLkFTVEVST0lEX1M7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbWllcy5zZXQoaWQsIG5ldyBVbml0KGlkLCB0eXBlLCBNYXRoLnJhbmRvbSgpICogKFdJRFRIIC0gdHlwZS5zaGFwZS5nZXRXaWR0aCgpKSwgLXR5cGUuc2hhcGUuZ2V0SGVpZ2h0KCksIE1hdGgucmFuZG9tKCkgKiAzNjAsIGZ1bmN0aW9uIChjYXVzZTogRGVhdGhDYXVzZUVudW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYXVzZSA9PSBEZWF0aENhdXNlRW51bS5MSVZFUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZS5ib3VudGllcy5mb3JFYWNoKGJvdW50eSA9PiBib3VudHkodGhpcywgbnVsbCwgSGl0VHlwZUVudW0uREVTVFJPWUVEKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbmVtaWVzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZW5lbXlJZENvdW50ZXIrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVudmlyb25tZW50KCkge1xyXG4gICAgc3dpdGNoIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBsZXQgaWQgPSBlbnZpcm9ubWVudElkQ291bnRlcjtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnRzLnNldChpZCwgbmV3IEVudmlyb25tZW50KGlkLCBFbnZpcm9ubWVudFR5cGVFbnVtLkNMT1VELCBNYXRoLnJhbmRvbSgpICogV0lEVEgsIC1FbnZpcm9ubWVudFR5cGVFbnVtLkNMT1VELnNoYXBlLmdldEhlaWdodCgpLCAwLCBmdW5jdGlvbiAoY2F1c2U6IERlYXRoQ2F1c2VFbnVtKSB7XHJcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMuZGVsZXRlKHRoaXMuaWQpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGVudmlyb25tZW50SWRDb3VudGVyKys7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbGxpZGUoYTogVW5pdCwgYjogVW5pdCk6IENvbGxpc2lvblJlc3VsdCB7XHJcbiAgICAvL2h0dHA6Ly93d3cudm9iYXJpYW4uY29tL2NvbGxpc2lvbnMvMmRjb2xsaXNpb25zMi5wZGZcclxuICAgIGxldCB1biA9IFZlY3Rvci5mcm9tKChiLnggKyAwLjUgKiBiLmdldFdpZHRoKCkpIC0gKGEueCArIDAuNSAqIGEuZ2V0V2lkdGgoKSksIChiLnkgKyAwLjUgKiBiLmdldEhlaWdodCgpKSAtIChhLnkgKyAwLjUgKiBhLmdldEhlaWdodCgpKSkubm9ybWFsaXplKCk7XHJcbiAgICBsZXQgdXQgPSBWZWN0b3IucGVycGVuZGljdWxhcih1bik7XHJcbiAgICBsZXQgdjFuID0gVmVjdG9yLmRvdFByb2R1Y3QodW4sIGEubW92ZS5nZXRWZWN0b3IoKSk7XHJcbiAgICBsZXQgdjF0ID0gVmVjdG9yLmRvdFByb2R1Y3QodXQsIGEubW92ZS5nZXRWZWN0b3IoKSk7XHJcbiAgICBsZXQgdjJuID0gVmVjdG9yLmRvdFByb2R1Y3QodW4sIGIubW92ZS5nZXRWZWN0b3IoKSk7XHJcbiAgICBsZXQgdjJ0ID0gVmVjdG9yLmRvdFByb2R1Y3QodXQsIGIubW92ZS5nZXRWZWN0b3IoKSk7XHJcbiAgICBsZXQgdl8xdCA9IHYxdDtcclxuICAgIGxldCB2XzJ0ID0gdjJ0O1xyXG5cclxuICAgIGxldCB2XzFuID0gKHYxbiAqIChhLmdldE1hc3MoKSAtIGIuZ2V0TWFzcygpKSArIDIgKiBiLmdldE1hc3MoKSAqIHYybikgLyAoYS5nZXRNYXNzKCkgKyBiLmdldE1hc3MoKSk7XHJcbiAgICBsZXQgdl8ybiA9ICh2Mm4gKiAoYi5nZXRNYXNzKCkgLSBhLmdldE1hc3MoKSkgKyAyICogYS5nZXRNYXNzKCkgKiB2MW4pIC8gKGEuZ2V0TWFzcygpICsgYi5nZXRNYXNzKCkpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYTogVmVjdG9yLmZyb21PdGhlcih1bikuc2NhbGUodl8xbikuYWRkKFZlY3Rvci5mcm9tT3RoZXIodXQpLnNjYWxlKHZfMXQpKSxcclxuICAgICAgICBiOiBWZWN0b3IuZnJvbU90aGVyKHVuKS5zY2FsZSh2XzJuKS5hZGQoVmVjdG9yLmZyb21PdGhlcih1dCkuc2NhbGUodl8ydCkpXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlcikge1xyXG4gICAgaWYgKGN1cnJlbnRJbnB1dC5zcGFjZSAmJiAhcHJpb3JJbnB1dC5zcGFjZSkge1xyXG4gICAgICAgIHBsYXllci5zaG9vdCgpO1xyXG4gICAgfVxyXG4gICAgcGxheWVyLnVwZGF0ZShlbGFwc2VkVGltZSwgY3VycmVudElucHV0LmxlZnQgPyAtMSA6IChjdXJyZW50SW5wdXQucmlnaHQgPyAxIDogMCksIGN1cnJlbnRJbnB1dC51cCk7XHJcblxyXG4gICAgZW5lbWllcy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnVwZGF0ZShlbGFwc2VkVGltZSkpO1xyXG4gICAgc2hvdHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuXHJcbiAgICBsZXQgY29sbGlzaW9uUGFpcnM6IENvbGxpc2lvblBhaXJbXSA9IFtdO1xyXG5cclxuICAgIHNob3RzLmZvckVhY2goc2hvdCA9PiB7XHJcbiAgICAgICAgY29sbGlzaW9uUGFpcnMucHVzaCh7YTogc2hvdCwgYjogcGxheWVyfSk7XHJcbiAgICAgICAgZW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgICAgICAgY29sbGlzaW9uUGFpcnMucHVzaCh7YTogc2hvdCwgYjogZW5lbXl9KTtcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbiAgICBsZXQgZW5lbXlMaXN0OiBVbml0W10gPSBbXTtcclxuICAgIGVuZW1pZXMuZm9yRWFjaCgodmFsdWUpID0+IGVuZW15TGlzdC5wdXNoKHZhbHVlKSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZW15TGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IGVuZW15TGlzdFtpXSwgYjogcGxheWVyfSk7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgZW5lbXlMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IGVuZW15TGlzdFtpXSwgYjogZW5lbXlMaXN0W2pdfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVudmlyb25tZW50cy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnVwZGF0ZShlbGFwc2VkVGltZSkpO1xyXG5cclxuICAgIGNoZWNrQ29sbGlzaW9ucyhjb2xsaXNpb25QYWlycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQ29sbGlzaW9ucyhwYWlyczogQ29sbGlzaW9uUGFpcltdKSB7XHJcbiAgICBwYWlycy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICBpZiAodmFsdWUuYS5pc0NvbGxpZGluZ1dpdGgodmFsdWUuYikpIHtcclxuICAgICAgICAgICAgdmFsdWUuYS5vbkhpdCh2YWx1ZS5iKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGJhY2tDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcclxuXHJcbiAgICBlbnZpcm9ubWVudHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS5yZW5kZXIoYmFja0NvbnRleHQpKTtcclxuXHJcbiAgICBwbGF5ZXIucmVuZGVyKGJhY2tDb250ZXh0KTtcclxuXHJcbiAgICBlbmVtaWVzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcblxyXG4gICAgc2hvdHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS5yZW5kZXIoYmFja0NvbnRleHQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlU3RhdHVzKHNjb3JlRGVsdGE6IG51bWJlciwgaGVhbHRoRGVsdGE6IG51bWJlciA9IDApIHtcclxuICAgIHNjb3JlICs9IHNjb3JlRGVsdGE7XHJcbiAgICBwbGF5ZXIubGl2ZXMgKz0gaGVhbHRoRGVsdGE7XHJcbiAgICBzY29yZUVsZW1lbnQuaW5uZXJUZXh0ID0gXCJcIiArIHNjb3JlO1xyXG4gICAgbGl2ZXNFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBwbGF5ZXIubGl2ZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuZEdhbWUoKSB7XHJcbiAgICBydW5uaW5nID0gZmFsc2U7XHJcbiAgICBhbGVydChcIkdhbWUgb3ZlciFcIik7XHJcbn1cclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yIHtcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgLypwcml2YXRlIG1vZFg6IG51bWJlciwgcHJpdmF0ZSBtb2RZOiBudW1iZXIqLykge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbSh4OiBudW1iZXIsIHk6IG51bWJlci8qLCBtb2RYOiBudW1iZXIsIG1vZFk6IG51bWJlciovKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LyosIG1vZFgsIG1vZFkqLyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tT3RoZXIob3RoZXI6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3Iob3RoZXIueCwgb3RoZXIueS8qLCBvdGhlci5tb2RYLCBvdGhlci5tb2RZKi8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgemVybygvKm1vZFg6IG51bWJlciwgbW9kWTogbnVtYmVyKi8pOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAvKiwgbW9kWCwgbW9kWSovKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbnN0cnVjdChtYWduaXR1ZGU6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IobWFnbml0dWRlICogTWF0aC5jb3MocmFkKGFuZ2xlKSksIG1hZ25pdHVkZSAqIE1hdGguc2luKHJhZChhbmdsZSkpKS5yb3RhdGUoLTkwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNaZXJvKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnggPT0gMCAmJiB0aGlzLnkgPT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFnbml0dWRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkKGE6IFZlY3RvciwgYjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcihhKS5hZGQoYik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZChvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJvdGF0ZSh2ZWN0b3I6IFZlY3RvciwgYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUoYW5nbGU6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IG9sZFggPSB0aGlzLng7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy54ICogTWF0aC5jb3MocmFkKGFuZ2xlKSkgLSB0aGlzLnkgKiBNYXRoLnNpbihyYWQoYW5nbGUpKTtcclxuICAgICAgICB0aGlzLnkgPSBvbGRYICogTWF0aC5zaW4ocmFkKGFuZ2xlKSkgKyB0aGlzLnkgKiBNYXRoLmNvcyhyYWQoYW5nbGUpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNjYWxlKHZlY3RvcjogVmVjdG9yLCBzY2FsYXI6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5zY2FsZShzY2FsYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzY2FsZShzY2FsYXI6IG51bWJlcik6IFZlY3RvciB7XHJcbiAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgICB0aGlzLnkgKj0gc2NhbGFyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbm9ybWFsaXplKHZlY3RvcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYWduaXR1ZGUoKSA9PT0gMCA/IHRoaXMgOiB0aGlzLnNjYWxlKDEgLyB0aGlzLm1hZ25pdHVkZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBlcnBlbmRpY3VsYXIodmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbU90aGVyKHZlY3RvcikucGVycGVuZGljdWxhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwZXJwZW5kaWN1bGFyKCk6IFZlY3RvciB7XHJcbiAgICAgICAgbGV0IG9sZFggPSB0aGlzLng7XHJcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueTtcclxuICAgICAgICB0aGlzLnkgPSBvbGRYO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZG90UHJvZHVjdChhOiBWZWN0b3IsIGI6IFZlY3Rvcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGEueCAqIGIueCArIGEueSAqIGIueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZG90UHJvZHVjdChvdGhlcjogVmVjdG9yKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmRvdFByb2R1Y3QodGhpcywgb3RoZXIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vZChuOiBudW1iZXIsIG06IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYWQobjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBuICogKE1hdGguUEkgLyAxODApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIG1pbiksIG1heCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9