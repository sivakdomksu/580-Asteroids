!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),r=1200,h=650,o=.2,n=1,a=.4,c=.65,l=8,u=300,d=3;let p=0;var f,g,E;!function(t){t[t.OUT_OF_BOUNDS=0]="OUT_OF_BOUNDS",t[t.LIVES=1]="LIVES",t[t.COLLISION=2]="COLLISION"}(f||(f={})),function(t){t[t.HIT=0]="HIT",t[t.DESTROYED=1]="DESTROYED"}(g||(g={})),function(t){t[t.PLAYER=0]="PLAYER",t[t.ENEMY=1]="ENEMY"}(E||(E={}));class m{constructor(t,e,s,i){this.minX=t,this.minY=e,this.maxX=s,this.maxY=i}isInBounds(t,e,s){return t>=this.minX&&e>=this.minY&&t+s.getWidth()<=this.maxX&&e+s.getHeight()<=this.maxY}}class y extends m{constructor(){super(0,0,0,0)}isInBounds(t,e,s){return!0}}class w{constructor(t,e){this.color=t,this.mass=e}isCollidingWith(t,e,s){if(e instanceof O)return this.isCollidingWithRectangle(t,e,s);if(e instanceof v)return this.isCollidingWithCircle(t,e,s);throw new Error("Unknown shape type: "+e)}}class O extends w{constructor(t,e,s,i){super(s,i),this.width=t,this.height=e}getHeight(){return this.height}getWidth(){return this.width}render(t){t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height)}isCollidingWithCircle(t,e,s){return e.isCollidingWithRectangle(s,this,t)}isCollidingWithRectangle(t,e,s){return t.x<s.x+e.getWidth()&&t.x+this.getWidth()>s.x&&t.y<s.y+e.getHeight()&&t.y+this.getHeight()>s.y}}class S extends O{constructor(t,e,s,i,r){super(t,e,s,i),this.char=r,this.char=this.char.charAt(0)}render(t){super.render(t),t.font="20px Arial",t.fillStyle="#ffffff";let e=t.measureText(this.char).width;t.fillText(this.char,.5*this.width-.5*e,.5*this.height+10)}}class v extends w{constructor(t,e,s){super(e,s),this.radius=t}getHeight(){return 2*this.radius}getWidth(){return 2*this.radius}render(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.radius,this.radius,this.radius,0,2*Math.PI),t.fill()}isCollidingWithRectangle(t,e,s){let r=i.clamp(this.center(t.x),s.x,s.x+e.getWidth()),h=i.clamp(this.center(t.y),s.y,s.y+e.getHeight()),o=this.center(t.x)-r,n=this.center(t.y)-h;return o*o+n*n<this.radius*this.radius}isCollidingWithCircle(t,e,s){return Math.pow(this.center(s.x)-this.center(t.x),2)+Math.pow(this.center(t.y)-this.center(s.y),2)<Math.pow(this.radius+e.radius,2)}center(t){return t+this.radius}}class L{constructor(t,e,s){this.states=t,this.boundary=e,this.move=s}}class x extends L{constructor(t,e,s,i,r,h,o,n){super(i,r,h),this.role=t,this.lives=e,this.shotFreq=s,this.shot=o,this.bounties=n}}class D extends L{constructor(t,e,s,i){super(e,s,i),this.dmg=t}}class M{constructor(){}move(t,e=0,s=null,i=null){throw new Error("Not Implemented!")}}class A extends M{constructor(t){super(),this.vector=t}move(t,e=0,s=null,r=null){return i.default.from(this.vector.x*t,this.vector.y*t)}copy(){return new A(i.default.fromOther(this.vector))}setRotation(t){return this.vector.rotate(t),this}getVector(){return this.vector}}class R extends M{constructor(t){super(),this.decSpeed=t,this.lastVector=i.default.zero()}move(t,e,s,r){let h=i.default.fromOther(r);return h.scale(0===s.dec?1:s.curr/(s.curr+s.dec)),s.acc>0&&h.add(i.default.construct(s.acc,e)),this.lastVector=i.default.fromOther(h).scale(1/t),h}copy(){return new R(this.decSpeed)}setRotation(t){return this}getVector(){return this.lastVector}}class T{constructor(t,e){this.url=t,this.q=[];for(let s=0;s<e;s++)this.q.push(new Audio(t))}play(){let t=this.q.pop();if(!t)return void console.error("Audio Pool is not big enough!",this.url);t.currentTime=0;const e=t.play();void 0!==e&&e.then(e=>{this.q.push(t)})}}class I{constructor(t,...e){this.states=[],console.log("Other",e),this.states.push(t),e.forEach(t=>this.states.push(t)),console.log("This",this.states)}getDefault(){return this.states[0]}isAllowed(t){for(let e of this.states)if(e==t)return!0;return!1}}class _{constructor(t){this.shape=t,this.takeLives=(t=>t)}toStateHolder(){return new I(this)}}class Y extends _{constructor(t,e){super(t),this.takeLives=e}toStateHolder(){return new I(this)}}const H={PLAYER:new S(20,35,"#6a7fed",10,"A"),PLAYER_SHIELD:new S(20,35,"#afb9ff",10,"A"),ASTEROID_S:new v(20,"#ff2766",10),ASTEROID_M:new v(40,"#bb2c5b",20),ASTEROID_L:new v(80,"#a3163e",30),SHOT:new O(5,5,"#ffffff",0),CLOUD:new O(150,150,"#0a1e3a",0)},C={NONE:new y,SHOT:new m(-H.ASTEROID_L.getWidth(),-H.ASTEROID_L.getHeight(),r+H.ASTEROID_L.getWidth(),h+H.ASTEROID_L.getWidth()),CLOUD:new m(-H.CLOUD.width,-H.CLOUD.height,r+H.CLOUD.width,h+H.CLOUD.height)},P={BOUNTY_S:(t,e,s)=>{s==g.DESTROYED&&(p+=50)},BOUNTY_M:(t,e,s)=>{s==g.HIT&&(p+=30)},BOUNTY_L:(t,e,s)=>{s==g.HIT&&(p+=10)}},b={PLAYER:new R(a),ENEMY_SIMPLE:new A(i.default.from(0,.1)),PLAYER_SHOT:new A(i.default.from(0,-.5)),ENEMY_SHOT:new A(i.default.from(0,.4)),CLOUD:new A(i.default.from(0,.05))},N={PLAYER:new Y(H.PLAYER,t=>t),PLAYER_SHIELD:new Y(H.PLAYER_SHIELD,()=>0)},W={PLAYER:new I(N.PLAYER,N.PLAYER_SHIELD),ASTEROID_S:new Y(H.ASTEROID_S,t=>t).toStateHolder(),ASTEROID_M:new Y(H.ASTEROID_M,t=>t).toStateHolder(),ASTEROID_L:new Y(H.ASTEROID_L,t=>t).toStateHolder(),SHOT:new _(H.SHOT).toStateHolder(),CLOUD:new _(H.CLOUD).toStateHolder()},U={PLAYER:new D(1,W.SHOT,C.SHOT,b.PLAYER_SHOT),ENEMY:new D(1,W.SHOT,C.SHOT,b.ENEMY_SHOT)},V={PLAYER:new x(E.PLAYER,3,0,W.PLAYER,C.NONE,b.PLAYER,U.PLAYER,[]),ASTEROID_S:new x(E.ENEMY,1,0,W.ASTEROID_S,C.NONE,b.ENEMY_SIMPLE,U.PLAYER,[P.BOUNTY_S]),ASTEROID_M:new x(E.ENEMY,1,0,W.ASTEROID_M,C.NONE,b.ENEMY_SIMPLE,U.ENEMY,[P.BOUNTY_M]),ASTEROID_L:new x(E.ENEMY,1,0,W.ASTEROID_L,C.NONE,b.ENEMY_SIMPLE,U.ENEMY,[P.BOUNTY_L])},k={CLOUD:new class extends L{constructor(t,e,s){super(t,e,s)}}(W.CLOUD,C.CLOUD,b.CLOUD)},B={PLAYER_SHOT:new T("audio/Shot.wav",5),COLLISION:new T("audio/Collision.wav",10)};class j{constructor(t,e,s,r,h,o){this.id=t,this.type=e,this.x=s,this.y=r,this.rot=h,this.onDestroyed=o,this.rotation=0,this.move=null,this.moveVector=i.default.zero(),this.speed=0,this.move=e.move.copy().setRotation(h),this.state=e.states.getDefault()}update(t,e=0,s=!1){this.moveVector=this.move.move(t);let r=i.default.from(this.x,this.y);this.type.boundary.isInBounds(this.x+this.moveVector.x,this.y+this.moveVector.y,this.state.shape)?(this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.type.boundary instanceof y&&this.warpToOtherSide(r)):this.type!=V.PLAYER&&this.onDestroyed(this,f.OUT_OF_BOUNDS)}warpToOtherSide(t){this.x>r?this.x=-this.getWidth():this.x+this.getWidth()<0&&(this.x=r),this.y>h?this.y=-this.getHeight():this.y+this.getHeight()<0&&(this.y=h)}isCollidingWith(t){return this.state.shape.isCollidingWith(i.default.from(this.x,this.y),t.state.shape,i.default.from(t.x,t.y))}render(t){t.save(),t.translate(this.x+.5*this.getWidth(),this.y+.5*this.getHeight()),t.rotate(i.rad(this.rotation)),t.translate(-.5*this.getWidth(),-.5*this.getHeight()),this.state.shape.render(t),t.restore()}changeState(t,e){this.type.states.isAllowed(t)&&(this.state=t,setTimeout(()=>this.state=this.type.states.getDefault(),e))}getWidth(){return this.state.shape.getWidth()}getHeight(){return this.state.shape.getHeight()}getColor(){return this.state.shape.color}getMass(){return this.state.shape.mass}}class q extends j{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e,this.lives=e.lives}onHit(t){{let e=function(t,e){let s=i.default.from(e.x+.5*e.getWidth()-(t.x+.5*t.getWidth()),e.y+.5*e.getHeight()-(t.y+.5*t.getHeight())).normalize(),r=i.default.perpendicular(s),h=i.default.dotProduct(s,t.move.getVector()),o=i.default.dotProduct(r,t.move.getVector()),n=i.default.dotProduct(s,e.move.getVector()),a=i.default.dotProduct(r,e.move.getVector()),c=o,l=a,u=(h*(t.getMass()-e.getMass())+2*e.getMass()*n)/(t.getMass()+e.getMass()),d=(n*(e.getMass()-t.getMass())+2*t.getMass()*h)/(t.getMass()+e.getMass());B.COLLISION.play();for(;t.isCollidingWith(e);)t.update(-10),e.update(-10);return{a:i.default.fromOther(s).scale(u).add(i.default.fromOther(r).scale(c)),b:i.default.fromOther(s).scale(d).add(i.default.fromOther(r).scale(l))}}(this,t);this.moveVector=e.a,t.moveVector=e.b,this.move=new A(e.a),t.move=new A(e.b),this.speed=l}this.lives<1&&(this.type.morph?function(t){let e=rt++,s=new q(e,t.type.morph,t.x,t.y,0,(t,s)=>{s==f.LIVES&&t.type.bounties.forEach(e=>e(t,null,g.DESTROYED)),nt.delete(e)});t.type=t.type.morph,nt.set(e,s),s.move=t.move.copy(),s.move.setRotation(-120),t.move.setRotation(120);for(;t.isCollidingWith(s);)t.update(10),s.update(10)}(this):this.onDestroyed(this,f.LIVES))}isAlive(){return this.lives>0}isInBounds(){return this.type.boundary.isInBounds(this.x,this.y,this.state.shape)}update(t,e=0,s=!1){if(super.update(t,e,s),this.type!==V.PLAYER)switch(Math.floor(Math.random()*this.type.shotFreq)){case 1:this.shoot()}}shoot(){let t=ht,e=new z(t,this.type,this.type.shot,this.x+this.getWidth()/2,this.y+this.getHeight()/2,this.rotation,(t,e)=>{at.delete(t.id)});return this.moveVector.add(i.default.construct(c,this.rotation).scale(-1)),this.speed=Math.min(l,this.speed+c),at.set(t,e),ht++,B.PLAYER_SHOT.play(),e}}class z extends j{constructor(t,e,s,i,r,h,o){super(t,s,i,r,h,o),this.initiator=e,this.type=s}isCollidingWith(t){return super.isCollidingWith(t)&&this.initiator!==t.type}onHit(t){let e=t;this.initiator!=e.type&&(e.type.bounties.forEach(t=>{t(e,this,g.HIT)}),e.lives-=this.type.dmg,e.onHit(this),this.onDestroyed(this,f.COLLISION))}}class F extends j{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h)}onHit(t){}}var X=document.getElementById("canvas").getContext("2d"),J=document.createElement("canvas");J.width=r,J.height=h;var G=J.getContext("2d"),Z=null,K={space:!1,left:!1,right:!1,up:!1,down:!1},Q={space:!1,left:!1,right:!1,up:!1,down:!1},$=new class extends q{constructor(t,e,s,i,r,h){super(t,e,s,i,r,h),this.type=e}onHit(t){t instanceof q&&t.type.role==E.ENEMY&&(this.lives-=this.state.takeLives(1),this.changeState(N.PLAYER_SHIELD,2e3)),this.lives<1&&this.onDestroyed(this,f.LIVES)}update(t,e=0,s=!1){this.rotation=i.mod(this.rotation+e*o*t,360);let r=this.speed;this.speed=Math.max(0,this.speed-a*t/100);let h=r-this.speed,c=0;r=this.speed,s&&(this.speed=Math.min(l,this.speed+n*t/100),c=this.speed-r),this.moveVector=this.move.move(t,this.rotation,{curr:r,dec:h,acc:c},this.moveVector);let u=i.default.from(this.x,this.y);this.x+=this.moveVector.x,this.y+=this.moveVector.y,this.warpToOtherSide(u)}}(0,V.PLAYER,0,0,0,()=>{dt(),lt=!1,confirm("Game over!")&&location.reload()});$.x=r/2-$.getWidth()/2,$.y=h-$.getHeight();var tt=document.getElementById("score_text"),et=document.getElementById("lives_text"),st=document.getElementById("level_text"),it=0,rt=0,ht=0,ot=0,nt=new Map,at=new Map,ct=new Map,lt=!0;let ut=new class{constructor(t,e,s){this.levelScale=t,this.enemyCounter=e,this.cooldown=s,this.level=0,this.levelSpawns=1,this.passedSpawns=!1,this.currCooldown=0,this.state=0,this.reset()}updateLevel(t){switch(this.state){case 0:this.checkAllSpawned();break;case 1:this.checkAllDestroyed();break;case 2:this.checkCooldown(t)}return 0==this.state}reset(){this.level++,this.levelSpawns=this.levelScale(this.level),this.passedSpawns=!1,this.currCooldown=0,this.state=0}getLimit(){return this.levelSpawns}getLevel(){return this.level}checkAllSpawned(){this.enemyCounter()>=this.levelSpawns&&(this.state=1)}checkAllDestroyed(){0==this.enemyCounter()&&(this.state=2)}checkCooldown(t){this.currCooldown>this.cooldown?this.raiseLevel():this.currCooldown+=t}raiseLevel(){this.reset()}}(t=>2*t,()=>nt.size,3e3);function dt(t=null){tt.innerText=""+p,et.innerText=""+$.lives,null!==t&&(st.innerText=""+t)}V.ASTEROID_M.morph=V.ASTEROID_S,V.ASTEROID_L.morph=V.ASTEROID_M,window.addEventListener("keydown",function(t){switch(t.key){case" ":t.preventDefault(),K.space=!0;break;case"ArrowUp":case"w":t.preventDefault(),K.up=!0;break;case"ArrowLeft":case"a":t.preventDefault(),K.left=!0;break;case"ArrowRight":case"d":t.preventDefault(),K.right=!0}}),window.addEventListener("keyup",function(t){switch(t.key){case" ":K.space=!1;break;case"ArrowUp":case"w":K.up=!1;break;case"ArrowLeft":case"a":K.left=!1;break;case"ArrowRight":case"d":K.right=!1}}),window.requestAnimationFrame(function t(e){if(!lt)return;dt(ut.getLevel()),Z||(Z=e);let s=e-Z;Z=e,ut.updateLevel(s)&&function(t){if((it+=t)>u&&(it=0,Math.random()*d<1)){let t=rt,e=V.ASTEROID_M;switch(Math.floor(10*Math.random())){case 0:e=V.ASTEROID_L;break;case 1:e=V.ASTEROID_S}nt.set(t,new q(t,e,Math.random()*(r-e.states.getDefault().shape.getWidth()),-e.states.getDefault().shape.getHeight(),360*Math.random(),(e,s)=>{s==f.LIVES&&e.type.bounties.forEach(t=>t(e,null,g.DESTROYED)),nt.delete(t)})),rt++}}(s),function(){switch(Math.floor(100*Math.random())){case 1:let t=ot;ct.set(t,new F(t,k.CLOUD,Math.random()*r,-k.CLOUD.states.getDefault().shape.getHeight(),0,(t,e)=>{ct.delete(t.id)})),ot++}}(),function(t){K.space&&!Q.space&&$.shoot(),$.update(t,K.left?-1:K.right?1:0,K.up),nt.forEach(e=>e.update(t)),at.forEach(e=>e.update(t));let e=[];at.forEach(t=>{e.push({a:t,b:$}),nt.forEach(s=>{e.push({a:t,b:s})})});let s=[];nt.forEach(t=>s.push(t));for(let t=0;t<s.length;t++){e.push({a:$,b:s[t]});for(let i=t+1;i<s.length;i++)e.push({a:s[t],b:s[i]})}ct.forEach(e=>e.update(t)),function(t){t.forEach(t=>{t.a.isCollidingWith(t.b)&&t.a.onHit(t.b)})}(e)}(s),G.clearRect(0,0,r,h),ct.forEach(t=>t.render(G)),$.render(G),nt.forEach(t=>t.render(G)),at.forEach(t=>t.render(G)),Q=JSON.parse(JSON.stringify(K)),X.clearRect(0,0,r,h),X.drawImage(J,0,0),window.requestAnimationFrame(t)})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this.x=t,this.y=e}static from(t,e){return new i(t,e)}static fromOther(t){return new i(t.x,t.y)}static zero(){return new i(0,0)}static construct(t,e){return new i(t*Math.cos(r(e)),t*Math.sin(r(e))).rotate(-90)}isZero(){return 0==this.x&&0==this.y}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}static add(t,e){return i.fromOther(t).add(e)}add(t){return this.x+=t.x,this.y+=t.y,this}static rotate(t,e){return i.fromOther(t).rotate(e)}rotate(t){let e=this.x;return this.x=this.x*Math.cos(r(t))-this.y*Math.sin(r(t)),this.y=e*Math.sin(r(t))+this.y*Math.cos(r(t)),this}static scale(t,e){return i.fromOther(t).scale(e)}scale(t){return this.x*=t,this.y*=t,this}static normalize(t){return i.fromOther(t).normalize()}normalize(){return 0===this.magnitude()?this:this.scale(1/this.magnitude())}static perpendicular(t){return i.fromOther(t).perpendicular()}perpendicular(){let t=this.x;return this.x=-this.y,this.y=t,this}static dotProduct(t,e){return t.x*e.x+t.y*e.y}dotProduct(t){return i.dotProduct(this,t)}}function r(t){return t*(Math.PI/180)}e.default=i,e.mod=function(t,e){return(t%e+e)%e},e.rad=r,e.clamp=function(t,e,s){return Math.min(Math.max(t,e),s)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzdGVyb2lkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidmVjdG9yXzEiLCJXSURUSCIsIkhFSUdIVCIsIlJPVEFUSU9OX1NQRUVEIiwiQUNDX1NQRUVEIiwiREVDRUxFUkFUSU9OX1NQRUVEIiwiS05PQ0tfQkFDSyIsIk1BWF9TUEVFRCIsIkVORU1ZX1NQQVdOX1JBVEUiLCJFTkVNWV9TUEFXTl9QUk9CQUJJTElUWSIsInNjb3JlIiwiRGVhdGhDYXVzZUVudW0iLCJIaXRUeXBlRW51bSIsIlJvbGUiLCJCb3VuZGFyeSIsIltvYmplY3QgT2JqZWN0XSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ0aGlzIiwieCIsInkiLCJzaGFwZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiTm9Cb3VuZGFyeSIsInN1cGVyIiwiU2hhcGUiLCJjb2xvciIsIm1hc3MiLCJwb3MiLCJvdGhlciIsIm90aGVyUG9zIiwiUmVjdGFuZ2xlIiwiaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlIiwiQ2lyY2xlIiwiaXNDb2xsaWRpbmdXaXRoQ2lyY2xlIiwiRXJyb3IiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIkNoYXJSZWN0YW5nbGUiLCJjaGFyIiwiY2hhckF0IiwicmVuZGVyIiwiZm9udCIsInR4dFdpZHRoIiwibWVhc3VyZVRleHQiLCJmaWxsVGV4dCIsInJhZGl1cyIsImJlZ2luUGF0aCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJjbG9zZXN0WCIsImNsYW1wIiwiY2VudGVyIiwiY2xvc2VzdFkiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJwb3ciLCJHYW1lT2JqZWN0VHlwZSIsInN0YXRlcyIsImJvdW5kYXJ5IiwibW92ZSIsIlVuaXRUeXBlIiwicm9sZSIsImxpdmVzIiwic2hvdEZyZXEiLCJzaG90IiwiYm91bnRpZXMiLCJTaG90VHlwZSIsImRtZyIsIk1vdmUiLCJlbGFwc2VkVGltZSIsInJvdGF0aW9uIiwic3BlZWQiLCJtb3ZlVmVjdG9yIiwiQ29uc3RhbnRNb3ZlIiwidmVjdG9yIiwiZGVmYXVsdCIsImZyb20iLCJmcm9tT3RoZXIiLCJyb3RhdGUiLCJEeW5hbWljTW92ZSIsImRlY1NwZWVkIiwibGFzdFZlY3RvciIsInplcm8iLCJzY2FsZSIsImRlYyIsImN1cnIiLCJhY2MiLCJhZGQiLCJjb25zdHJ1Y3QiLCJBdWRpb1Bvb2wiLCJ1cmwiLCJjb3VudCIsInEiLCJwdXNoIiwiQXVkaW8iLCJhdWRpbyIsInBvcCIsImNvbnNvbGUiLCJlcnJvciIsImN1cnJlbnRUaW1lIiwicHJvbWlzZSIsInBsYXkiLCJ1bmRlZmluZWQiLCJ0aGVuIiwiU3RhdGVIb2xkZXIiLCJkZWZTdGF0ZSIsImxvZyIsImZvckVhY2giLCJzdGF0ZSIsIlN0YXRlIiwidGFrZUxpdmVzIiwibnVtYmVyIiwiVW5pdFN0YXRlIiwiU2hhcGVFbnVtIiwiUExBWUVSIiwiUExBWUVSX1NISUVMRCIsIkFTVEVST0lEX1MiLCJBU1RFUk9JRF9NIiwiQVNURVJPSURfTCIsIlNIT1QiLCJDTE9VRCIsIkJvdW5kYXJ5RW51bSIsIk5PTkUiLCJCb3VudHlFbnVtIiwiQk9VTlRZX1MiLCJlbmVteSIsInR5cGUiLCJERVNUUk9ZRUQiLCJCT1VOVFlfTSIsIkhJVCIsIkJPVU5UWV9MIiwiTW92ZVR5cGVFbnVtIiwiRU5FTVlfU0lNUExFIiwiUExBWUVSX1NIT1QiLCJFTkVNWV9TSE9UIiwiU3RhdGVFbnVtIiwiU3RhdGVzRW51bSIsInRvU3RhdGVIb2xkZXIiLCJTaG90VHlwZUVudW0iLCJFTkVNWSIsIlVuaXRUeXBlRW51bSIsIkVudmlyb25tZW50VHlwZUVudW0iLCJBdWRpb1Bvb2xFbnVtIiwiQ09MTElTSU9OIiwiR2FtZU9iamVjdCIsImlkIiwicm90Iiwib25EZXN0cm95ZWQiLCJjb3B5Iiwic2V0Um90YXRpb24iLCJnZXREZWZhdWx0IiwibW92ZW1lbnQiLCJvbGQiLCJpc0luQm91bmRzIiwid2FycFRvT3RoZXJTaWRlIiwiT1VUX09GX0JPVU5EUyIsImlzQ29sbGlkaW5nV2l0aCIsInNhdmUiLCJ0cmFuc2xhdGUiLCJyYWQiLCJyZXN0b3JlIiwidG8iLCJjb29sZG93biIsImlzQWxsb3dlZCIsInNldFRpbWVvdXQiLCJVbml0IiwiY29sbGlzaW9uIiwiYSIsImIiLCJ1biIsIm5vcm1hbGl6ZSIsInV0IiwicGVycGVuZGljdWxhciIsInYxbiIsImRvdFByb2R1Y3QiLCJnZXRWZWN0b3IiLCJ2MXQiLCJ2Mm4iLCJ2MnQiLCJ2XzF0Iiwidl8ydCIsInZfMW4iLCJnZXRNYXNzIiwidl8ybiIsInVwZGF0ZSIsImNvbGxpZGUiLCJtb3JwaCIsInVuaXQiLCJlbmVteUlkQ291bnRlciIsImNhdXNlIiwiTElWRVMiLCJib3VudHkiLCJlbmVtaWVzIiwiZGVsZXRlIiwic2V0IiwiZmxvb3IiLCJyYW5kb20iLCJzaG9vdCIsInNob3RJZENvdW50ZXIiLCJTaG90Iiwic2hvdHMiLCJtaW4iLCJpbml0aWF0b3IiLCJvbkhpdCIsIkVudmlyb25tZW50IiwiZnJvbnRDb250ZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJiYWNrQ2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImJhY2tDb250ZXh0Iiwic3RhcnQiLCJjdXJyZW50SW5wdXQiLCJzcGFjZSIsImxlZnQiLCJyaWdodCIsInVwIiwiZG93biIsInByaW9ySW5wdXQiLCJwbGF5ZXIiLCJjaGFuZ2VTdGF0ZSIsIm1vZCIsIm9sZFNwZWVkIiwibWF4IiwiYWNjU3BlZWQiLCJ1cGRhdGVTdGF0dXMiLCJydW5uaW5nIiwiY29uZmlybSIsImxvY2F0aW9uIiwicmVsb2FkIiwic2NvcmVFbGVtZW50IiwibGl2ZXNFbGVtZW50IiwibGV2ZWxFbGVtZW50IiwiZW5lbXlUaW1lVG9TcGF3biIsImVudmlyb25tZW50SWRDb3VudGVyIiwiTWFwIiwiZW52aXJvbm1lbnRzIiwibGV2ZWwiLCJsZXZlbFNjYWxlIiwiZW5lbXlDb3VudGVyIiwibGV2ZWxTcGF3bnMiLCJwYXNzZWRTcGF3bnMiLCJjdXJyQ29vbGRvd24iLCJyZXNldCIsImNoZWNrQWxsU3Bhd25lZCIsImNoZWNrQWxsRGVzdHJveWVkIiwiY2hlY2tDb29sZG93biIsInJhaXNlTGV2ZWwiLCJsdmwiLCJzaXplIiwiaW5uZXJUZXh0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb29wIiwidGltZXN0YW1wIiwiZ2V0TGV2ZWwiLCJ1cGRhdGVMZXZlbCIsImNyZWF0ZUVuZW15IiwiY3JlYXRlRW52aXJvbm1lbnQiLCJjb2xsaXNpb25QYWlycyIsImVuZW15TGlzdCIsImxlbmd0aCIsImoiLCJwYWlycyIsImNoZWNrQ29sbGlzaW9ucyIsImNsZWFyUmVjdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImRyYXdJbWFnZSIsIlZlY3RvciIsIm1hZ25pdHVkZSIsImFuZ2xlIiwiY29zIiwic2luIiwic3FydCIsIm9sZFgiLCJzY2FsYXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFB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Skwsa0JBQWtCaUssRUFBV0MsR0FDaEMsT0FBT0QsRUFBRTNKLEVBQUk0SixFQUFFNUosRUFBSTJKLEVBQUUxSixFQUFJMkosRUFBRTNKLEVBR3hCUCxXQUFXaUIsR0FDZCxPQUFPMlAsRUFBT3BHLFdBQVduSyxLQUFNWSxJQVN2QyxTQUFnQndJLEVBQUkvSyxHQUNoQixPQUFPQSxHQUFLOEQsS0FBS0MsR0FBSyxLQTdGMUIxRixFQUFBc0gsUUFBQXVNLEVBd0ZBN1QsRUFBQXlRLElBQUEsU0FBb0I5TyxFQUFXckIsR0FDM0IsT0FBU3FCLEVBQUlyQixFQUFLQSxHQUFLQSxHQUczQk4sRUFBQTBNLE1BSUExTSxFQUFBNkYsTUFBQSxTQUFzQmxFLEVBQVd5TixFQUFhdUIsR0FDMUMsT0FBT2xMLEtBQUsySixJQUFJM0osS0FBS2tMLElBQUloUCxFQUFHeU4sR0FBTXVCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBWZWN0b3IsIHtjbGFtcCwgbW9kLCByYWR9IGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuY29uc3QgV0lEVEggPSAxMjAwO1xyXG5jb25zdCBIRUlHSFQgPSA2NTA7XHJcbmNvbnN0IFJPVEFUSU9OX1NQRUVEID0gMC4yO1xyXG5jb25zdCBBQ0NfU1BFRUQgPSAxO1xyXG5jb25zdCBERUNFTEVSQVRJT05fU1BFRUQgPSAwLjQ7XHJcbmNvbnN0IEtOT0NLX0JBQ0sgPSAwLjY1O1xyXG5jb25zdCBNQVhfU1BFRUQgPSA4O1xyXG5jb25zdCBFTkVNWV9SQURJVVMgPSAyMDtcclxuY29uc3QgRU5FTVlfU1BBV05fUkFURSA9IDMwMDtcclxuY29uc3QgRU5FTVlfU1BBV05fUFJPQkFCSUxJVFkgPSAzO1xyXG5jb25zdCBFTkVNWV9TQ0FMSU5HID0gMjtcclxuY29uc3QgTFZMX0NPT0xET1dOID0gMzAwMDtcclxuXHJcbmxldCBzY29yZTogbnVtYmVyID0gMDtcclxuXHJcbi8vcmVnaW9uIEdhbWVPYmplY3QgcGFydHNcclxudHlwZSBCb3VudHlDYWxsYmFjayA9IChlbmVteTogVW5pdCwgc2hvdDogU2hvdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IGFueTtcclxudHlwZSBMZXZlbFNjYWxlID0gKGxldmVsOiBudW1iZXIpID0+IG51bWJlcjtcclxudHlwZSBTcGVlZFN0cnVjdCA9IHsgY3VycjogbnVtYmVyLCBkZWM6IG51bWJlciwgYWNjOiBudW1iZXIgfVxyXG50eXBlIEVuZHBvaW50ID0geyB2YWx1ZTogbnVtYmVyLCBpc01heDogYm9vbGVhbiwgb2JqZWN0OiBHYW1lT2JqZWN0IH1cclxudHlwZSBDb2xsaXNpb25QYWlyID0geyBhOiBHYW1lT2JqZWN0LCBiOiBVbml0IH1cclxudHlwZSBDb2xsaXNpb25SZXN1bHQgPSB7IGE6IFZlY3RvciwgYjogVmVjdG9yIH1cclxuXHJcbmVudW0gRGVhdGhDYXVzZUVudW0ge1xyXG4gICAgT1VUX09GX0JPVU5EUyxcclxuICAgIExJVkVTLFxyXG4gICAgQ09MTElTSU9OXHJcbn1cclxuXHJcbmVudW0gSGl0VHlwZUVudW0ge1xyXG4gICAgSElULFxyXG4gICAgREVTVFJPWUVEXHJcbn1cclxuXHJcbmVudW0gUm9sZSB7XHJcbiAgICBQTEFZRVIsXHJcbiAgICBFTkVNWVxyXG59XHJcblxyXG5jbGFzcyBCb3VuZGFyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWluWDogbnVtYmVyLCBwdWJsaWMgbWluWTogbnVtYmVyLCBwdWJsaWMgbWF4WDogbnVtYmVyLCBwdWJsaWMgbWF4WTogbnVtYmVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgc2hhcGU6IFNoYXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHggPj0gdGhpcy5taW5YICYmIHkgPj0gdGhpcy5taW5ZICYmICh4ICsgc2hhcGUuZ2V0V2lkdGgoKSkgPD0gdGhpcy5tYXhYICYmICh5ICsgc2hhcGUuZ2V0SGVpZ2h0KCkpIDw9IHRoaXMubWF4WTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTm9Cb3VuZGFyeSBleHRlbmRzIEJvdW5kYXJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAsIDAsIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5Cb3VuZHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHNoYXBlOiBTaGFwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBTaGFwZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHVibGljIGNvbG9yOiBzdHJpbmcsIHB1YmxpYyBtYXNzOiBudW1iZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0V2lkdGgoKTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRIZWlnaHQoKTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKHBvczogVmVjdG9yLCBvdGhlcjogUmVjdGFuZ2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoKHBvczogVmVjdG9yLCBvdGhlcjogU2hhcGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBSZWN0YW5nbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKHBvcywgb3RoZXIsIG90aGVyUG9zKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG90aGVyIGluc3RhbmNlb2YgQ2lyY2xlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQ29sbGlkaW5nV2l0aENpcmNsZShwb3MsIG90aGVyLCBvdGhlclBvcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzaGFwZSB0eXBlOiBcIiArIG90aGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgU2hhcGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsIG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodFxyXG4gICAgfVxyXG5cclxuICAgIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGhcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGluZ1dpdGhDaXJjbGUocG9zOiBWZWN0b3IsIG90aGVyOiBDaXJjbGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIuaXNDb2xsaWRpbmdXaXRoUmVjdGFuZ2xlKG90aGVyUG9zLCB0aGlzLCBwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGluZ1dpdGhSZWN0YW5nbGUocG9zOiBWZWN0b3IsIG90aGVyOiBSZWN0YW5nbGUsIG90aGVyUG9zOiBWZWN0b3IpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gcG9zLnggPCBvdGhlclBvcy54ICsgb3RoZXIuZ2V0V2lkdGgoKSAmJlxyXG4gICAgICAgICAgICBwb3MueCArIHRoaXMuZ2V0V2lkdGgoKSA+IG90aGVyUG9zLnggJiZcclxuICAgICAgICAgICAgcG9zLnkgPCBvdGhlclBvcy55ICsgb3RoZXIuZ2V0SGVpZ2h0KCkgJiZcclxuICAgICAgICAgICAgcG9zLnkgKyB0aGlzLmdldEhlaWdodCgpID4gb3RoZXJQb3MueTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2hhclJlY3RhbmdsZSBleHRlbmRzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyLCBwcml2YXRlIHJlYWRvbmx5IGNoYXI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBtYXNzKTtcclxuICAgICAgICB0aGlzLmNoYXIgPSB0aGlzLmNoYXIuY2hhckF0KDApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCk7XHJcbiAgICAgICAgY29udGV4dC5mb250ID0gXCIyMHB4IEFyaWFsXCI7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICBsZXQgdHh0V2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuY2hhcikud2lkdGg7XHJcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLmNoYXIsIDAuNSAqIHRoaXMud2lkdGggLSAwLjUgKiB0eHRXaWR0aCwgMC41ICogdGhpcy5oZWlnaHQgKyAwLjUgKiAyMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENpcmNsZSBleHRlbmRzIFNoYXBlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByYWRpdXM6IG51bWJlciwgY29sb3I6IHN0cmluZywgbWFzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29sb3IsIG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyICogdGhpcy5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMiAqIHRoaXMucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjb250ZXh0LmFyYyh0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGlkaW5nV2l0aFJlY3RhbmdsZShwb3M6IFZlY3Rvciwgb3RoZXI6IFJlY3RhbmdsZSwgb3RoZXJQb3M6IFZlY3Rvcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBjbG9zZXN0WCA9IGNsYW1wKHRoaXMuY2VudGVyKHBvcy54KSwgb3RoZXJQb3MueCwgb3RoZXJQb3MueCArIG90aGVyLmdldFdpZHRoKCkpO1xyXG4gICAgICAgIGxldCBjbG9zZXN0WSA9IGNsYW1wKHRoaXMuY2VudGVyKHBvcy55KSwgb3RoZXJQb3MueSwgb3RoZXJQb3MueSArIG90aGVyLmdldEhlaWdodCgpKTtcclxuXHJcbiAgICAgICAgbGV0IGRpc3RhbmNlWCA9IHRoaXMuY2VudGVyKHBvcy54KSAtIGNsb3Nlc3RYO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZVkgPSB0aGlzLmNlbnRlcihwb3MueSkgLSBjbG9zZXN0WTtcclxuXHJcbiAgICAgICAgbGV0IGRpc3RhbmNlU3F1YXJlZCA9IChkaXN0YW5jZVggKiBkaXN0YW5jZVgpICsgKGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlU3F1YXJlZCA8ICh0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoQ2lyY2xlKHBvczogVmVjdG9yLCBvdGhlcjogQ2lyY2xlLCBvdGhlclBvczogVmVjdG9yKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHRoaXMuY2VudGVyKG90aGVyUG9zLngpIC0gdGhpcy5jZW50ZXIocG9zLngpLCAyKVxyXG4gICAgICAgICAgICArIE1hdGgucG93KHRoaXMuY2VudGVyKHBvcy55KSAtIHRoaXMuY2VudGVyKG90aGVyUG9zLnkpLCAyKVxyXG4gICAgICAgICAgICA8IE1hdGgucG93KHRoaXMucmFkaXVzICsgb3RoZXIucmFkaXVzLCAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNlbnRlcihuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBuICsgdGhpcy5yYWRpdXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIEdhbWVPYmplY3RUeXBlPFIgZXh0ZW5kcyBTdGF0ZT4ge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGF0ZXM6IFN0YXRlSG9sZGVyPFI+LCBwdWJsaWMgYm91bmRhcnk6IEJvdW5kYXJ5LCBwdWJsaWMgbW92ZTogTW92ZSkge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVW5pdFR5cGUgZXh0ZW5kcyBHYW1lT2JqZWN0VHlwZTxVbml0U3RhdGU+IHtcclxuICAgIHB1YmxpYyBtb3JwaDogVW5pdFR5cGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHJvbGU6IFJvbGUsIHB1YmxpYyBsaXZlczogbnVtYmVyLCBwdWJsaWMgc2hvdEZyZXE6IG51bWJlciwgc3RhdGVzOiBTdGF0ZUhvbGRlcjxVbml0U3RhdGU+LCBib3VuZGFyeTogQm91bmRhcnksIG1vdmU6IE1vdmUsIHB1YmxpYyBzaG90OiBTaG90VHlwZSwgcHVibGljIGJvdW50aWVzOiBCb3VudHlDYWxsYmFja1tdKSB7XHJcbiAgICAgICAgc3VwZXIoc3RhdGVzLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIFNob3RUeXBlIGV4dGVuZHMgR2FtZU9iamVjdFR5cGU8U3RhdGU+IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkbWc6IG51bWJlciwgc3RhdGVzOiBTdGF0ZUhvbGRlcjxTdGF0ZT4sIGJvdW5kYXJ5OiBCb3VuZGFyeSwgbW92ZTogTW92ZSkge1xyXG4gICAgICAgIHN1cGVyKHN0YXRlcywgYm91bmRhcnksIG1vdmUpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVudmlyb25tZW50VHlwZSBleHRlbmRzIEdhbWVPYmplY3RUeXBlPFN0YXRlPiB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZXM6IFN0YXRlSG9sZGVyPFN0YXRlPiwgYm91bmRhcnk6IEJvdW5kYXJ5LCBtb3ZlOiBNb3ZlKSB7XHJcbiAgICAgICAgc3VwZXIoc3RhdGVzLCBib3VuZGFyeSwgbW92ZSlcclxuICAgIH1cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgTW92ZSB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgc3BlZWQ6IFNwZWVkU3RydWN0ID0gbnVsbCwgbW92ZVZlY3RvcjogVmVjdG9yID0gbnVsbCk6IFZlY3RvciB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudGVkIVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBjb3B5KCk6IE1vdmU7XHJcblxyXG4gICAgYWJzdHJhY3Qgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IE1vdmU7XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0VmVjdG9yKCk6IFZlY3RvcjtcclxufVxyXG5cclxuY2xhc3MgQ29uc3RhbnRNb3ZlIGV4dGVuZHMgTW92ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdmVjdG9yOiBWZWN0b3IpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIHNwZWVkOiBTcGVlZFN0cnVjdCA9IG51bGwsIG1vdmVWZWN0b3I6IFZlY3RvciA9IG51bGwpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbSh0aGlzLnZlY3Rvci54ICogZWxhcHNlZFRpbWUsIHRoaXMudmVjdG9yLnkgKiBlbGFwc2VkVGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvcHkoKTogTW92ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb21PdGhlcih0aGlzLnZlY3RvcikpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IE1vdmUge1xyXG4gICAgICAgIHRoaXMudmVjdG9yLnJvdGF0ZShyb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFZlY3RvcigpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY3RvcjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRHluYW1pY01vdmUgZXh0ZW5kcyBNb3ZlIHtcclxuICAgIHByaXZhdGUgbGFzdFZlY3RvcjogVmVjdG9yID0gVmVjdG9yLnplcm8oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRlY1NwZWVkOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciwgc3BlZWQ6IFNwZWVkU3RydWN0LCBtb3ZlVmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIGxldCB2ZWN0b3IgPSBWZWN0b3IuZnJvbU90aGVyKG1vdmVWZWN0b3IpO1xyXG4gICAgICAgIHZlY3Rvci5zY2FsZShzcGVlZC5kZWMgPT09IDAgPyAxIDogc3BlZWQuY3VyciAvIChzcGVlZC5jdXJyICsgc3BlZWQuZGVjKSk7XHJcbiAgICAgICAgaWYgKHNwZWVkLmFjYyA+IDApIHtcclxuICAgICAgICAgICAgdmVjdG9yLmFkZChWZWN0b3IuY29uc3RydWN0KHNwZWVkLmFjYywgcm90YXRpb24pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0VmVjdG9yID0gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLnNjYWxlKDEgLyBlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgcmV0dXJuIHZlY3RvcjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29weSgpOiBNb3ZlIHtcclxuICAgICAgICByZXR1cm4gbmV3IER5bmFtaWNNb3ZlKHRoaXMuZGVjU3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJvdGF0aW9uKHJvdGF0aW9uOiBudW1iZXIpOiBNb3ZlIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0VmVjdG9yKCk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdFZlY3RvcjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQXVkaW9Qb29sIHtcclxuICAgIHByaXZhdGUgcTogSFRNTEF1ZGlvRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB1cmw6IHN0cmluZywgY291bnQ6IG51bWJlcikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnEucHVzaChuZXcgQXVkaW8odXJsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGxldCBhdWRpbyA9IHRoaXMucS5wb3AoKTtcclxuICAgICAgICBpZiAoIWF1ZGlvKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdWRpbyBQb29sIGlzIG5vdCBiaWcgZW5vdWdoIVwiLCB0aGlzLnVybCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXVkaW8uY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgaWYgKHByb21pc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xLnB1c2goYXVkaW8pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN0YXRlSG9sZGVyPFIgZXh0ZW5kcyBTdGF0ZT4ge1xyXG4gICAgcHJpdmF0ZSBzdGF0ZXM6IFJbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRlZlN0YXRlOiBSLCAuLi5vdGhlcjogUltdKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJPdGhlclwiLCBvdGhlcik7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMucHVzaChkZWZTdGF0ZSk7XHJcbiAgICAgICAgb3RoZXIuZm9yRWFjaCh2YWx1ZSA9PiB0aGlzLnN0YXRlcy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUaGlzXCIsIHRoaXMuc3RhdGVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGVmYXVsdCgpOiBSIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQWxsb3dlZChzdGF0ZTogUik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGZvciAobGV0IHZhbHVlIG9mIHRoaXMuc3RhdGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBzdGF0ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN0YXRlIHtcclxuICAgIHB1YmxpYyB0YWtlTGl2ZXMgPSAobnVtYmVyKSA9PiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHNoYXBlOiBTaGFwZSkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdGF0ZUhvbGRlcigpOiBTdGF0ZUhvbGRlcjxTdGF0ZT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3RhdGVIb2xkZXI8U3RhdGU+KHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBVbml0U3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaGFwZTogU2hhcGUsIHB1YmxpYyB0YWtlTGl2ZXM6IChudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHRvU3RhdGVIb2xkZXIoKTogU3RhdGVIb2xkZXI8VW5pdFN0YXRlPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZUhvbGRlcjxVbml0U3RhdGU+KHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBTaGFwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBDaGFyUmVjdGFuZ2xlKDIwLCAzNSwgXCIjNmE3ZmVkXCIsIDEwLCBcIkFcIiksXHJcbiAgICBQTEFZRVJfU0hJRUxEOiBuZXcgQ2hhclJlY3RhbmdsZSgyMCwgMzUsIFwiI2FmYjlmZlwiLCAxMCwgXCJBXCIpLFxyXG4gICAgQVNURVJPSURfUzogbmV3IENpcmNsZShFTkVNWV9SQURJVVMsIFwiI2ZmMjc2NlwiLCAxMCksXHJcbiAgICBBU1RFUk9JRF9NOiBuZXcgQ2lyY2xlKDIgKiBFTkVNWV9SQURJVVMsIFwiI2JiMmM1YlwiLCAyMCksXHJcbiAgICBBU1RFUk9JRF9MOiBuZXcgQ2lyY2xlKDQgKiBFTkVNWV9SQURJVVMsIFwiI2EzMTYzZVwiLCAzMCksXHJcbiAgICBTSE9UOiBuZXcgUmVjdGFuZ2xlKDUsIDUsIFwiI2ZmZmZmZlwiLCAwKSxcclxuICAgIENMT1VEOiBuZXcgUmVjdGFuZ2xlKDE1MCwgMTUwLCBcIiMwYTFlM2FcIiwgMClcclxufTtcclxuXHJcbmNvbnN0IEJvdW5kYXJ5RW51bSA9IHtcclxuICAgIE5PTkU6IG5ldyBOb0JvdW5kYXJ5KCksXHJcbiAgICBTSE9UOiBuZXcgQm91bmRhcnkoLVNoYXBlRW51bS5BU1RFUk9JRF9MLmdldFdpZHRoKCksIC1TaGFwZUVudW0uQVNURVJPSURfTC5nZXRIZWlnaHQoKSwgV0lEVEggKyBTaGFwZUVudW0uQVNURVJPSURfTC5nZXRXaWR0aCgpLCBIRUlHSFQgKyBTaGFwZUVudW0uQVNURVJPSURfTC5nZXRXaWR0aCgpKSxcclxuICAgIENMT1VEOiBuZXcgQm91bmRhcnkoLVNoYXBlRW51bS5DTE9VRC53aWR0aCwgLVNoYXBlRW51bS5DTE9VRC5oZWlnaHQsIFdJRFRIICsgU2hhcGVFbnVtLkNMT1VELndpZHRoLCBIRUlHSFQgKyBTaGFwZUVudW0uQ0xPVUQuaGVpZ2h0KVxyXG59O1xyXG5cclxuY29uc3QgQm91bnR5RW51bSA9IHtcclxuICAgIEJPVU5UWV9TOiAoZW5lbXk6IFVuaXQsIHNob3Q6IEdhbWVPYmplY3QsIHR5cGU6IEhpdFR5cGVFbnVtKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gSGl0VHlwZUVudW0uREVTVFJPWUVEKVxyXG4gICAgICAgICAgICBzY29yZSArPSA1MDtcclxuICAgIH0sXHJcbiAgICBCT1VOVFlfTTogKGVuZW15OiBVbml0LCBzaG90OiBHYW1lT2JqZWN0LCB0eXBlOiBIaXRUeXBlRW51bSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09IEhpdFR5cGVFbnVtLkhJVClcclxuICAgICAgICAgICAgc2NvcmUgKz0gMzA7XHJcbiAgICB9LFxyXG4gICAgQk9VTlRZX0w6IChlbmVteTogVW5pdCwgc2hvdDogR2FtZU9iamVjdCwgdHlwZTogSGl0VHlwZUVudW0pID0+IHtcclxuICAgICAgICBpZiAodHlwZSA9PSBIaXRUeXBlRW51bS5ISVQpXHJcbiAgICAgICAgICAgIHNjb3JlICs9IDEwO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgTW92ZVR5cGVFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgRHluYW1pY01vdmUoREVDRUxFUkFUSU9OX1NQRUVEKSxcclxuICAgIEVORU1ZX1NJTVBMRTogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjEpKSxcclxuICAgIFBMQVlFUl9TSE9UOiBuZXcgQ29uc3RhbnRNb3ZlKFZlY3Rvci5mcm9tKDAsIC0wLjUpKSxcclxuICAgIEVORU1ZX1NIT1Q6IG5ldyBDb25zdGFudE1vdmUoVmVjdG9yLmZyb20oMCwgMC40KSksXHJcbiAgICBDTE9VRDogbmV3IENvbnN0YW50TW92ZShWZWN0b3IuZnJvbSgwLCAwLjA1KSlcclxufTtcclxuXHJcbmNvbnN0IFN0YXRlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFVuaXRTdGF0ZShTaGFwZUVudW0uUExBWUVSLCBudW1iZXIgPT4gbnVtYmVyKSxcclxuICAgIFBMQVlFUl9TSElFTEQ6IG5ldyBVbml0U3RhdGUoU2hhcGVFbnVtLlBMQVlFUl9TSElFTEQsICgpID0+IDApXHJcbn07XHJcblxyXG5jb25zdCBTdGF0ZXNFbnVtID0ge1xyXG4gICAgUExBWUVSOiBuZXcgU3RhdGVIb2xkZXI8VW5pdFN0YXRlPihcclxuICAgICAgICBTdGF0ZUVudW0uUExBWUVSLFxyXG4gICAgICAgIFN0YXRlRW51bS5QTEFZRVJfU0hJRUxEXHJcbiAgICApLFxyXG4gICAgQVNURVJPSURfUzogbmV3IFVuaXRTdGF0ZShTaGFwZUVudW0uQVNURVJPSURfUywgbnVtYmVyID0+IG51bWJlcikudG9TdGF0ZUhvbGRlcigpLFxyXG4gICAgQVNURVJPSURfTTogbmV3IFVuaXRTdGF0ZShTaGFwZUVudW0uQVNURVJPSURfTSwgbnVtYmVyID0+IG51bWJlcikudG9TdGF0ZUhvbGRlcigpLFxyXG4gICAgQVNURVJPSURfTDogbmV3IFVuaXRTdGF0ZShTaGFwZUVudW0uQVNURVJPSURfTCwgbnVtYmVyID0+IG51bWJlcikudG9TdGF0ZUhvbGRlcigpLFxyXG4gICAgU0hPVDogbmV3IFN0YXRlKFNoYXBlRW51bS5TSE9UKS50b1N0YXRlSG9sZGVyKCksXHJcbiAgICBDTE9VRDogbmV3IFN0YXRlKFNoYXBlRW51bS5DTE9VRCkudG9TdGF0ZUhvbGRlcigpXHJcbn07XHJcblxyXG5jb25zdCBTaG90VHlwZUVudW0gPSB7XHJcbiAgICBQTEFZRVI6IG5ldyBTaG90VHlwZSgxLCBTdGF0ZXNFbnVtLlNIT1QsIEJvdW5kYXJ5RW51bS5TSE9ULCBNb3ZlVHlwZUVudW0uUExBWUVSX1NIT1QpLFxyXG4gICAgRU5FTVk6IG5ldyBTaG90VHlwZSgxLCBTdGF0ZXNFbnVtLlNIT1QsIEJvdW5kYXJ5RW51bS5TSE9ULCBNb3ZlVHlwZUVudW0uRU5FTVlfU0hPVClcclxufTtcclxuXHJcbmNvbnN0IFVuaXRUeXBlRW51bSA9IHtcclxuICAgIFBMQVlFUjogbmV3IFVuaXRUeXBlKFJvbGUuUExBWUVSLCAzLCAwLCBTdGF0ZXNFbnVtLlBMQVlFUiwgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5QTEFZRVIsIFNob3RUeXBlRW51bS5QTEFZRVIsIFtdKSxcclxuICAgIEFTVEVST0lEX1M6IG5ldyBVbml0VHlwZShSb2xlLkVORU1ZLCAxLCAwLCBTdGF0ZXNFbnVtLkFTVEVST0lEX1MsIEJvdW5kYXJ5RW51bS5OT05FLCBNb3ZlVHlwZUVudW0uRU5FTVlfU0lNUExFLCBTaG90VHlwZUVudW0uUExBWUVSLCBbQm91bnR5RW51bS5CT1VOVFlfU10pLFxyXG4gICAgQVNURVJPSURfTTogbmV3IFVuaXRUeXBlKFJvbGUuRU5FTVksIDEsIDAsIFN0YXRlc0VudW0uQVNURVJPSURfTSwgQm91bmRhcnlFbnVtLk5PTkUsIE1vdmVUeXBlRW51bS5FTkVNWV9TSU1QTEUsIFNob3RUeXBlRW51bS5FTkVNWSwgW0JvdW50eUVudW0uQk9VTlRZX01dKSxcclxuICAgIEFTVEVST0lEX0w6IG5ldyBVbml0VHlwZShSb2xlLkVORU1ZLCAxLCAwLCBTdGF0ZXNFbnVtLkFTVEVST0lEX0wsIEJvdW5kYXJ5RW51bS5OT05FLCBNb3ZlVHlwZUVudW0uRU5FTVlfU0lNUExFLCBTaG90VHlwZUVudW0uRU5FTVksIFtCb3VudHlFbnVtLkJPVU5UWV9MXSksXHJcbn07XHJcblxyXG5jb25zdCBFbnZpcm9ubWVudFR5cGVFbnVtID0ge1xyXG4gICAgQ0xPVUQ6IG5ldyBFbnZpcm9ubWVudFR5cGUoU3RhdGVzRW51bS5DTE9VRCwgQm91bmRhcnlFbnVtLkNMT1VELCBNb3ZlVHlwZUVudW0uQ0xPVUQpXHJcbn07XHJcblxyXG5jb25zdCBBdWRpb1Bvb2xFbnVtID0ge1xyXG4gICAgUExBWUVSX1NIT1Q6IG5ldyBBdWRpb1Bvb2woXCJhdWRpby9TaG90LndhdlwiLCA1KSxcclxuICAgIENPTExJU0lPTjogbmV3IEF1ZGlvUG9vbChcImF1ZGlvL0NvbGxpc2lvbi53YXZcIiwgMTApXHJcbn07XHJcblxyXG4vL2VuZHJlZ2lvblxyXG5cclxuLy9yZWdpb24gR2FtZU9iamVjdHNcclxudHlwZSBIaXRDYWxsYmFjayA9IChvdGhlcjogR2FtZU9iamVjdCkgPT4gYW55O1xyXG50eXBlIERlc3Ryb3llZENhbGxiYWNrID0gKG9iamVjdDogR2FtZU9iamVjdCwgY2F1c2U6IERlYXRoQ2F1c2VFbnVtKSA9PiBhbnk7XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBHYW1lT2JqZWN0IHtcclxuICAgIHB1YmxpYyByb3RhdGlvbjogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBtb3ZlOiBNb3ZlID0gbnVsbDtcclxuICAgIHB1YmxpYyBtb3ZlVmVjdG9yOiBWZWN0b3IgPSBWZWN0b3IuemVybygpO1xyXG5cclxuICAgIHByb3RlY3RlZCBzcGVlZDogbnVtYmVyID0gMDtcclxuICAgIHByb3RlY3RlZCBzdGF0ZTogU3RhdGU7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogR2FtZU9iamVjdFR5cGU8U3RhdGU+LCBwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgcm90OiBudW1iZXIsIHB1YmxpYyBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm1vdmUgPSB0eXBlLm1vdmUuY29weSgpLnNldFJvdGF0aW9uKHJvdCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHR5cGUuc3RhdGVzLmdldERlZmF1bHQoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IgPSB0aGlzLm1vdmUubW92ZShlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgbGV0IG9sZCA9IFZlY3Rvci5mcm9tKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54ICsgdGhpcy5tb3ZlVmVjdG9yLngsIHRoaXMueSArIHRoaXMubW92ZVZlY3Rvci55LCB0aGlzLnN0YXRlLnNoYXBlKSkge1xyXG4gICAgICAgICAgICB0aGlzLnggKz0gdGhpcy5tb3ZlVmVjdG9yLng7XHJcbiAgICAgICAgICAgIHRoaXMueSArPSB0aGlzLm1vdmVWZWN0b3IueTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudHlwZS5ib3VuZGFyeSBpbnN0YW5jZW9mIE5vQm91bmRhcnkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud2FycFRvT3RoZXJTaWRlKG9sZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSAhPSBVbml0VHlwZUVudW0uUExBWUVSKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uT1VUX09GX0JPVU5EUyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB3YXJwVG9PdGhlclNpZGUob2xkOiBWZWN0b3IpIHtcclxuICAgICAgICBpZiAodGhpcy54ID4gV0lEVEgvKiAmJiAhKG9sZC54ID4gV0lEVEgpKi8pXHJcbiAgICAgICAgICAgIHRoaXMueCA9IC10aGlzLmdldFdpZHRoKCk7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy54ICsgdGhpcy5nZXRXaWR0aCgpIDwgMC8qICYmICEob2xkLnggKyB0aGlzLmdldFdpZHRoKCkgPCAwKSovKVxyXG4gICAgICAgICAgICB0aGlzLnggPSBXSURUSDtcclxuICAgICAgICBpZiAodGhpcy55ID4gSEVJR0hULyogJiYgIShvbGQueSA+IEhFSUdIVCkqLylcclxuICAgICAgICAgICAgdGhpcy55ID0gLXRoaXMuZ2V0SGVpZ2h0KCk7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy55ICsgdGhpcy5nZXRIZWlnaHQoKSA8IDAvKiAmJiAhKG9sZC55ICsgdGhpcy5nZXRIZWlnaHQoKSA8IDApKi8pXHJcbiAgICAgICAgICAgIHRoaXMueSA9IEhFSUdIVDtcclxuICAgIH1cclxuXHJcbiAgICBpc0NvbGxpZGluZ1dpdGgob3RoZXI6IEdhbWVPYmplY3QpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaGFwZS5pc0NvbGxpZGluZ1dpdGgoVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpLCBvdGhlci5zdGF0ZS5zaGFwZSwgVmVjdG9yLmZyb20ob3RoZXIueCwgb3RoZXIueSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy54ICsgMC41ICogdGhpcy5nZXRXaWR0aCgpLCB0aGlzLnkgKyAwLjUgKiB0aGlzLmdldEhlaWdodCgpKTtcclxuICAgICAgICBjb250ZXh0LnJvdGF0ZShyYWQodGhpcy5yb3RhdGlvbikpO1xyXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0wLjUgKiB0aGlzLmdldFdpZHRoKCksIC0wLjUgKiB0aGlzLmdldEhlaWdodCgpKTtcclxuICAgICAgICB0aGlzLnN0YXRlLnNoYXBlLnJlbmRlcihjb250ZXh0KTtcclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgb25IaXQob3RoZXI6IEdhbWVPYmplY3QpO1xyXG5cclxuICAgIHByb3RlY3RlZCBjaGFuZ2VTdGF0ZSh0bzogU3RhdGUsIGNvb2xkb3duOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy50eXBlLnN0YXRlcy5pc0FsbG93ZWQodG8pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0bztcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0YXRlID0gdGhpcy50eXBlLnN0YXRlcy5nZXREZWZhdWx0KCksIGNvb2xkb3duKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9yZWdpb24gSGVscGVyIE1ldGhvZHNcclxuICAgIHB1YmxpYyBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNoYXBlLmdldFdpZHRoKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2hhcGUuZ2V0SGVpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbG9yKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2hhcGUuY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1hc3MoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zaGFwZS5tYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZW5kcmVnaW9uXHJcbn1cclxuXHJcbmNsYXNzIFVuaXQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuXHJcbiAgICBwdWJsaWMgb25IaXQob3RoZXI6IEdhbWVPYmplY3QpIHtcclxuICAgICAgICBpZiAoLyp0aGlzLnR5cGUucm9sZSA9PSBSb2xlLkVORU1ZICYmIG90aGVyIGluc3RhbmNlb2YgVW5pdCAmJiBvdGhlci50eXBlLnJvbGUgPT0gUm9sZS5FTkVNWSovdHJ1ZSkge1xyXG4gICAgICAgICAgICBsZXQgY29sbGlzaW9uID0gY29sbGlkZSh0aGlzLCBvdGhlciBhcyBVbml0KTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVmVjdG9yID0gY29sbGlzaW9uLmE7XHJcbiAgICAgICAgICAgIG90aGVyLm1vdmVWZWN0b3IgPSBjb2xsaXNpb24uYjtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlID0gbmV3IENvbnN0YW50TW92ZShjb2xsaXNpb24uYSk7XHJcbiAgICAgICAgICAgIG90aGVyLm1vdmUgPSBuZXcgQ29uc3RhbnRNb3ZlKGNvbGxpc2lvbi5iKTtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IE1BWF9TUEVFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGl2ZXMgPCAxKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUubW9ycGgpIHtcclxuICAgICAgICAgICAgICAgIG1vcnBoKHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3llZCh0aGlzLCBEZWF0aENhdXNlRW51bS5MSVZFUyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBsaXZlczogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHB1YmxpYyB0eXBlOiBVbml0VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICAgICAgdGhpcy5saXZlcyA9IHR5cGUubGl2ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgaXNBbGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saXZlcyA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaXNJbkJvdW5kcygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLmJvdW5kYXJ5LmlzSW5Cb3VuZHModGhpcy54LCB0aGlzLnksIHRoaXMuc3RhdGUuc2hhcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZTogbnVtYmVyLCByb3RhdGlvbjogbnVtYmVyID0gMCwgbW92ZW1lbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZShlbGFwc2VkVGltZSwgcm90YXRpb24sIG1vdmVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBVbml0VHlwZUVudW0uUExBWUVSKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnR5cGUuc2hvdEZyZXEpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvb3QoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdCgpOiBTaG90IHtcclxuICAgICAgICBsZXQgaWQgPSBzaG90SWRDb3VudGVyO1xyXG4gICAgICAgIGxldCBzaG90ID0gbmV3IFNob3QoaWQsIHRoaXMudHlwZSwgdGhpcy50eXBlLnNob3QsIHRoaXMueCArIHRoaXMuZ2V0V2lkdGgoKSAvIDIsIHRoaXMueSArIHRoaXMuZ2V0SGVpZ2h0KCkgLyAyLCB0aGlzLnJvdGF0aW9uLCAob2JqZWN0LCBjYXVzZSkgPT4ge1xyXG4gICAgICAgICAgICBzaG90cy5kZWxldGUob2JqZWN0LmlkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdmVWZWN0b3IuYWRkKFZlY3Rvci5jb25zdHJ1Y3QoS05PQ0tfQkFDSywgdGhpcy5yb3RhdGlvbikuc2NhbGUoLTEpKTtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTUFYX1NQRUVELCB0aGlzLnNwZWVkICsgKEtOT0NLX0JBQ0spKTtcclxuICAgICAgICBzaG90cy5zZXQoaWQsIHNob3QpO1xyXG4gICAgICAgIHNob3RJZENvdW50ZXIrKztcclxuICAgICAgICBBdWRpb1Bvb2xFbnVtLlBMQVlFUl9TSE9ULnBsYXkoKTtcclxuICAgICAgICByZXR1cm4gc2hvdDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUGxheWVyIGV4dGVuZHMgVW5pdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwdWJsaWMgdHlwZTogVW5pdFR5cGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCByb3Q6IG51bWJlciwgb25EZXN0cm95ZWQ6IERlc3Ryb3llZENhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIHgsIHksIHJvdCwgb25EZXN0cm95ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkhpdChvdGhlcjogR2FtZU9iamVjdCkge1xyXG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFVuaXQgJiYgb3RoZXIudHlwZS5yb2xlID09IFJvbGUuRU5FTVkpIHtcclxuICAgICAgICAgICAgdGhpcy5saXZlcyAtPSB0aGlzLnN0YXRlLnRha2VMaXZlcygxKTtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShTdGF0ZUVudW0uUExBWUVSX1NISUVMRCwgMjAwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGl2ZXMgPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uTElWRVMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWU6IG51bWJlciwgcm90YXRpb246IG51bWJlciA9IDAsIG1vdmVtZW50OiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbW9kKHRoaXMucm90YXRpb24gKyByb3RhdGlvbiAqIFJPVEFUSU9OX1NQRUVEICogZWxhcHNlZFRpbWUsIDM2MCk7XHJcbiAgICAgICAgbGV0IG9sZFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgoMCwgdGhpcy5zcGVlZCAtIChERUNFTEVSQVRJT05fU1BFRUQgKiBlbGFwc2VkVGltZSAvIDEwMCkpO1xyXG4gICAgICAgIGxldCBkZWNTcGVlZCA9IG9sZFNwZWVkIC0gdGhpcy5zcGVlZDtcclxuICAgICAgICBsZXQgYWNjU3BlZWQgPSAwO1xyXG4gICAgICAgIG9sZFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgICAgICBpZiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKE1BWF9TUEVFRCwgdGhpcy5zcGVlZCArIChBQ0NfU1BFRUQgKiBlbGFwc2VkVGltZSAvIDEwMCkpO1xyXG4gICAgICAgICAgICBhY2NTcGVlZCA9IHRoaXMuc3BlZWQgLSBvbGRTcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb3ZlVmVjdG9yID0gdGhpcy5tb3ZlLm1vdmUoZWxhcHNlZFRpbWUsIHRoaXMucm90YXRpb24sIHtcclxuICAgICAgICAgICAgY3Vycjogb2xkU3BlZWQsXHJcbiAgICAgICAgICAgIGRlYzogZGVjU3BlZWQsXHJcbiAgICAgICAgICAgIGFjYzogYWNjU3BlZWRcclxuICAgICAgICB9LCB0aGlzLm1vdmVWZWN0b3IpO1xyXG5cclxuICAgICAgICBsZXQgb2xkID0gVmVjdG9yLmZyb20odGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmVWZWN0b3IueDtcclxuICAgICAgICB0aGlzLnkgKz0gdGhpcy5tb3ZlVmVjdG9yLnk7XHJcbiAgICAgICAgdGhpcy53YXJwVG9PdGhlclNpZGUob2xkKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2hvdCBleHRlbmRzIEdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcHVibGljIGluaXRpYXRvcjogVW5pdFR5cGUsIHB1YmxpYyB0eXBlOiBTaG90VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBHYW1lT2JqZWN0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzQ29sbGlkaW5nV2l0aChvdGhlcikgJiYgdGhpcy5pbml0aWF0b3IgIT09IG90aGVyLnR5cGU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICAgICAgbGV0IG8gPSBvdGhlciBhcyBVbml0O1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRvciA9PSBvLnR5cGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBvLnR5cGUuYm91bnRpZXMuZm9yRWFjaChib3VudHkgPT4ge1xyXG4gICAgICAgICAgICBib3VudHkobywgdGhpcywgSGl0VHlwZUVudW0uSElUKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG8ubGl2ZXMgLT0gdGhpcy50eXBlLmRtZztcclxuICAgICAgICBvLm9uSGl0KHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25EZXN0cm95ZWQodGhpcywgRGVhdGhDYXVzZUVudW0uQ09MTElTSU9OKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRW52aXJvbm1lbnQgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHR5cGU6IEVudmlyb25tZW50VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJvdDogbnVtYmVyLCBvbkRlc3Ryb3llZDogRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihpZCwgdHlwZSwgeCwgeSwgcm90LCBvbkRlc3Ryb3llZCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uSGl0KG90aGVyOiBHYW1lT2JqZWN0KSB7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIExldmVsIHtcclxuICAgIHByaXZhdGUgbGV2ZWw6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGxldmVsU3Bhd25zOiBudW1iZXIgPSAxO1xyXG4gICAgcHJpdmF0ZSBwYXNzZWRTcGF3bnM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgY3VyckNvb2xkb3duOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGxldmVsU2NhbGU6IExldmVsU2NhbGUsIHByaXZhdGUgZW5lbXlDb3VudGVyOiAoKSA9PiBudW1iZXIsIHByaXZhdGUgY29vbGRvd246IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybiB0cnVlIGlmIGVuZW1pZXMgY2FuIGJlIHNwYXduZWQsIGZhbHNlIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZUxldmVsKGVsYXBzZWRUaW1lOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FsbFNwYXduZWQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWxsRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0Nvb2xkb3duKGVsYXBzZWRUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmxldmVsKys7XHJcbiAgICAgICAgdGhpcy5sZXZlbFNwYXducyA9IHRoaXMubGV2ZWxTY2FsZSh0aGlzLmxldmVsKTtcclxuICAgICAgICB0aGlzLnBhc3NlZFNwYXducyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VyckNvb2xkb3duID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGltaXQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbFNwYXducztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGV2ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQWxsU3Bhd25lZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmVteUNvdW50ZXIoKSA+PSB0aGlzLmxldmVsU3Bhd25zKVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQWxsRGVzdHJveWVkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVuZW15Q291bnRlcigpID09IDApXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tDb29sZG93bihlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VyckNvb2xkb3duID4gdGhpcy5jb29sZG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnJhaXNlTGV2ZWwoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJDb29sZG93biArPSBlbGFwc2VkVGltZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYWlzZUxldmVsKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxufVxyXG5cclxuLy9lbmRyZWdpb25cclxuXHJcbnZhciBmcm9udENhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbnZhciBmcm9udENvbnRleHQgPSBmcm9udENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG52YXIgYmFja0NhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuYmFja0NhbnZhcy53aWR0aCA9IFdJRFRIO1xyXG5iYWNrQ2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxudmFyIGJhY2tDb250ZXh0ID0gYmFja0NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG52YXIgc3RhcnQgPSBudWxsO1xyXG52YXIgY3VycmVudElucHV0ID0ge1xyXG4gICAgc3BhY2U6IGZhbHNlLFxyXG4gICAgbGVmdDogZmFsc2UsXHJcbiAgICByaWdodDogZmFsc2UsXHJcbiAgICB1cDogZmFsc2UsXHJcbiAgICBkb3duOiBmYWxzZVxyXG59O1xyXG52YXIgcHJpb3JJbnB1dCA9IHtcclxuICAgIHNwYWNlOiBmYWxzZSxcclxuICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgdXA6IGZhbHNlLFxyXG4gICAgZG93bjogZmFsc2VcclxufTtcclxuXHJcbnZhciBwbGF5ZXIgPSBuZXcgUGxheWVyKDAsIFVuaXRUeXBlRW51bS5QTEFZRVIsIDAsIDAsIDAsICgpID0+IHtcclxuICAgIHVwZGF0ZVN0YXR1cygpO1xyXG4gICAgZW5kR2FtZSgpO1xyXG59KTtcclxucGxheWVyLnggPSBXSURUSCAvIDIgLSBwbGF5ZXIuZ2V0V2lkdGgoKSAvIDI7XHJcbnBsYXllci55ID0gSEVJR0hUIC0gcGxheWVyLmdldEhlaWdodCgpO1xyXG52YXIgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZV90ZXh0XCIpO1xyXG52YXIgbGl2ZXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXZlc190ZXh0XCIpO1xyXG52YXIgbGV2ZWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbF90ZXh0XCIpO1xyXG5cclxudmFyIGVuZW15VGltZVRvU3Bhd24gPSAwO1xyXG52YXIgZW5lbXlJZENvdW50ZXIgPSAwO1xyXG52YXIgc2hvdElkQ291bnRlciA9IDA7XHJcbnZhciBlbnZpcm9ubWVudElkQ291bnRlciA9IDA7XHJcbnZhciBlbmVtaWVzID0gbmV3IE1hcDxudW1iZXIsIFVuaXQ+KCk7XHJcbnZhciBzaG90cyA9IG5ldyBNYXA8bnVtYmVyLCBTaG90PigpO1xyXG52YXIgZW52aXJvbm1lbnRzID0gbmV3IE1hcDxudW1iZXIsIEVudmlyb25tZW50PigpO1xyXG52YXIgcnVubmluZzogYm9vbGVhbiA9IHRydWU7XHJcbmxldCBzcGF3bkNvb2xkb3duOiBib29sZWFuID0gdHJ1ZTtcclxubGV0IGxldmVsOiBMZXZlbCA9IG5ldyBMZXZlbChsdmwgPT4gRU5FTVlfU0NBTElORyAqIGx2bCwgKCkgPT4gZW5lbWllcy5zaXplLCBMVkxfQ09PTERPV04pO1xyXG5cclxuVW5pdFR5cGVFbnVtLkFTVEVST0lEX00ubW9ycGggPSBVbml0VHlwZUVudW0uQVNURVJPSURfUztcclxuVW5pdFR5cGVFbnVtLkFTVEVST0lEX0wubW9ycGggPSBVbml0VHlwZUVudW0uQVNURVJPSURfTTtcclxuXHJcbmZ1bmN0aW9uIGxvb3AodGltZXN0YW1wKSB7XHJcbiAgICBpZiAoIXJ1bm5pbmcpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdXBkYXRlU3RhdHVzKGxldmVsLmdldExldmVsKCkpO1xyXG4gICAgaWYgKCFzdGFydCkgc3RhcnQgPSB0aW1lc3RhbXA7XHJcbiAgICBsZXQgZWxhcHNlZFRpbWUgPSB0aW1lc3RhbXAgLSBzdGFydDtcclxuICAgIHN0YXJ0ID0gdGltZXN0YW1wO1xyXG5cclxuICAgIGlmIChsZXZlbC51cGRhdGVMZXZlbChlbGFwc2VkVGltZSkpXHJcbiAgICAgICAgY3JlYXRlRW5lbXkoZWxhcHNlZFRpbWUpO1xyXG4gICAgY3JlYXRlRW52aXJvbm1lbnQoKTtcclxuICAgIHVwZGF0ZShlbGFwc2VkVGltZSk7XHJcbiAgICByZW5kZXIoZWxhcHNlZFRpbWUpO1xyXG4gICAgcG9sbElucHV0KCk7XHJcblxyXG4gICAgZnJvbnRDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcclxuICAgIGZyb250Q29udGV4dC5kcmF3SW1hZ2UoYmFja0NhbnZhcywgMCwgMCk7XHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvbGxJbnB1dCgpIHtcclxuICAgIHByaW9ySW5wdXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRJbnB1dCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQuc3BhY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1VwJzpcclxuICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcclxuICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY3VycmVudElucHV0LmxlZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVLZXl1cChldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcgJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LnNwYWNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXQudXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcclxuICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgY3VycmVudElucHV0LmxlZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgY2FzZSAnZCc6XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dC5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaGFuZGxlS2V5dXApO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlRW5lbXkoZWxhcHNlZFRpbWU6IG51bWJlcikge1xyXG4gICAgZW5lbXlUaW1lVG9TcGF3biArPSBlbGFwc2VkVGltZTtcclxuICAgIGlmIChlbmVteVRpbWVUb1NwYXduID4gRU5FTVlfU1BBV05fUkFURSkge1xyXG4gICAgICAgIGVuZW15VGltZVRvU3Bhd24gPSAwO1xyXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpICogRU5FTVlfU1BBV05fUFJPQkFCSUxJVFkgPCAxKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGVuZW15SWRDb3VudGVyO1xyXG4gICAgICAgICAgICBsZXQgdHlwZSA9IFVuaXRUeXBlRW51bS5BU1RFUk9JRF9NO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBVbml0VHlwZUVudW0uQVNURVJPSURfTDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gVW5pdFR5cGVFbnVtLkFTVEVST0lEX1M7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbWllcy5zZXQoaWQsIG5ldyBVbml0KGlkLCB0eXBlLCBNYXRoLnJhbmRvbSgpICogKFdJRFRIIC0gdHlwZS5zdGF0ZXMuZ2V0RGVmYXVsdCgpLnNoYXBlLmdldFdpZHRoKCkpLCAtdHlwZS5zdGF0ZXMuZ2V0RGVmYXVsdCgpLnNoYXBlLmdldEhlaWdodCgpLCBNYXRoLnJhbmRvbSgpICogMzYwLCAob2JqZWN0LCBjYXVzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhdXNlID09IERlYXRoQ2F1c2VFbnVtLkxJVkVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKG9iamVjdCBhcyBVbml0KS50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IGJvdW50eShvYmplY3QgYXMgVW5pdCwgbnVsbCwgSGl0VHlwZUVudW0uREVTVFJPWUVEKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbmVtaWVzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZW5lbXlJZENvdW50ZXIrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVudmlyb25tZW50KCkge1xyXG4gICAgc3dpdGNoIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBsZXQgaWQgPSBlbnZpcm9ubWVudElkQ291bnRlcjtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnRzLnNldChpZCwgbmV3IEVudmlyb25tZW50KGlkLCBFbnZpcm9ubWVudFR5cGVFbnVtLkNMT1VELCBNYXRoLnJhbmRvbSgpICogV0lEVEgsIC1FbnZpcm9ubWVudFR5cGVFbnVtLkNMT1VELnN0YXRlcy5nZXREZWZhdWx0KCkuc2hhcGUuZ2V0SGVpZ2h0KCksIDAsIChvYmplY3QsIGNhdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMuZGVsZXRlKG9iamVjdC5pZCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnRJZENvdW50ZXIrKztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY29sbGlkZShhOiBVbml0LCBiOiBVbml0KTogQ29sbGlzaW9uUmVzdWx0IHtcclxuICAgIC8vaHR0cDovL3d3dy52b2Jhcmlhbi5jb20vY29sbGlzaW9ucy8yZGNvbGxpc2lvbnMyLnBkZlxyXG4gICAgbGV0IHVuID0gVmVjdG9yLmZyb20oKGIueCArIDAuNSAqIGIuZ2V0V2lkdGgoKSkgLSAoYS54ICsgMC41ICogYS5nZXRXaWR0aCgpKSwgKGIueSArIDAuNSAqIGIuZ2V0SGVpZ2h0KCkpIC0gKGEueSArIDAuNSAqIGEuZ2V0SGVpZ2h0KCkpKS5ub3JtYWxpemUoKTtcclxuICAgIGxldCB1dCA9IFZlY3Rvci5wZXJwZW5kaWN1bGFyKHVuKTtcclxuICAgIGxldCB2MW4gPSBWZWN0b3IuZG90UHJvZHVjdCh1biwgYS5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2MXQgPSBWZWN0b3IuZG90UHJvZHVjdCh1dCwgYS5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2Mm4gPSBWZWN0b3IuZG90UHJvZHVjdCh1biwgYi5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2MnQgPSBWZWN0b3IuZG90UHJvZHVjdCh1dCwgYi5tb3ZlLmdldFZlY3RvcigpKTtcclxuICAgIGxldCB2XzF0ID0gdjF0O1xyXG4gICAgbGV0IHZfMnQgPSB2MnQ7XHJcblxyXG4gICAgbGV0IHZfMW4gPSAodjFuICogKGEuZ2V0TWFzcygpIC0gYi5nZXRNYXNzKCkpICsgMiAqIGIuZ2V0TWFzcygpICogdjJuKSAvIChhLmdldE1hc3MoKSArIGIuZ2V0TWFzcygpKTtcclxuICAgIGxldCB2XzJuID0gKHYybiAqIChiLmdldE1hc3MoKSAtIGEuZ2V0TWFzcygpKSArIDIgKiBhLmdldE1hc3MoKSAqIHYxbikgLyAoYS5nZXRNYXNzKCkgKyBiLmdldE1hc3MoKSk7XHJcblxyXG4gICAgQXVkaW9Qb29sRW51bS5DT0xMSVNJT04ucGxheSgpO1xyXG4gICAgd2hpbGUgKGEuaXNDb2xsaWRpbmdXaXRoKGIpKSB7XHJcbiAgICAgICAgYS51cGRhdGUoLTEwKTtcclxuICAgICAgICBiLnVwZGF0ZSgtMTApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYTogVmVjdG9yLmZyb21PdGhlcih1bikuc2NhbGUodl8xbikuYWRkKFZlY3Rvci5mcm9tT3RoZXIodXQpLnNjYWxlKHZfMXQpKSxcclxuICAgICAgICBiOiBWZWN0b3IuZnJvbU90aGVyKHVuKS5zY2FsZSh2XzJuKS5hZGQoVmVjdG9yLmZyb21PdGhlcih1dCkuc2NhbGUodl8ydCkpXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb3JwaCh1bml0OiBVbml0KSB7XHJcbiAgICBsZXQgaWQgPSBlbmVteUlkQ291bnRlcisrO1xyXG4gICAgbGV0IGNvcHkgPSBuZXcgVW5pdChpZCwgdW5pdC50eXBlLm1vcnBoLCB1bml0LngsIHVuaXQueSwgMCwgKG9iamVjdCwgY2F1c2UpID0+IHtcclxuICAgICAgICBpZiAoY2F1c2UgPT0gRGVhdGhDYXVzZUVudW0uTElWRVMpIHtcclxuICAgICAgICAgICAgKG9iamVjdCBhcyBVbml0KS50eXBlLmJvdW50aWVzLmZvckVhY2goYm91bnR5ID0+IGJvdW50eShvYmplY3QgYXMgVW5pdCwgbnVsbCwgSGl0VHlwZUVudW0uREVTVFJPWUVEKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZW1pZXMuZGVsZXRlKGlkKTtcclxuICAgIH0pO1xyXG4gICAgdW5pdC50eXBlID0gdW5pdC50eXBlLm1vcnBoO1xyXG4gICAgZW5lbWllcy5zZXQoaWQsIGNvcHkpO1xyXG4gICAgY29weS5tb3ZlID0gdW5pdC5tb3ZlLmNvcHkoKTtcclxuICAgIGNvcHkubW92ZS5zZXRSb3RhdGlvbigtMTIwKTtcclxuICAgIHVuaXQubW92ZS5zZXRSb3RhdGlvbigxMjApO1xyXG4gICAgd2hpbGUgKHVuaXQuaXNDb2xsaWRpbmdXaXRoKGNvcHkpKSB7XHJcbiAgICAgICAgdW5pdC51cGRhdGUoMTApO1xyXG4gICAgICAgIGNvcHkudXBkYXRlKDEwKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlKGVsYXBzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgIGlmIChjdXJyZW50SW5wdXQuc3BhY2UgJiYgIXByaW9ySW5wdXQuc3BhY2UpIHtcclxuICAgICAgICBwbGF5ZXIuc2hvb3QoKTtcclxuICAgIH1cclxuICAgIHBsYXllci51cGRhdGUoZWxhcHNlZFRpbWUsIGN1cnJlbnRJbnB1dC5sZWZ0ID8gLTEgOiAoY3VycmVudElucHV0LnJpZ2h0ID8gMSA6IDApLCBjdXJyZW50SW5wdXQudXApO1xyXG5cclxuICAgIGVuZW1pZXMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUudXBkYXRlKGVsYXBzZWRUaW1lKSk7XHJcblxyXG4gICAgbGV0IGNvbGxpc2lvblBhaXJzOiBDb2xsaXNpb25QYWlyW10gPSBbXTtcclxuXHJcbiAgICBzaG90cy5mb3JFYWNoKHNob3QgPT4ge1xyXG4gICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IHNob3QsIGI6IHBsYXllcn0pO1xyXG4gICAgICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiB7XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblBhaXJzLnB1c2goe2E6IHNob3QsIGI6IGVuZW15fSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gICAgbGV0IGVuZW15TGlzdDogVW5pdFtdID0gW107XHJcbiAgICBlbmVtaWVzLmZvckVhY2goKHZhbHVlKSA9PiBlbmVteUxpc3QucHVzaCh2YWx1ZSkpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmVteUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb2xsaXNpb25QYWlycy5wdXNoKHthOiBwbGF5ZXIsIGI6IGVuZW15TGlzdFtpXX0pO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGVuZW15TGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb2xsaXNpb25QYWlycy5wdXNoKHthOiBlbmVteUxpc3RbaV0sIGI6IGVuZW15TGlzdFtqXX0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbnZpcm9ubWVudHMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS51cGRhdGUoZWxhcHNlZFRpbWUpKTtcclxuXHJcbiAgICBjaGVja0NvbGxpc2lvbnMoY29sbGlzaW9uUGFpcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0NvbGxpc2lvbnMocGFpcnM6IENvbGxpc2lvblBhaXJbXSkge1xyXG4gICAgcGFpcnMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgaWYgKHZhbHVlLmEuaXNDb2xsaWRpbmdXaXRoKHZhbHVlLmIpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmEub25IaXQodmFsdWUuYik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcihlbGFwc2VkVGltZTogbnVtYmVyKSB7XHJcbiAgICBiYWNrQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgV0lEVEgsIEhFSUdIVCk7XHJcblxyXG4gICAgZW52aXJvbm1lbnRzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcblxyXG4gICAgcGxheWVyLnJlbmRlcihiYWNrQ29udGV4dCk7XHJcblxyXG4gICAgZW5lbWllcy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnJlbmRlcihiYWNrQ29udGV4dCkpO1xyXG5cclxuICAgIHNob3RzLmZvckVhY2godmFsdWUgPT4gdmFsdWUucmVuZGVyKGJhY2tDb250ZXh0KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhsZXZlbDogbnVtYmVyID0gbnVsbCkge1xyXG4gICAgc2NvcmVFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBzY29yZTtcclxuICAgIGxpdmVzRWxlbWVudC5pbm5lclRleHQgPSBcIlwiICsgcGxheWVyLmxpdmVzO1xyXG4gICAgaWYgKGxldmVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgbGV2ZWxFbGVtZW50LmlubmVyVGV4dCA9IFwiXCIgKyBsZXZlbDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5kR2FtZSgpIHtcclxuICAgIHJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIGlmIChjb25maXJtKFwiR2FtZSBvdmVyIVwiKSlcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxufVxyXG5cclxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3Ige1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCAvKnByaXZhdGUgbW9kWDogbnVtYmVyLCBwcml2YXRlIG1vZFk6IG51bWJlciovKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tKHg6IG51bWJlciwgeTogbnVtYmVyLyosIG1vZFg6IG51bWJlciwgbW9kWTogbnVtYmVyKi8pOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHkvKiwgbW9kWCwgbW9kWSovKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21PdGhlcihvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihvdGhlci54LCBvdGhlci55LyosIG90aGVyLm1vZFgsIG90aGVyLm1vZFkqLyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyB6ZXJvKC8qbW9kWDogbnVtYmVyLCBtb2RZOiBudW1iZXIqLyk6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoMCwgMC8qLCBtb2RYLCBtb2RZKi8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29uc3RydWN0KG1hZ25pdHVkZTogbnVtYmVyLCBhbmdsZTogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihtYWduaXR1ZGUgKiBNYXRoLmNvcyhyYWQoYW5nbGUpKSwgbWFnbml0dWRlICogTWF0aC5zaW4ocmFkKGFuZ2xlKSkpLnJvdGF0ZSgtOTApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1plcm8oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PSAwICYmIHRoaXMueSA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGQoYTogVmVjdG9yLCBiOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbU90aGVyKGEpLmFkZChiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkKG90aGVyOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHRoaXMueCArPSBvdGhlci54O1xyXG4gICAgICAgIHRoaXMueSArPSBvdGhlci55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcm90YXRlKHZlY3RvcjogVmVjdG9yLCBhbmdsZTogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLnJvdGF0ZShhbmdsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJvdGF0ZShhbmdsZTogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICBsZXQgb2xkWCA9IHRoaXMueDtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnggKiBNYXRoLmNvcyhyYWQoYW5nbGUpKSAtIHRoaXMueSAqIE1hdGguc2luKHJhZChhbmdsZSkpO1xyXG4gICAgICAgIHRoaXMueSA9IG9sZFggKiBNYXRoLnNpbihyYWQoYW5nbGUpKSArIHRoaXMueSAqIE1hdGguY29zKHJhZChhbmdsZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2NhbGUodmVjdG9yOiBWZWN0b3IsIHNjYWxhcjogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmZyb21PdGhlcih2ZWN0b3IpLnNjYWxlKHNjYWxhcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNjYWxlKHNjYWxhcjogbnVtYmVyKTogVmVjdG9yIHtcclxuICAgICAgICB0aGlzLnggKj0gc2NhbGFyO1xyXG4gICAgICAgIHRoaXMueSAqPSBzY2FsYXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBub3JtYWxpemUodmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZnJvbU90aGVyKHZlY3Rvcikubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5vcm1hbGl6ZSgpOiBWZWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hZ25pdHVkZSgpID09PSAwID8gdGhpcyA6IHRoaXMuc2NhbGUoMSAvIHRoaXMubWFnbml0dWRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGVycGVuZGljdWxhcih2ZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5mcm9tT3RoZXIodmVjdG9yKS5wZXJwZW5kaWN1bGFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBlcnBlbmRpY3VsYXIoKTogVmVjdG9yIHtcclxuICAgICAgICBsZXQgb2xkWCA9IHRoaXMueDtcclxuICAgICAgICB0aGlzLnggPSAtdGhpcy55O1xyXG4gICAgICAgIHRoaXMueSA9IG9sZFg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBkb3RQcm9kdWN0KGE6IFZlY3RvciwgYjogVmVjdG9yKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gYS54ICogYi54ICsgYS55ICogYi55O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkb3RQcm9kdWN0KG90aGVyOiBWZWN0b3IpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuZG90UHJvZHVjdCh0aGlzLCBvdGhlcik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW9kKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhZChuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIG4gKiAoTWF0aC5QSSAvIDE4MCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcChuOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgbWluKSwgbWF4KTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=